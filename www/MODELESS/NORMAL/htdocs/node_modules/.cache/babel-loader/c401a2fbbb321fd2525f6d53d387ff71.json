{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/thread-loader/dist/cjs.js!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/ContactsCallLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/ContactsCallLog.vue","mtime":1600155105014},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/thread-loader/dist/cjs.js","mtime":1600155105122},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCmltcG9ydCBDb21tb25QYWdlIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25QYWdlLnZ1ZSI7CmltcG9ydCB7IHNob3dSZXF1ZXN0U3VjY2VzcywgZGVlcENsb25lLCBpc0FuSW50ZXJnZXIsIGdldEl0ZW1CeUtleSwgZGF0ZUZ0dCwgZm9ybWF0QU1QTSwgb25XZWJIYW5ndXAgfSBmcm9tICJAL2pzL2NvbW1vbi5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb21tb25QYWdlOiBDb21tb25QYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhbmdlZENmZ0RhdGE6IHt9LAogICAgICBzdWJtaXRDZmdEYXRhOiB7fSwKICAgICAgYXBpRGF0YToge30sCiAgICAgIGRhdGE6IHsKICAgICAgICBnZXREYXRhU3VjY2VzczogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBnZXREYXRhKHRoaXMpOwogIH0sCiAgbWV0aG9kczogewogICAgb25Db21tb25QYWdlRGF0YUNoYW5nZTogZnVuY3Rpb24gb25Db21tb25QYWdlRGF0YUNoYW5nZShldmVudCkgewogICAgICBzZXRDaGFuZ2VkRGF0YSh0aGlzLCBldmVudCk7IC8vdGhpcy5jaGFuZ2VkQ2ZnRGF0YVtldmVudC5pdGVtS2V5XSA9IGV2ZW50Lm5ld1ZhbDsKICAgIH0KICB9Cn07CgpmdW5jdGlvbiBzZXRDaGFuZ2VkRGF0YSh2bSwgZXZlbnQpIHsKICBpZiAoZXZlbnQuY29udGVudEtleSA9PSAiY2FsbGxvZyIpIHsKICAgIGlmIChldmVudC5pdGVtS2V5ID09ICJjYWxsSGlzdG9yeVR5cGUiKSB7CiAgICAgIGdldENhbGxMb2dzVGFibGVEYXRhKHZtLCAxKTsKICAgIH0gZWxzZSB7CiAgICAgIHZtLmNoYW5nZWRDZmdEYXRhW2V2ZW50Lml0ZW1LZXldID0gZXZlbnQubmV3VmFsOwogICAgfQogIH0KfQoKZnVuY3Rpb24gc3VibWl0RGF0YSh2bSkgewogIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IHRydWU7CiAgdmFyIHJlcXVlc3REYXRhID0gewogICAgdGFyZ2V0OiAicGhvbmVDYWxsTG9nIiwKICAgIGFjdGlvbjogInNldCIsCiAgICBjb25maWdEYXRhOiB2bS5zdWJtaXRDZmdEYXRhCiAgfTsKICB2bS4kYXhpb3MucG9zdCgiYXBpIiwgcmVxdWVzdERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0pOwogICAgdm0uZGF0YS5zdWJtaXRMb2FkaW5nID0gZmFsc2U7CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldERhdGEodm0pIHsKICB2bS4kYXhpb3MuZ2V0KCJhcGkvcGhvbmVDYWxsTG9nL2luZm8iKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgdm0uZ2V0RGF0YVN1Y2Nlc3MgPSB0cnVlOwogICAgdm0uYXBpRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICB2bS5jaGFuZ2VkQ2ZnRGF0YSA9IGRlZXBDbG9uZShyZXNwb25zZS5kYXRhLmNvbmZpZ0RhdGEpOwogICAgY3JlYXRlUGFnZURhdGEodm0pOwogIH0pOwp9CgpmdW5jdGlvbiBnZXRDb21taXREYXRhKHZtKSB7CiAgdm0uc3VibWl0Q2ZnRGF0YSA9IHt9OwoKICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7CiAgICBpZiAodm0uYXBpRGF0YS5jb25maWdEYXRhW2NoYW5nZWRLZXldICE9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldKSB7CiAgICAgIHZtLnN1Ym1pdENmZ0RhdGFbY2hhbmdlZEtleV0gPSB2bS5jaGFuZ2VkQ2ZnRGF0YVtjaGFuZ2VkS2V5XTsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGNoZWNrQ29tbWl0RGF0YSh2bSkgewogIHJldHVybiBjaGVja0NhbGxMb2codm0pOwp9CgpmdW5jdGlvbiBjaGVja0NhbGxMb2codm0pIHsKICB2YXIgc3VjY2VzcyA9IHRydWU7CiAgdmFyIHVwcGVyTGltaXQgPSBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImNhbGxsb2ciLCAiQ29uZmlnLlNldHRpbmdzLkNhcHR1cmUuVXBwZXJMaW1pdCIpOwoKICBpZiAodm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5DYXB0dXJlLlVwcGVyTGltaXQiXSA9PSAiIikgewogICAgdXBwZXJMaW1pdC5pc1dhcm4gPSB0cnVlOwogICAgdXBwZXJMaW1pdC53YXJuTGFiZWwgPSB2bS4kdCgiVXBwZXJMaW1pdFdhcm5pbmciKTsKICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICB9CgogIGlmICghaXNBbkludGVyZ2VyKHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5VcHBlckxpbWl0Il0pKSB7CiAgICB1cHBlckxpbWl0LmlzV2FybiA9IHRydWU7CiAgICB1cHBlckxpbWl0Lndhcm5MYWJlbCA9IHZtLiR0KCJWYWx1ZU11c3RCZU51bWJlciIpOwogICAgc3VjY2VzcyA9IGZhbHNlOwogIH0gZWxzZSB7CiAgICBpZiAodm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5DYXB0dXJlLlVwcGVyTGltaXQiXSA8PSAwKSB7CiAgICAgIHVwcGVyTGltaXQuaXNXYXJuID0gdHJ1ZTsKICAgICAgdXBwZXJMaW1pdC53YXJuTGFiZWwgPSB2bS4kdCgiVmFsdWVHcmVhdGVyMEluZm8iKTsKICAgICAgc3VjY2VzcyA9IGZhbHNlOwogICAgfQogIH0KCiAgcmV0dXJuIHN1Y2Nlc3M7Cn0KCmZ1bmN0aW9uIGNyZWF0ZVBhZ2VEYXRhKHZtKSB7CiAgdm0uZGF0YSA9IHsKICAgIGdldERhdGFTdWNjZXNzOiB0cnVlLAogICAgYnJlYWRDcnVtYjogewogICAgICBmaXJzdFRpdGxlOiB2bS4kdCgiQ29udGFjdHMiKSwKICAgICAgc2Vjb25kVGl0bGU6IHZtLiR0KCJDYWxsTG9nIikKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIGlmICghY2hlY2tDb21taXREYXRhKHZtKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgZ2V0Q29tbWl0RGF0YSh2bSk7CiAgICAgIHN1Ym1pdERhdGEodm0pOwogICAgfSwKICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiBvbkNhbmNlbCgpIHsKICAgICAgdm0uZGF0YS5jYW5jZWxMb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0RGF0YSh2bSk7CiAgICB9LAogICAgc3VibWl0TG9hZGluZzogZmFsc2UsCiAgICBjYW5jZWxMb2FkaW5nOiBmYWxzZSwKICAgIGNvbnRlbnRzOiBbXQogIH07CiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZUNhbGxMb2dDb250ZW50KHZtKSk7CiAgZ2V0Q2FsbExvZ3NUYWJsZURhdGEodm0sIDEpOwp9CgpmdW5jdGlvbiBjcmVhdGVDYWxsTG9nQ29udGVudCh2bSkgewogIC8vY2FsbCBsb2cgdHlwZSBpdGVtcwogIHZhciBjYWxsTG9nVHlwZUl0ZW1zID0gW3sKICAgIGtleTogMCwKICAgIGxhYmVsOiB2bS4kdCgiQWxsIikKICB9LCB7CiAgICBrZXk6IDEsCiAgICBsYWJlbDogdm0uJHQoIkRpYWxlZCIpCiAgfSwgewogICAga2V5OiAyLAogICAgbGFiZWw6IHZtLiR0KCJSZWNlaXZlZCIpCiAgfSwgewogICAga2V5OiAzLAogICAgbGFiZWw6IHZtLiR0KCJNaXNzZWQiKQogIH0sIHsKICAgIGtleTogNCwKICAgIGxhYmVsOiB2bS4kdCgiRm9yd2FyZGVkIikKICB9XTsgLy9jYXB0dXJlIGRlbGF5IGl0ZW1zCgogIHZhciBjYXB0dXJlRGVsYXlJdGVtcyA9IFtdOwoKICBmb3IgKHZhciBpID0gMDsgaSA8PSAxMDsgaSsrKSB7CiAgICBjYXB0dXJlRGVsYXlJdGVtcy5wdXNoKHsKICAgICAga2V5OiBpLAogICAgICBsYWJlbDogaSArICIgIiArIHZtLiR0KCJTZWNvbmQiKQogICAgfSk7CiAgfSAvL3RhYmxlIGZvb3RlcgoKCiAgdmFyIHRhYmxlRm9vdGVyRGF0YSA9IHsKICAgIG9uRGVsZXRlOiBmdW5jdGlvbiBvbkRlbGV0ZSgpIHsKICAgICAgb25EZWxldGVMb2codm0sICJzZWxlY3QiKTsKICAgIH0sCiAgICBvbkRlbGV0ZUFsbDogZnVuY3Rpb24gb25EZWxldGVBbGwoKSB7CiAgICAgIG9uRGVsZXRlTG9nKHZtLCAiYWxsIik7CiAgICB9LAogICAgb25QYWdlQ2hhbmdlOiBmdW5jdGlvbiBvblBhZ2VDaGFuZ2UocGFnZSkgewogICAgICBnZXRDYWxsTG9nc1RhYmxlRGF0YSh2bSwgcGFnZSk7CiAgICB9LAogICAgc3VtOiAwLAogICAgcGFnZU51bWJlcjogMTUsCiAgICBjdXJQYWdlOiAwLAogICAgZGVsZXRlRGlzYWJsZWQ6IHRydWUsCiAgICBkZWxldGVBbGxEaXNhYmxlZDogZmFsc2UKICB9OyAvL2NvbnRlbnQKCiAgdmFyIGNvbnRlbnQgPSB7CiAgICBrZXk6ICJjYWxsbG9nIiwKICAgIHRpdGxlOiB2bS4kdCgiQ2FsbExvZyIpLAogICAgdGl0bGVEZXNjcmlwdGlvbjogdm0uJHQoIkNhbGxMb2ciKSwKICAgIGl0ZW1zOiBbewogICAgICB0aXRsZTogdm0uJHQoIkNhcHR1cmVEZWxheSIpLAogICAgICB0eXBlOiAic2VsZWN0IiwKICAgICAga2V5OiAiQ29uZmlnLlNldHRpbmdzLkNhcHR1cmUuRGVsYXkiLAogICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5EZWxheSJdLAogICAgICBzZWxlY3RJdGVtczogY2FwdHVyZURlbGF5SXRlbXMKICAgIH0sIHsKICAgICAgdGl0bGU6IHZtLiR0KCJVcHBlckxpbWl0IiksCiAgICAgIHR5cGU6ICJpbnB1dCIsCiAgICAgIGtleTogIkNvbmZpZy5TZXR0aW5ncy5DYXB0dXJlLlVwcGVyTGltaXQiLAogICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5VcHBlckxpbWl0Il0sCiAgICAgIGlzV2FybjogZmFsc2UsCiAgICAgIHdhcm5MYWJlbDogdm0uJHQoIlVwcGVyTGltaXRXYXJuaW5nIikKICAgIH0sIHsKICAgICAgdGl0bGU6IHZtLiR0KCJDYWxsSGlzdG9yeSIpLAogICAgICB0eXBlOiAic2VsZWN0IiwKICAgICAgc2hvd0NhbGxMb2dCdG46IHRydWUsCiAgICAgIGtleTogImNhbGxIaXN0b3J5VHlwZSIsCiAgICAgIHZhbHVlOiAiMCIsCiAgICAgIHNlbGVjdEl0ZW1zOiBjYWxsTG9nVHlwZUl0ZW1zLAogICAgICBvbkhhbmd1cDogZnVuY3Rpb24gb25IYW5ndXAoKSB7CiAgICAgICAgb25XZWJIYW5ndXAodm0pOwogICAgICB9LAogICAgICBvbkV4cG9ydDogZnVuY3Rpb24gb25FeHBvcnQoKSB7CiAgICAgICAgX29uRXhwb3J0KHZtKTsKICAgICAgfQogICAgfSwgewogICAgICB0eXBlOiAidGFibGUiLAogICAgICBrZXk6ICJjYWxsbG9nIiwKICAgICAgc2hvd0Zvb3RlcjogdHJ1ZSwKICAgICAgc2hvd1Jvd1NlbGVjdGlvbjogdHJ1ZSwKICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBbXSwKICAgICAgdGFibGVGb290ZXJEYXRhOiB0YWJsZUZvb3RlckRhdGEsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRhYmxlQ29sdW1uczogW3sKICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgIHRpdGxlOiB2bS4kdCgiSW5kZXgiKSwKICAgICAgICBkYXRhSW5kZXg6ICJpbmRleCIsCiAgICAgICAgc2NvcGVkU2xvdHM6IHsKICAgICAgICAgIGN1c3RvbVJlbmRlcjogImluZGV4IgogICAgICAgIH0sCiAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgIHdpZHRoOiAiMTAlIgogICAgICB9LCB7CiAgICAgICAgdHlwZTogImxhYmVsIiwKICAgICAgICB0aXRsZTogdm0uJHQoIlR5cGUiKSwKICAgICAgICBkYXRhSW5kZXg6ICJ0eXBlIiwKICAgICAgICBzY29wZWRTbG90czogewogICAgICAgICAgY3VzdG9tUmVuZGVyOiAidHlwZSIKICAgICAgICB9LAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICB3aWR0aDogIjEwJSIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICJsYWJlbCIsCiAgICAgICAgdGl0bGU6IHZtLiR0KCJEYXRlTGFiZWwiKSwKICAgICAgICBkYXRhSW5kZXg6ICJkYXRlIiwKICAgICAgICBzY29wZWRTbG90czogewogICAgICAgICAgY3VzdG9tUmVuZGVyOiAiZGF0ZSIKICAgICAgICB9LAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICB3aWR0aDogIjEwJSIKICAgICAgfSwgewogICAgICAgIHR5cGU6ICJsYWJlbCIsCiAgICAgICAgdGl0bGU6IHZtLiR0KCJUaW1lIiksCiAgICAgICAgZGF0YUluZGV4OiAidGltZSIsCiAgICAgICAgc2NvcGVkU2xvdHM6IHsKICAgICAgICAgIGN1c3RvbVJlbmRlcjogInRpbWUiCiAgICAgICAgfSwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgd2lkdGg6ICIxMCUiCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgIHRpdGxlOiB2bS4kdCgiTG9jYWxJZGVudGl0eSIpLAogICAgICAgIGRhdGFJbmRleDogImlkZW50aXR5IiwKICAgICAgICBzY29wZWRTbG90czogewogICAgICAgICAgY3VzdG9tUmVuZGVyOiAiaWRlbnRpdHkiCiAgICAgICAgfSwKICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgd2lkdGg6ICIyMCUiCiAgICAgIH0sIHsKICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgIHRpdGxlOiB2bS4kdCgiTmFtZSIpLAogICAgICAgIGRhdGFJbmRleDogIm5hbWUiLAogICAgICAgIHNjb3BlZFNsb3RzOiB7CiAgICAgICAgICBjdXN0b21SZW5kZXI6ICJuYW1lIgogICAgICAgIH0sCiAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgIHdpZHRoOiAiMjAlIgogICAgICB9LCB7CiAgICAgICAgdHlwZTogImxhYmVsIiwKICAgICAgICB0aXRsZTogdm0uJHQoIm51bWJlciIpLAogICAgICAgIGRhdGFJbmRleDogIm51bWJlciIsCiAgICAgICAgc2NvcGVkU2xvdHM6IHsKICAgICAgICAgIGN1c3RvbVJlbmRlcjogIm51bWJlciIKICAgICAgICB9LAogICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICB3aWR0aDogIjIwJSIKICAgICAgfV0KICAgIH1dCiAgfTsKICByZXR1cm4gY29udGVudDsKfQoKZnVuY3Rpb24gZ2V0Q2FsbExvZ3NUYWJsZURhdGEodm0sIHBhZ2UpIHsKICB2YXIgZGF0ZUZvcm1hdCA9ICJ5eXl5LU1NLWRkIjsKICB2YXIgYXBpRGF0ZUZvcm1hdCA9IHZtLmFwaURhdGEuY29uZmlnRGF0YVsiQ29uZmlnLlNldHRpbmdzLkRBVEVUSU1FLkRhdGVGb3JtYXQiXTsKCiAgaWYgKGFwaURhdGVGb3JtYXQgPT0gIjAiKSB7CiAgICBkYXRlRm9ybWF0ID0gInl5eXktTU0tZGQiOwogIH0gZWxzZSBpZiAoYXBpRGF0ZUZvcm1hdCA9PSAiMSIpIHsKICAgIGRhdGVGb3JtYXQgPSAieXl5eS9NTS9kZCI7CiAgfSBlbHNlIGlmIChhcGlEYXRlRm9ybWF0ID09ICIyIikgewogICAgZGF0ZUZvcm1hdCA9ICJkZC1NTS15eXl5IjsKICB9IGVsc2UgaWYgKGFwaURhdGVGb3JtYXQgPT0gIjMiKSB7CiAgICBkYXRlRm9ybWF0ID0gImRkL01NL3l5eXkiOwogIH0gZWxzZSBpZiAoYXBpRGF0ZUZvcm1hdCA9PSAiNiIpIHsKICAgIGRhdGVGb3JtYXQgPSAiTU0tZGQteXl5eSI7CiAgfSBlbHNlIGlmIChhcGlEYXRlRm9ybWF0ID09ICI3IikgewogICAgZGF0ZUZvcm1hdCA9ICJNTS9kZC95eXl5IjsKICB9CgogIHZtLiRheGlvcy5nZXQoImFwaS9waG9uZUNhbGxMb2cvZ2V0P3BhZ2U9IiArIHBhZ2UgKyAiJnR5cGU9IiArIGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsSGlzdG9yeVR5cGUiKS52YWx1ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIHZhciB0YWJsZURhdGEgPSBbXTsKICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YS5kYXRhOwogICAgdmFyIHR5cGVzID0gbmV3IEFycmF5KHZtLiR0KCJBbGwiKSwgdm0uJHQoIkRpYWxlZCIpLCB2bS4kdCgiUmVjZWl2ZWQiKSwgdm0uJHQoIk1pc3NlZCIpLCB2bS4kdCgiRm9yd2FyZGVkIikpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jYWxsTG9nTGlzdC5sZW5ndGg7IGkrKykgewogICAgICB2YXIgaXRlbSA9IHsKICAgICAgICBrZXk6IGRhdGEuY2FsbExvZ0xpc3RbaV0uaWQsCiAgICAgICAgaW5kZXg6IGkgKyAxLAogICAgICAgIHR5cGU6IHR5cGVzW2RhdGEuY2FsbExvZ0xpc3RbaV0udHlwZV0sCiAgICAgICAgZGF0ZTogZGF0ZUZ0dChkYXRlRm9ybWF0LCBuZXcgRGF0ZShkYXRhLmNhbGxMb2dMaXN0W2ldLmRhdGUpKSwKICAgICAgICB0aW1lOiB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5EQVRFVElNRS5UaW1lRm9ybWF0Il0gPT0gIjAiID8gZm9ybWF0QU1QTShuZXcgRGF0ZShkYXRhLmNhbGxMb2dMaXN0W2ldLmRhdGUgKyAiICIgKyBkYXRhLmNhbGxMb2dMaXN0W2ldLnRpbWUpKSA6IGRhdGEuY2FsbExvZ0xpc3RbaV0udGltZSwKICAgICAgICBpZGVudGl0eTogZGF0YS5jYWxsTG9nTGlzdFtpXS5pZGVudGl0eSwKICAgICAgICBuYW1lOiBkYXRhLmNhbGxMb2dMaXN0W2ldLm5hbWUsCiAgICAgICAgbnVtYmVyOiBkYXRhLmNhbGxMb2dMaXN0W2ldLm51bWJlcgogICAgICB9OwogICAgICB0YWJsZURhdGEucHVzaChpdGVtKTsKICAgIH0KCiAgICBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImNhbGxsb2ciLCAiY2FsbGxvZyIpLnRhYmxlRGF0YSA9IHRhYmxlRGF0YTsKICAgIGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsbG9nIikudGFibGVGb290ZXJEYXRhLnN1bSA9IGRhdGEuc3VtOwogICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJjYWxsbG9nIiwgImNhbGxsb2ciKS50YWJsZUZvb3RlckRhdGEucGFnZU51bWJlciA9IGRhdGEucGFnZU51bTsKICAgIGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsbG9nIikudGFibGVGb290ZXJEYXRhLmN1clBhZ2UgPSBwYWdlOwogICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJjYWxsbG9nIiwgImNhbGxsb2ciKS5zZWxlY3RlZFJvd0tleXMgPSBbXTsKICB9KTsKfQoKZnVuY3Rpb24gb25EZWxldGVMb2codm0sIHR5cGUpIHsKICBpZiAoIWNvbmZpcm0odHlwZSA9PSAiYWxsIiA/IHZtLiR0KCJEZWxldGVBbGxDb25maXJtIikgOiB2bS4kdCgiRGVsZXRlU2VsZWN0ZWRDb25maXJtIikpKSB7CiAgICByZXR1cm47CiAgfQoKICB2YXIgc2VsZWN0ZWRSb3dLZXlzID0gZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJjYWxsbG9nIiwgImNhbGxsb2ciKS5zZWxlY3RlZFJvd0tleXM7CiAgdmFyIHJlcXVlc3REYXRhID0gewogICAgdGFyZ2V0OiAicGhvbmVDYWxsTG9nIiwKICAgIGFjdGlvbjogImRlbCIsCiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IHR5cGUsCiAgICAgIGlkczogc2VsZWN0ZWRSb3dLZXlzLAogICAgICBsb2dUeXBlOiBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImNhbGxsb2ciLCAiY2FsbEhpc3RvcnlUeXBlIikudmFsdWUKICAgIH0KICB9OwogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgIHNob3dSZXF1ZXN0U3VjY2Vzcyh2bSwgdm0uJHQoIkNhbGxMb2dEZWxldGVTdWNjZXNzIikpOwogICAgdmFyIHRhYmxlRm9vdGVyRGF0YSA9IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsbG9nIikudGFibGVGb290ZXJEYXRhOwoKICAgIGlmICh0eXBlICE9ICJhbGwiKSB7CiAgICAgIHZhciBzdW1QYWdlID0gTWF0aC5jZWlsKCh0YWJsZUZvb3RlckRhdGEuc3VtIC0gc2VsZWN0ZWRSb3dLZXlzLmxlbmd0aCkgLyB0YWJsZUZvb3RlckRhdGEucGFnZU51bWJlcik7CiAgICAgIHN1bVBhZ2UgPSBzdW1QYWdlID09IDAgPyAxIDogc3VtUGFnZTsKICAgICAgdmFyIHBhZ2UgPSB0YWJsZUZvb3RlckRhdGEuY3VyUGFnZSA+PSBzdW1QYWdlID8gc3VtUGFnZSA6IHRhYmxlRm9vdGVyRGF0YS5jdXJQYWdlOwogICAgICBnZXRDYWxsTG9nc1RhYmxlRGF0YSh2bSwgcGFnZSk7CiAgICB9IGVsc2UgewogICAgICBnZXRDYWxsTG9nc1RhYmxlRGF0YSh2bSwgMSk7CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIF9vbkV4cG9ydCh2bSkgewogIHZhciByZXF1ZXN0RGF0YSA9IHsKICAgIHRhcmdldDogInBob25lQ2FsbExvZyIsCiAgICBhY3Rpb246ICJleHBvcnQiCiAgfTsKICB2bS4kYXhpb3MucG9zdCgiYXBpIiwgcmVxdWVzdERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0sIHZtLiR0KCJFeHBvcnRTdWNjZXNzIikpOwogICAgdmFyIGFkZHJlc3MgPSByZXNwb25zZS5kYXRhLmRhdGEuYWRkcmVzczsKICAgIHdpbmRvdy5vcGVuKGFkZHJlc3MpOwogIH0pOwp9"},null]}