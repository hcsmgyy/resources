{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/SecurityAdvanced.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/SecurityAdvanced.vue","mtime":1600155105014},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KaW1wb3J0IENvbW1vblBhZ2UgZnJvbSAiQC9jb21wb25lbnRzL0NvbW1vblBhZ2UudnVlIjsKaW1wb3J0IHsgc2hvd1JlcXVlc3RTdWNjZXNzLCBkZWVwQ2xvbmUsIGdldEluZGV4QnlLZXksIGdldEl0ZW1CeUtleSB9IGZyb20gIkAvanMvY29tbW9uLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvbW1vblBhZ2U6IENvbW1vblBhZ2UKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFuZ2VkQ2ZnRGF0YToge30sCiAgICAgIHN1Ym1pdENmZ0RhdGE6IHt9LAogICAgICBhcGlEYXRhOiB7fSwKICAgICAgZGF0YTogewogICAgICAgIGdldERhdGFTdWNjZXNzOiBmYWxzZQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGdldERhdGEodGhpcyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNvbW1vblBhZ2VEYXRhQ2hhbmdlOiBmdW5jdGlvbiBvbkNvbW1vblBhZ2VEYXRhQ2hhbmdlKGV2ZW50KSB7CiAgICAgIHRoaXMuY2hhbmdlZENmZ0RhdGFbZXZlbnQuaXRlbUtleV0gPSBldmVudC5uZXdWYWw7CiAgICB9CiAgfQp9OwoKZnVuY3Rpb24gZ2V0RGF0YSh2bSkgewogIHZtLiRheGlvcy5nZXQoImFwaS9zZWN1cml0eUFkdmFuY2VkL2luZm8iKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgdm0uZ2V0RGF0YVN1Y2Nlc3MgPSB0cnVlOwogICAgdm0uYXBpRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICB2bS5jaGFuZ2VkQ2ZnRGF0YSA9IGRlZXBDbG9uZShyZXNwb25zZS5kYXRhLmNvbmZpZ0RhdGEpOwogICAgY3JlYXRlUGFnZURhdGEodm0pOwogIH0pOwp9CgpmdW5jdGlvbiBzdWJtaXREYXRhKHZtKSB7CiAgdm0uZGF0YS5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsKICB2YXIgcmVxdWVzdERhdGEgPSB7CiAgICB0YXJnZXQ6ICJzZWN1cml0eUFkdmFuY2VkIiwKICAgIGFjdGlvbjogInNldCIsCiAgICBjb25maWdEYXRhOiB2bS5zdWJtaXRDZmdEYXRhCiAgfTsKICB2bS4kYXhpb3MucG9zdCgiYXBpIiwgcmVxdWVzdERhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0pOwogICAgdm0uZGF0YS5zdWJtaXRMb2FkaW5nID0gZmFsc2U7CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldENvbW1pdERhdGEodm0pIHsKICB2bS5zdWJtaXRDZmdEYXRhID0ge307CgogIGZvciAodmFyIGNoYW5nZWRLZXkgaW4gdm0uY2hhbmdlZENmZ0RhdGEpIHsKICAgIGlmICh2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbY2hhbmdlZEtleV0gIT0gdm0uY2hhbmdlZENmZ0RhdGFbY2hhbmdlZEtleV0pIHsKICAgICAgdm0uc3VibWl0Q2ZnRGF0YVtjaGFuZ2VkS2V5XSA9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldOwogICAgfQogIH0KfQoKZnVuY3Rpb24gY2hlY2tDb21taXREYXRhKHZtKSB7CiAgdmFyIHN1Y2Nlc3MgPSB0cnVlOwogIHJldHVybiBzdWNjZXNzOwp9CgpmdW5jdGlvbiBjcmVhdGVQYWdlRGF0YSh2bSkgewogIHZtLmRhdGEgPSB7CiAgICBnZXREYXRhU3VjY2VzczogdHJ1ZSwKICAgIGJyZWFkQ3J1bWI6IHsKICAgICAgZmlyc3RUaXRsZTogdm0uJHQoIlNlY3VyaXR5IiksCiAgICAgIHNlY29uZFRpdGxlOiB2bS4kdCgiQWR2YW5jZSIpCiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICBnZXRDb21taXREYXRhKHZtKTsKCiAgICAgIGlmICghY2hlY2tDb21taXREYXRhKHZtKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgc3VibWl0RGF0YSh2bSk7CiAgICB9LAogICAgb25DYW5jZWw6IGZ1bmN0aW9uIG9uQ2FuY2VsKCkgewogICAgICB2bS5kYXRhLmNhbmNlbExvYWRpbmcgPSB0cnVlOwogICAgICBnZXREYXRhKHZtKTsKICAgIH0sCiAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwKICAgIGNhbmNlbExvYWRpbmc6IGZhbHNlLAogICAgY29udGVudHM6IFtdCiAgfTsKICB2bS5kYXRhLmNvbnRlbnRzLnB1c2goY3JlYXRlU2VydmljZUNvbnRlbnQodm0pKTsKfQoKZnVuY3Rpb24gY3JlYXRlU2VydmljZUNvbnRlbnQodm0pIHsKICB2YXIgY29udGVudCA9IHsKICAgIGtleTogInNlcnZpY2UiLAogICAgdGl0bGU6IHZtLiR0KCJTZXJ2aWNlTGFiZWwiKSwKICAgIHRpdGxlRGVzY3JpcHRpb246IHZtLiR0KCJTZXJ2aWNlTGFiZWwiKSwKICAgIGl0ZW1zOiBbewogICAgICB0aXRsZTogdm0uJHQoIkxvY2F0aW9uTGFiZWwiKSwKICAgICAgdHlwZTogInNlbGVjdCIsCiAgICAgIGtleTogIkNvbmZpZy5TZXR0aW5ncy5TRVJWSUNFLkxvY2F0aW9uIiwKICAgICAgdmFsdWU6IHZtLmFwaURhdGEuY29uZmlnRGF0YVsiQ29uZmlnLlNldHRpbmdzLlNFUlZJQ0UuTG9jYXRpb24iXSwKICAgICAgc2VsZWN0SXRlbXM6IFt7CiAgICAgICAga2V5OiAwLAogICAgICAgIGxhYmVsOiB2bS4kdCgiRGlzYWJsZWQiKQogICAgICB9LCB7CiAgICAgICAga2V5OiAxLAogICAgICAgIGxhYmVsOiB2bS4kdCgiT25seURldmljZSIpCiAgICAgIH0sIHsKICAgICAgICBrZXk6IDIsCiAgICAgICAgbGFiZWw6IHZtLiR0KCJIaWdoQWNjdXJhY3kiKQogICAgICB9XQogICAgfV0KICB9OwogIHJldHVybiBjb250ZW50Owp9"},{"version":3,"sources":["SecurityAdvanced.vue"],"names":[],"mappings":";;;;AAKA,OAAA,UAAA,MAAA,6BAAA;AACA,SACA,kBADA,EAEA,SAFA,EAGA,aAHA,EAIA,YAJA,QAKA,gBALA;AAOA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,EADA;AAEA,MAAA,aAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA;AACA,QAAA,cAAA,EAAA;AADA;AAJA,KAAA;AAQA,GAbA;AAcA,EAAA,OAdA,qBAcA;AACA,IAAA,OAAA,CAAA,IAAA,CAAA;AACA,GAhBA;AAiBA,EAAA,OAAA,EAAA;AACA,IAAA,sBAAA,EAAA,gCAAA,KAAA,EAAA;AACA,WAAA,cAAA,CAAA,KAAA,CAAA,OAAA,IAAA,KAAA,CAAA,MAAA;AACA;AAHA;AAjBA,CAAA;;AAwBA,SAAA,OAAA,CAAA,EAAA,EAAA;AACA,EAAA,EAAA,CAAA,MAAA,CAAA,GAAA,CAAA,2BAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,IAAA,EAAA,CAAA,cAAA,GAAA,IAAA;AACA,IAAA,EAAA,CAAA,OAAA,GAAA,QAAA,CAAA,IAAA;AACA,IAAA,EAAA,CAAA,cAAA,GAAA,SAAA,CAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AACA,IAAA,cAAA,CAAA,EAAA,CAAA;AACA,GALA;AAMA;;AAEA,SAAA,UAAA,CAAA,EAAA,EAAA;AACA,EAAA,EAAA,CAAA,IAAA,CAAA,aAAA,GAAA,IAAA;AAEA,MAAA,WAAA,GAAA;AACA,IAAA,MAAA,EAAA,kBADA;AAEA,IAAA,MAAA,EAAA,KAFA;AAGA,IAAA,UAAA,EAAA,EAAA,CAAA;AAHA,GAAA;AAKA,EAAA,EAAA,CAAA,MAAA,CAAA,IAAA,CAAA,KAAA,EAAA,WAAA,EAAA,IAAA,CAAA,UAAA,QAAA,EAAA;AACA,IAAA,kBAAA,CAAA,EAAA,CAAA;AACA,IAAA,EAAA,CAAA,IAAA,CAAA,aAAA,GAAA,KAAA;AACA,GAHA;AAIA;;AAEA,SAAA,aAAA,CAAA,EAAA,EAAA;AACA,EAAA,EAAA,CAAA,aAAA,GAAA,EAAA;;AACA,OAAA,IAAA,UAAA,IAAA,EAAA,CAAA,cAAA,EAAA;AACA,QAAA,EAAA,CAAA,OAAA,CAAA,UAAA,CAAA,UAAA,KAAA,EAAA,CAAA,cAAA,CAAA,UAAA,CAAA,EAAA;AACA,MAAA,EAAA,CAAA,aAAA,CAAA,UAAA,IAAA,EAAA,CAAA,cAAA,CAAA,UAAA,CAAA;AACA;AACA;AACA;;AAEA,SAAA,eAAA,CAAA,EAAA,EAAA;AACA,MAAA,OAAA,GAAA,IAAA;AACA,SAAA,OAAA;AACA;;AAEA,SAAA,cAAA,CAAA,EAAA,EAAA;AACA,EAAA,EAAA,CAAA,IAAA,GAAA;AACA,IAAA,cAAA,EAAA,IADA;AAEA,IAAA,UAAA,EAAA;AACA,MAAA,UAAA,EAAA,EAAA,CAAA,EAAA,CAAA,UAAA,CADA;AAEA,MAAA,WAAA,EAAA,EAAA,CAAA,EAAA,CAAA,SAAA;AAFA,KAFA;AAMA,IAAA,QAAA,EAAA,oBAAA;AACA,MAAA,aAAA,CAAA,EAAA,CAAA;;AACA,UAAA,CAAA,eAAA,CAAA,EAAA,CAAA,EAAA;AACA;AACA;;AACA,MAAA,UAAA,CAAA,EAAA,CAAA;AACA,KAZA;AAaA,IAAA,QAAA,EAAA,oBAAA;AACA,MAAA,EAAA,CAAA,IAAA,CAAA,aAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,EAAA,CAAA;AACA,KAhBA;AAiBA,IAAA,aAAA,EAAA,KAjBA;AAkBA,IAAA,aAAA,EAAA,KAlBA;AAmBA,IAAA,QAAA,EAAA;AAnBA,GAAA;AAqBA,EAAA,EAAA,CAAA,IAAA,CAAA,QAAA,CAAA,IAAA,CAAA,oBAAA,CAAA,EAAA,CAAA;AACA;;AAEA,SAAA,oBAAA,CAAA,EAAA,EAAA;AACA,MAAA,OAAA,GAAA;AACA,IAAA,GAAA,EAAA,SADA;AAEA,IAAA,KAAA,EAAA,EAAA,CAAA,EAAA,CAAA,cAAA,CAFA;AAGA,IAAA,gBAAA,EAAA,EAAA,CAAA,EAAA,CAAA,cAAA,CAHA;AAIA,IAAA,KAAA,EAAA,CACA;AACA,MAAA,KAAA,EAAA,EAAA,CAAA,EAAA,CAAA,eAAA,CADA;AAEA,MAAA,IAAA,EAAA,QAFA;AAGA,MAAA,GAAA,EAAA,kCAHA;AAIA,MAAA,KAAA,EAAA,EAAA,CAAA,OAAA,CAAA,UAAA,CAAA,kCAAA,CAJA;AAKA,MAAA,WAAA,EAAA,CACA;AAAA,QAAA,GAAA,EAAA,CAAA;AAAA,QAAA,KAAA,EAAA,EAAA,CAAA,EAAA,CAAA,UAAA;AAAA,OADA,EAEA;AAAA,QAAA,GAAA,EAAA,CAAA;AAAA,QAAA,KAAA,EAAA,EAAA,CAAA,EAAA,CAAA,YAAA;AAAA,OAFA,EAGA;AAAA,QAAA,GAAA,EAAA,CAAA;AAAA,QAAA,KAAA,EAAA,EAAA,CAAA,EAAA,CAAA,cAAA;AAAA,OAHA;AALA,KADA;AAJA,GAAA;AAkBA,SAAA,OAAA;AACA","sourcesContent":["<template>\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\n</template>\n\n<script>\nimport CommonPage from \"@/components/CommonPage.vue\";\nimport { \n  showRequestSuccess,\n  deepClone,\n  getIndexByKey,\n  getItemByKey\n} from \"@/js/common.js\";\n\nexport default {\n  components: {\n    CommonPage,\n  },\n  data() {\n    return {\n      changedCfgData:{},\n      submitCfgData:{},\n      apiData: {},\n      data: {\n        getDataSuccess: false,\n      },\n    };\n  },\n  created() {\n    getData(this);\n  },\n  methods: {\n    onCommonPageDataChange: function (event) {\n      this.changedCfgData[event.itemKey] = event.newVal;\n    },\n  },\n};\n\nfunction getData(vm) {\n  vm.$axios.get(\"api/securityAdvanced/info\").then((response) => {\n    vm.getDataSuccess = true;\n    vm.apiData = response.data;\n    vm.changedCfgData = deepClone(response.data.configData);\n    createPageData(vm);\n  });\n}\n\nfunction submitData(vm) {\n  vm.data.submitLoading = true;\n\n  let requestData = {\n    target: \"securityAdvanced\",\n    action: \"set\",\n    configData: vm.submitCfgData,\n  };\n  vm.$axios.post(\"api\", requestData).then((response) => {\n    showRequestSuccess(vm);\n    vm.data.submitLoading = false;\n  });\n}\n\nfunction getCommitData(vm){\n  vm.submitCfgData = {};\n  for (var changedKey in vm.changedCfgData) {\n    if(vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]){\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey]\n    }\n  }\n}\n\nfunction checkCommitData(vm){\n  let success = true;\n  return success;\n}\n\nfunction createPageData(vm) {\n  vm.data = {\n    getDataSuccess: true,\n    breadCrumb: {\n      firstTitle: vm.$t(\"Security\"),\n      secondTitle: vm.$t(\"Advance\"),\n    },\n    onSubmit: function () {\n      getCommitData(vm);\n      if (!checkCommitData(vm)) {\n        return;\n      }\n      submitData(vm);\n    },\n    onCancel: function () {\n      vm.data.cancelLoading = true;\n      getData(vm);\n    },\n    submitLoading: false,\n    cancelLoading: false,\n    contents: [],\n  };\n  vm.data.contents.push(createServiceContent(vm));\n}\n\nfunction createServiceContent(vm) {\n  let content = {\n    key: \"service\",\n    title: vm.$t(\"ServiceLabel\"),\n    titleDescription: vm.$t(\"ServiceLabel\"),\n    items: [\n      {\n        title: vm.$t(\"LocationLabel\"),\n        type: \"select\",\n        key: \"Config.Settings.SERVICE.Location\",\n        value: vm.apiData.configData[\"Config.Settings.SERVICE.Location\"],\n        selectItems: [\n          { key: 0, label: vm.$t(\"Disabled\") },\n          { key: 1, label: vm.$t(\"OnlyDevice\") },\n          { key: 2, label: vm.$t(\"HighAccuracy\") },\n        ],\n      },\n    ],\n  };\n  return content;\n}\n\n</script>"],"sourceRoot":"src/views"}]}