{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js??ref--0-0!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/components/ModalFileInput.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/components/ModalFileInput.vue","mtime":1600155105018},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFBvcG92ZXIgZnJvbSAiQC9jb21wb25lbnRzL1BvcG92ZXIudnVlIjsKaW1wb3J0IHsgY2hlY2tGaWxlRm9ybWF0LCBzaG93RXJyb3JJbmZvIH0gZnJvbSAiQC9qcy9jb21tb24uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgUG9wb3ZlcjogUG9wb3ZlcgogIH0sCiAgcHJvcHM6IHsKICAgIHNob3dEZXNjcmlwdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRlc2NyaXB0aW9uQ29udGVudDogU3RyaW5nLAogICAgbGFiZWxUaXRsZTogU3RyaW5nLAogICAgYWNjZXB0RmlsZVR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiIgogICAgfSwKICAgIGltcG9ydEJ0bk5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiSW1wb3J0IgogICAgfSwKICAgIHVwbG9hZEZ1bmN0aW9uOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICBjb25zb2xlLmxvZygiY2xpY2sgaW1wb3J0Iik7CiAgICAgIH0KICAgIH0sCiAgICB2YWx1ZTogT2JqZWN0LAogICAgbWF4U2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDUwICogMTAyNCAqIDEwMjQKICAgIH0sCiAgICBpbWdSZXNvbHV0aW9uV2lkdGg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAtMQogICAgfSwKICAgIGltZ1Jlc29sdXRpb25IZWlnaHQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAtMQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYmVmb3JlVXBsb2FkOiBmdW5jdGlvbiBiZWZvcmVVcGxvYWQoaW5mbykgewogICAgICAvL2NoZWNrIGZvcm1hdAogICAgICB2YXIgYWNjZXB0VHlwZXMgPSB0aGlzLmFjY2VwdEZpbGVUeXBlLnNwbGl0KCIsIik7CiAgICAgIHZhciBjaGVja1N1Y2Nlc3MgPSBmYWxzZTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWNjZXB0VHlwZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoY2hlY2tGaWxlRm9ybWF0KGluZm8ubmFtZSwgYWNjZXB0VHlwZXNbaV0sIGFjY2VwdFR5cGVzW2ldLmxlbmd0aCkpIHsKICAgICAgICAgIGNoZWNrU3VjY2VzcyA9IHRydWU7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoIWNoZWNrU3VjY2VzcykgewogICAgICAgIHNob3dFcnJvckluZm8odGhpcywgdGhpcy4kdCgiRmlsZUZvcm1hdFdhcm5pbmciKSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vY2hlY2sgZmlsZSBzaXplCgoKICAgICAgaWYgKHRoaXMubWF4U2l6ZSA+IDAgJiYgaW5mby5zaXplID4gdGhpcy5tYXhTaXplKSB7CiAgICAgICAgc2hvd0Vycm9ySW5mbyh0aGlzLCB0aGlzLiR0KCJVcGxvYWRpbmdGaWxlVG9vTGFyZ2VXYXJuaW5nIikpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSAvL2NoZWNrIGZpbGUgbmFtZQoKCiAgICAgIGlmIChpbmZvLm5hbWUubGVuZ3RoID4gMTI3KSB7CiAgICAgICAgc2hvd0Vycm9ySW5mbyh0aGlzLCB0aGlzLiR0KCJXYXJuaW5nRmlsZU5hbWVUb29Mb25nIikpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSAvL2NoZWNrIGltZyByZXNvbHV0aW9uCgoKICAgICAgaWYgKChjaGVja0ZpbGVGb3JtYXQoaW5mby5uYW1lLCAiLlBORyIsIDQpIHx8IGNoZWNrRmlsZUZvcm1hdChpbmZvLm5hbWUsICIuSlBHIiwgNCkgfHwgY2hlY2tGaWxlRm9ybWF0KGluZm8ubmFtZSwgIi5KUEVHIiwgNSkpICYmIHRoaXMuaW1nUmVzb2x1dGlvbldpZHRoID4gMCAmJiB0aGlzLmltZ1Jlc29sdXRpb25IZWlnaHQgPiAwKSB7CiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5mbyk7CiAgICAgICAgdmFyIHZtID0gdGhpczsKCiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgICAgIGltZy5zcmMgPSByZWFkZXIucmVzdWx0OwoKICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmIChpbWcud2lkdGggPiB2bS5pbWdSZXNvbHV0aW9uV2lkdGggfHwgaW1nLmhlaWdodCA+IHZtLmltZ1Jlc29sdXRpb25IZWlnaHQpIHsKICAgICAgICAgICAgICBzaG93RXJyb3JJbmZvKHZtLCB2bS4kdCgiSW1hZ2VSZXNvbHV0aW9uRXJyIikpOwogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpbmZvLmhlaWdodCA9IGltZy5oZWlnaHQ7CiAgICAgICAgICAgICAgaW5mby53aWR0aCA9IGltZy53aWR0aDsKICAgICAgICAgICAgICB2bS5maWxlRGF0YSA9IGluZm87CiAgICAgICAgICAgICAgdm0udmFsdWUuZmlsZU5hbWUgPSBpbmZvLm5hbWU7CiAgICAgICAgICAgICAgdm0ub25DaGFuZ2UoKTsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CgogICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIC8v5Zu+54mH5Yqg6L296ZSZ6K+vCiAgICAgICAgICAgIHNob3dFcnJvckluZm8odm0sIHZtLiR0KCJGaWxlRm9ybWF0V2FybmluZyIpKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfTsKICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIC8vZG9uZQogICAgICAgIHRoaXMuZmlsZURhdGEgPSBpbmZvOwogICAgICAgIHRoaXMudmFsdWUuZmlsZU5hbWUgPSBpbmZvLm5hbWU7CiAgICAgICAgdGhpcy5vbkNoYW5nZSgpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiBvbkNoYW5nZSgpIHsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgZmlsZU5hbWU6IHRoaXMudmFsdWUuZmlsZU5hbWUsCiAgICAgICAgZmlsZURhdGE6IHRoaXMuZmlsZURhdGEKICAgICAgfTsKICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlIiwgZGF0YSk7CiAgICB9LAogICAgb25DYW5jZWw6IGZ1bmN0aW9uIG9uQ2FuY2VsKCkgewogICAgICB0aGlzLnZhbHVlLmZpbGVOYW1lID0gdGhpcy4kdCgiVXBncmFkZUZpbGVQYXRoIik7CiAgICAgIHRoaXMuZmlsZURhdGEgPSB7fTsKICAgICAgdGhpcy5vbkNoYW5nZSgpOwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIGZpbGVOYW1lOiB0aGlzLiR0KCJVcGdyYWRlRmlsZVBhdGgiKSwKICAgICAgZmlsZURhdGE6IHt9LAogICAgICBpbXBvcnRCdG5EaXNhYmxlZDogdHJ1ZQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUobmV3VmFsLCBvbGRWYWwpIHsKICAgICAgdmFyIGZpbGVOYW1lID0gbmV3VmFsLmZpbGVOYW1lOwoKICAgICAgaWYgKGZpbGVOYW1lICE9ICIiICYmIGZpbGVOYW1lICE9IHRoaXMuJHQoIlVwZ3JhZGVGaWxlUGF0aCIpKSB7CiAgICAgICAgdGhpcy5pbXBvcnRCdG5EaXNhYmxlZCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaW1wb3J0QnRuRGlzYWJsZWQgPSB0cnVlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ModalFileInput.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"ak-modal-file-input-div\">\n    <div>\n      <label class=\"ak-modal-file-input-title-label\">{{labelTitle}}</label>\n    </div>\n    <div :style=\"{display:'flex'}\">\n      <div class=\"ak-modal-file-input-file-name\">\n        <label>{{value.fileName}}</label>\n        <a-upload\n          name=\"file\"\n          :showUploadList=\"false\"\n          :accept=\"acceptFileType\"\n          :beforeUpload=\"beforeUpload\"\n          :style=\"{float:'right'}\"\n        >\n          <a-button type=\"file\" class=\"ak-modal-file-input-file-button\">{{$t('UpgradeFile')}}</a-button>\n        </a-upload>\n      </div>\n      <a-button\n        type=\"primary\"\n        class=\"ak-modal-file-input-btn\"\n        @click=\"onCancel\"\n        :disabled=\"importBtnDisabled\"\n      >{{ importBtnName }}</a-button>\n\n      <Popover\n        :showDescription=\"showDescription\"\n        :descriptionContent=\"descriptionContent\"\n        :style=\"{paddingLeft:'50px'}\"\n      ></Popover>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Popover from \"@/components/Popover.vue\";\nimport { checkFileFormat, showErrorInfo } from \"@/js/common.js\";\nexport default {\n  components: {\n    Popover,\n  },\n  props: {\n    showDescription: { type: Boolean, default: false },\n    descriptionContent: String,\n    labelTitle: String,\n    acceptFileType: { type: String, default: \"\" },\n    importBtnName: { type: String, default: \"Import\" },\n    uploadFunction: {\n      type: Function,\n      default: function () {\n        console.log(\"click import\");\n      },\n    },\n    value: Object,\n    maxSize: { type: Number, default: 50 * 1024 * 1024 },\n    imgResolutionWidth: { type: Number, default: -1 },\n    imgResolutionHeight: { type: Number, default: -1 },\n  },\n  methods: {\n    beforeUpload: function (info) {\n      //check format\n      let acceptTypes = this.acceptFileType.split(\",\");\n      let checkSuccess = false;\n      for (let i = 0; i < acceptTypes.length; i++) {\n        if (checkFileFormat(info.name, acceptTypes[i], acceptTypes[i].length)) {\n          checkSuccess = true;\n        }\n      }\n      if (!checkSuccess) {\n        showErrorInfo(this, this.$t(\"FileFormatWarning\"));\n        return false;\n      }\n      //check file size\n      if (this.maxSize > 0 && info.size > this.maxSize) {\n        showErrorInfo(this, this.$t(\"UploadingFileTooLargeWarning\"));\n        return false;\n      }\n      //check file name\n      if (info.name.length > 127) {\n        showErrorInfo(this, this.$t(\"WarningFileNameTooLong\"));\n        return false;\n      }\n\n      //check img resolution\n      if (\n        (checkFileFormat(info.name, \".PNG\", 4) ||\n          checkFileFormat(info.name, \".JPG\", 4) ||\n          checkFileFormat(info.name, \".JPEG\", 5)) &&\n        this.imgResolutionWidth > 0 &&\n        this.imgResolutionHeight > 0\n      ) {\n        var reader = new FileReader();\n        reader.readAsDataURL(info);\n        var vm = this;\n        reader.onload = function () {\n          var img = new Image();\n          img.src = reader.result;\n          img.onload = function () {\n            if (\n              img.width > vm.imgResolutionWidth ||\n              img.height > vm.imgResolutionHeight\n            ) {\n              showErrorInfo(vm, vm.$t(\"ImageResolutionErr\"));\n              return false;\n            } else {\n              info.height = img.height;\n              info.width = img.width;\n              vm.fileData = info;\n              vm.value.fileName = info.name;\n              vm.onChange();\n              return false;\n            }\n          };\n          img.onerror = function () {\n            //图片加载错误\n            showErrorInfo(vm, vm.$t(\"FileFormatWarning\"));\n            return false;\n          };\n        };\n      } else {\n        //done\n        this.fileData = info;\n        this.value.fileName = info.name;\n        this.onChange();\n        return false;\n      }\n    },\n    onChange: function () {\n      let data = {\n        fileName: this.value.fileName,\n        fileData: this.fileData,\n      };\n      this.$emit(\"change\", data);\n    },\n    onCancel: function () {\n      this.value.fileName = this.$t(\"UpgradeFilePath\");\n      this.fileData = {};\n      this.onChange();\n    },\n  },\n  data() {\n    return {\n      // fileName: this.$t(\"UpgradeFilePath\"),\n      fileData: {},\n      importBtnDisabled: true,\n    };\n  },\n  watch: {\n    value(newVal, oldVal) {\n      let fileName = newVal.fileName;\n      if (fileName != \"\" && fileName != this.$t(\"UpgradeFilePath\")) {\n        this.importBtnDisabled = false;\n      } else {\n        this.importBtnDisabled = true;\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.ak-modal-file-input-div {\n  padding-left: 153px;\n  font-size: 16px;\n  margin-top: 25px;\n}\n\n.ak-modal-file-input-title-label {\n  max-width: 700px;\n  display: inline-block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding-top: 4px;\n  margin-bottom: 26px;\n  color: #333333;\n}\n\n.ak-modal-file-input-hint-label {\n  color: #9a9a9a;\n  margin-left: 10px;\n  padding-top: 4px;\n}\n\n.ak-modal-file-input-file-name {\n  width: 380px;\n  border: 1px solid rgba(201, 201, 201, 1);\n  border-radius: 3px;\n  height: 32px;\n  background: rgba(249, 249, 249, 1);\n  color: #999999;\n  font-size: 16px;\n  padding-left: 16px;\n  font-weight: 400;\n}\n\n.ak-modal-file-input-file-button {\n  float: right;\n  width: 110px;\n  border-radius: 3px;\n  border: none;\n  background: #0087f7;\n  font-size: 16px;\n  color: #ffffff;\n  height: 30px !important;\n}\n\n.ak-modal-file-input-file-name > label {\n  display: inline-block;\n  margin-top: 2px;\n  max-width: 250px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n/deep/.ant-btn:hover,\n.ant-btn:focus,\n.ant-btn:active,\n.ant-btn.active {\n  background: #0087f7;\n  color: #ffffff;\n}\n\n.ak-modal-file-input-btn {\n  width: 120px;\n  background: #0087f7;\n  color: #ffffff;\n  font-size: 16px;\n  margin-left: 30px;\n}\n</style>"],"sourceRoot":"src/components"}]}