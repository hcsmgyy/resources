{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/components/CommonTransfer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/components/CommonTransfer.vue","mtime":1600155105018},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBQb3BvdmVyIGZyb20gIkAvY29tcG9uZW50cy9Qb3BvdmVyLnZ1ZSI7CmltcG9ydCB7IGRlZXBDbG9uZSB9IGZyb20gIkAvanMvY29tbW9uLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIFBvcG92ZXIsCiAgICB9LAogICAgcHJvcHM6IHsKICAgICAgICBtb2NrRGF0YTogQXJyYXksCiAgICAgICAgdGFyZ2V0S2V5czogQXJyYXksCiAgICAgICAgc2VsZWN0ZWRLZXlzOiBBcnJheSwKICAgICAgICBzb3VyY2VUaXRsZTogU3RyaW5nLAogICAgICAgIHRhcmdldFRpdGxlOiBTdHJpbmcsCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG1vY2tWYWx1ZTogdGhpcy5tb2NrRGF0YSwKICAgICAgICAgIHRhcmdldEtleVZhbHVlOiB0aGlzLnRhcmdldEtleXMsCiAgICAgICAgICBzb3VyY2VTZWxlY3RWYWx1ZTogdGhpcy5zZWxlY3RlZEtleXMsCiAgICAgICAgfTsKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlQ2hhbmdlKG5leHRUYXJnZXRLZXlzLCBkaXJlY3Rpb24sIG1vdmVLZXlzKSB7CiAgICAgICAgICAgIHRoaXMudGFyZ2V0S2V5VmFsdWUgPSBuZXh0VGFyZ2V0S2V5czsKICAgICAgICAgICAgdGhpcy5vbkNoYW5nZSh0aGlzLnRhcmdldEtleVZhbHVlKTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZVNlbGVjdENoYW5nZShzb3VyY2VTZWxlY3RlZEtleXMsIHRhcmdldFNlbGVjdGVkS2V5cykgewogICAgICAgICAgICB0aGlzLnNvdXJjZVNlbGVjdFZhbHVlID0gWy4uLnNvdXJjZVNlbGVjdGVkS2V5cywgLi4udGFyZ2V0U2VsZWN0ZWRLZXlzXTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgic2VsZWN0Q2hhbmdlIiwgdGhpcy5zb3VyY2VTZWxlY3RWYWx1ZSk7CiAgICAgICAgfSwKICAgICAgICBJdGVtVXAoKXsKICAgICAgICAgICAgbGV0IGRlZXBDbG9uZVRhcmdldCA9IGRlZXBDbG9uZSh0aGlzLnRhcmdldEtleXMpOwogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGVlcENsb25lVGFyZ2V0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuc291cmNlU2VsZWN0VmFsdWUuaW5jbHVkZXMoZGVlcENsb25lVGFyZ2V0W2ldKSAmJiBpICE9IDApewogICAgICAgICAgICAgICAgICAgIHZhciB0bXB0YXJnZXRWYWx1ZSA9IGRlZXBDbG9uZVRhcmdldFtpXTsKICAgICAgICAgICAgICAgICAgICBkZWVwQ2xvbmVUYXJnZXRbaV0gPSBkZWVwQ2xvbmVUYXJnZXRbaS0xXSA7CiAgICAgICAgICAgICAgICAgICAgZGVlcENsb25lVGFyZ2V0W2ktMV0gPSB0bXB0YXJnZXRWYWx1ZTsgCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5vbkNoYW5nZShkZWVwQ2xvbmVUYXJnZXQpOwogICAgICAgIH0sCiAgICAgICAgSXRlbURvd24oKXsKICAgICAgICAgICAgbGV0IGRlZXBDbG9uZVRhcmdldCA9IGRlZXBDbG9uZSh0aGlzLnRhcmdldEtleXMpOwogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGVlcENsb25lVGFyZ2V0Lmxlbmd0aDsgaSsrKXsKICAgICAgICAgICAgICAgIGlmKHRoaXMuc291cmNlU2VsZWN0VmFsdWUuaW5jbHVkZXMoZGVlcENsb25lVGFyZ2V0W2ldKSAmJiBpICE9IGRlZXBDbG9uZVRhcmdldC5sZW5ndGgtMSl7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRtcHRhcmdldFZhbHVlID0gZGVlcENsb25lVGFyZ2V0W2ldOwogICAgICAgICAgICAgICAgICAgIGRlZXBDbG9uZVRhcmdldFtpXSA9IGRlZXBDbG9uZVRhcmdldFtpKzFdIDsKICAgICAgICAgICAgICAgICAgICBkZWVwQ2xvbmVUYXJnZXRbaSsxXSA9IHRtcHRhcmdldFZhbHVlOyAKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGRlZXBDbG9uZVRhcmdldCk7CiAgICAgICAgfSwKICAgICAgICBvbkNoYW5nZTogZnVuY3Rpb24gKHZhbHVlKXsKICAgICAgICAgICAgdGhpcy4kZW1pdCgiY2hhbmdlIiwgdmFsdWUpOwogICAgICAgIH0KICAgIH0sCn07Cg=="},{"version":3,"sources":["CommonTransfer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommonTransfer.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"ak-common-transfer-div\">\n    <a-transfer\n      :data-source=\"mockData\"\n      :titles=\"[sourceTitle, targetTitle]\"\n      :target-keys=\"targetKeys\"\n      :selected-keys=\"selectedKeys\"\n      :render=\"item => item.title\"\n      :showSelectAll = \"false\"\n      @change=\"handleChange\"\n      @selectChange=\"handleSelectChange\"\n    />\n    <div class=\"ak-common-transfer-button\">\n        <a-button class=\"ak-common-transfer-button-up\" type=\"primary\" icon=\"up\" @click=\"ItemUp()\"/>\n        <a-button class=\"ak-common-transfer-button-dowm\" type=\"primary\" icon=\"down\" @click=\"ItemDown()\"/>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Popover from \"@/components/Popover.vue\";\nimport { deepClone } from \"@/js/common.js\";\nexport default {\n    components: {\n        Popover,\n    },\n    props: {\n        mockData: Array,\n        targetKeys: Array,\n        selectedKeys: Array,\n        sourceTitle: String,\n        targetTitle: String,\n        disabled: false,\n    },\n    data() {\n        return {\n          mockValue: this.mockData,\n          targetKeyValue: this.targetKeys,\n          sourceSelectValue: this.selectedKeys,\n        };\n    },\n    methods: {\n        handleChange(nextTargetKeys, direction, moveKeys) {\n            this.targetKeyValue = nextTargetKeys;\n            this.onChange(this.targetKeyValue);\n        },\n        handleSelectChange(sourceSelectedKeys, targetSelectedKeys) {\n            this.sourceSelectValue = [...sourceSelectedKeys, ...targetSelectedKeys];\n            this.$emit(\"selectChange\", this.sourceSelectValue);\n        },\n        ItemUp(){\n            let deepCloneTarget = deepClone(this.targetKeys);\n            for(var i = 0; i < deepCloneTarget.length; i++){\n                if(this.sourceSelectValue.includes(deepCloneTarget[i]) && i != 0){\n                    var tmptargetValue = deepCloneTarget[i];\n                    deepCloneTarget[i] = deepCloneTarget[i-1] ;\n                    deepCloneTarget[i-1] = tmptargetValue; \n                    break;\n                }\n            }\n            this.onChange(deepCloneTarget);\n        },\n        ItemDown(){\n            let deepCloneTarget = deepClone(this.targetKeys);\n            for(var i = 0; i < deepCloneTarget.length; i++){\n                if(this.sourceSelectValue.includes(deepCloneTarget[i]) && i != deepCloneTarget.length-1){\n                    var tmptargetValue = deepCloneTarget[i];\n                    deepCloneTarget[i] = deepCloneTarget[i+1] ;\n                    deepCloneTarget[i+1] = tmptargetValue; \n                    break;\n                }\n            }\n            this.onChange(deepCloneTarget);\n        },\n        onChange: function (value){\n            this.$emit(\"change\", value);\n        }\n    },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.ak-common-transfer-div {\n    padding-left: 434px;\n    font-size: 16px;\n    margin-top: 22px;\n    display: flex;\n}\n\n.ak-common-transfer-button{\n    width: 30px;\n    margin-left: 40px;\n}\n\n.ak-common-transfer-button-up{\n    margin-bottom: 10px;\n}\n\n/deep/.ant-transfer-list {\n    width: 260px;\n}\n\n/deep/.ant-transfer-operation{\n    margin: 0 40px;\n}\n</style>"]}]}