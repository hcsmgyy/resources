{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/components/CommonChangePwd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/components/CommonChangePwd.vue","mtime":1600155105014},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb21tb25JbnB1dCBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uSW5wdXQudnVlIjsKaW1wb3J0IENvbW1vbkxhYmVsIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25MYWJlbC52dWUiOwppbXBvcnQgewogIGRlZXBDbG9uZSwKICBnZXRJbmRleEJ5S2V5LAogIGlzVmFsaWRMb2dpblBzdywKICBub3RDb250YWluSW52YWxpZF9TdWIsCiAgc2hvd1JlcXVlc3RTdWNjZXNzLAogIHNob3dFcnJvckluZm8sCn0gZnJvbSAiQC9qcy9jb21tb24uanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvbW1vbklucHV0LAogICAgQ29tbW9uTGFiZWwsCiAgfSwKICBwcm9wczogewogICAgdXNlck5hbWU6IFN0cmluZywKICAgIGNhbmNlbEJ0bkxhYmVsOiBTdHJpbmcsCiAgICB0aXRsZTogU3RyaW5nLAogICAgb2xkUHN3U2hvdzogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sCiAgICBkYXRhOiBPYmplY3QsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3VibWl0QnRuTGFiZWw6IHRoaXMuJHQoIkNoYW5nZSIpLAogICAgICBzaG93Rm9vdGVyOiB0cnVlLAogICAgICBjb25maXJtRGlzYWJsZWQ6IHRydWUsCiAgICAgIG1vZGFsSXRlbXM6IFsKICAgICAgICB7CiAgICAgICAgICB0eXBlOiAic3BhbiIsCiAgICAgICAgICB2YWx1ZTogdGhpcy4kdCgiV2ViUHN3TW9kaWZ5QWxlcnQiKSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCJVc2VyTmFtZSIpLAogICAgICAgICAgdHlwZTogImxhYmVsIiwKICAgICAgICAgIGtleTogInVzZXJOYW1lIiwKICAgICAgICAgIHZhbHVlOiB0aGlzLnVzZXJOYW1lLAogICAgICAgICAgaXNIaW50OiBmYWxzZSwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCJPbGRQYXNzd29yZCIpLAogICAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICAgIGtleTogIm9sZFBhc3N3b3JkIiwKICAgICAgICAgIHNob3dFbXB0eVB3ZDogZmFsc2UsCiAgICAgICAgICB2YWx1ZTogIiIsCiAgICAgICAgICBpbnB1dFR5cGU6ICJwYXNzd29yZCIsCiAgICAgICAgICBzaG93RGVzY3JpcHRpb246IGZhbHNlLAogICAgICAgICAgbWF4bGVuZ3RoOiAyMCwKICAgICAgICAgIGlzU2hvdzogdGhpcy5vbGRQc3dTaG93LAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogImhpbnQtbGFiZWwiLAogICAgICAgICAga2V5OiAib2xkUGFzc3dvcmRoaW50IiwKICAgICAgICAgIHZhbHVlOiB0aGlzLiR0KCJPbGRQYXNzd29yZEluY29ycmVjdFdhcm5pbmciKSwKICAgICAgICAgIGlzU2hvd0RpdjogZmFsc2UsCiAgICAgICAgICBpc1RydWU6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6IHRoaXMuJHQoIk5ld1Bhc3N3b3JkIiksCiAgICAgICAgICB0eXBlOiAiaW5wdXQiLAogICAgICAgICAga2V5OiAibmV3UGFzc3dvcmQiLAogICAgICAgICAgc2hvd0VtcHR5UHdkOiBmYWxzZSwKICAgICAgICAgIHZhbHVlOiAiIiwKICAgICAgICAgIGlucHV0VHlwZTogInBhc3N3b3JkIiwKICAgICAgICAgIHNob3dEZXNjcmlwdGlvbjogZmFsc2UsCiAgICAgICAgICBtYXhsZW5ndGg6IDIwLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogImhpbnQtbGFiZWwiLAogICAgICAgICAga2V5OiAiaGludDAiLAogICAgICAgICAgdmFsdWU6IHRoaXMuJHQoIlVwcGVyQWxlcnQiKSwKICAgICAgICAgIGlzU2hvd0RpdjogZmFsc2UsCiAgICAgICAgICBpc1RydWU6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogImhpbnQtbGFiZWwiLAogICAgICAgICAga2V5OiAiaGludDEiLAogICAgICAgICAgdmFsdWU6IHRoaXMuJHQoIkxvd2VyQWxlcnQiKSwKICAgICAgICAgIGlzU2hvd0RpdjogZmFsc2UsCiAgICAgICAgICBpc1RydWU6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogImhpbnQtbGFiZWwiLAogICAgICAgICAga2V5OiAiaGludDIiLAogICAgICAgICAgdmFsdWU6IHRoaXMuJHQoIkRpZ2l0QWxlcnQiKSwKICAgICAgICAgIGlzU2hvd0RpdjogZmFsc2UsCiAgICAgICAgICBpc1RydWU6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogImhpbnQtbGFiZWwiLAogICAgICAgICAga2V5OiAiaGludDMiLAogICAgICAgICAgdmFsdWU6IHRoaXMuJHQoIkNoYXJMb25nQWxlcnQiKSwKICAgICAgICAgIGlzU2hvd0RpdjogZmFsc2UsCiAgICAgICAgICBpc1RydWU6IGZhbHNlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdGl0bGU6IHRoaXMuJHQoIkNvbmZpcm1QYXNzd29yZCIpLAogICAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICAgIGtleTogImNvbmZpcm1QYXNzd29yZCIsCiAgICAgICAgICBzaG93RW1wdHlQd2Q6IGZhbHNlLAogICAgICAgICAgdmFsdWU6ICIiLAogICAgICAgICAgaW5wdXRUeXBlOiAicGFzc3dvcmQiLAogICAgICAgICAgc2hvd0Rlc2NyaXB0aW9uOiBmYWxzZSwKICAgICAgICAgIGRpc2FibGVkOiB0cnVlLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdHlwZTogImhpbnQtbGFiZWwiLAogICAgICAgICAga2V5OiAiY29uZmlybVBhc3N3b3JkaGludCIsCiAgICAgICAgICB2YWx1ZTogdGhpcy4kdCgiTWF0Y2hBbGVydCIpLAogICAgICAgICAgaXNTaG93RGl2OiBmYWxzZSwKICAgICAgICAgIGlzVHJ1ZTogZmFsc2UsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgaW5wdXRTdHlsZTogewogICAgICAgIHBhZGRpbmdMZWZ0OiAiMTMwcHgiLAogICAgICAgIGZvbnRTaXplOiAiMTZweCIsCiAgICAgICAgbWFyZ2luVG9wOiAiMTZweCIsCiAgICAgICAgZGlzcGxheTogImZsZXgiLAogICAgICB9LAogICAgICBoaW50UmVkU3R5bGU6IHsKICAgICAgICBwYWRkaW5nTGVmdDogIjQyMHB4IiwKICAgICAgICBmb250U2l6ZTogIjE0cHgiLAogICAgICAgIGNvbG9yOiAiI2ZhNDc0NyIsCiAgICAgICAgbWFyZ2luVG9wOiAiMTZweCIsCiAgICAgICAgZGlzcGxheTogImZsZXgiLAogICAgICB9LAogICAgICBoaW50R3JlZW5TdHlsZTogewogICAgICAgIHBhZGRpbmdMZWZ0OiAiNDIwcHgiLAogICAgICAgIGZvbnRTaXplOiAiMTRweCIsCiAgICAgICAgY29sb3I6ICIjMzVhNDA0IiwKICAgICAgICBtYXJnaW5Ub3A6ICIxNnB4IiwKICAgICAgICBkaXNwbGF5OiAiZmxleCIsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgb25Db25maXJtOiBmdW5jdGlvbiAoKSB7CiAgICAgIG9uTW9kaWZ5UGFnZUNsaWNrQ2hhbmdlQnV0dG9uKHRoaXMpOwogICAgfSwKICAgIG9uQ2FuY2VsOiBmdW5jdGlvbigpewogICAgICB0aGlzLmRhdGEudmlzaWJsZSA9IGZhbHNlOwogICAgICBtb2RhbENoYW5nZUNhbmNlbCh0aGlzKTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gKGRhdGEsIGl0ZW0sIGl0ZW1LZXksIGl0ZW1JbmRleCkgewogICAgICBsZXQgb2xkVmFsID0gaXRlbS52YWx1ZTsKICAgICAgbGV0IG5ld1ZhbCA9IGRhdGE7CgogICAgICBpdGVtLnZhbHVlID0gZGF0YTsKCiAgICAgIGxldCByZXN1bHQgPSB7CiAgICAgICAgb2xkVmFsOiBvbGRWYWwsCiAgICAgICAgbmV3VmFsOiBuZXdWYWwsCiAgICAgICAgaXRlbUtleTogaXRlbUtleSwKICAgICAgICBpdGVtSW5kZXg6IGl0ZW1JbmRleCwKICAgICAgfTsKCiAgICAgIGlmICgibmV3UGFzc3dvcmQiID09IGl0ZW1LZXkpIHsKICAgICAgICBvbk1vZGlmeVBhZ2VOZXdQc3dDaGFuZ2UodGhpcywgbmV3VmFsKTsKICAgICAgfQoKICAgICAgaWYgKCJjb25maXJtUGFzc3dvcmQiID09IGl0ZW1LZXkpIHsKICAgICAgICBvbk1vZGlmeVBhZ2VDb25maXJtTmV3UHN3Q2hhbmdlKHRoaXMsIG5ld1ZhbCk7CiAgICAgIH0KICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgdXNlck5hbWUobmV3VmFsKSB7CiAgICAgIGxldCBpdGVtSW5kZXggPSBnZXRJbmRleEJ5S2V5KHRoaXMubW9kYWxJdGVtcywgInVzZXJOYW1lIik7CiAgICAgIHRoaXMubW9kYWxJdGVtc1tpdGVtSW5kZXhdLnZhbHVlID0gbmV3VmFsOwogICAgfSwKICAgIG9sZFBzd1Nob3cobmV3VmFsKSB7CiAgICAgIGxldCBpdGVtSW5kZXggPSBnZXRJbmRleEJ5S2V5KHRoaXMubW9kYWxJdGVtcywgIm9sZFBhc3N3b3JkIik7CiAgICAgIHRoaXMubW9kYWxJdGVtc1tpdGVtSW5kZXhdLmlzU2hvdyA9IG5ld1ZhbDsKICAgIH0sCiAgfSwKfTsKCmZ1bmN0aW9uIG1vZGFsQ2hhbmdlQ2FuY2VsKHZtKXsKICBsZXQgaXRlbUluZGV4MSA9IGdldEluZGV4QnlLZXkodm0ubW9kYWxJdGVtcywgIm9sZFBhc3N3b3JkIik7CiAgbGV0IGl0ZW1JbmRleDIgPSBnZXRJbmRleEJ5S2V5KHZtLm1vZGFsSXRlbXMsICJuZXdQYXNzd29yZCIpOwogIGxldCBpdGVtSW5kZXgzID0gZ2V0SW5kZXhCeUtleSh2bS5tb2RhbEl0ZW1zLCAiY29uZmlybVBhc3N3b3JkIik7CiAgdm0ubW9kYWxJdGVtc1tpdGVtSW5kZXgxXS52YWx1ZSA9ICIiOwogIHZtLm1vZGFsSXRlbXNbaXRlbUluZGV4Ml0udmFsdWUgPSAiIjsKICB2bS5tb2RhbEl0ZW1zW2l0ZW1JbmRleDNdLnZhbHVlID0gIiI7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICBsZXQgaGludEluZGV4ID0gZ2V0SW5kZXhCeUtleSh2bS5tb2RhbEl0ZW1zLCAiaGludCIgKyBpKTsKICAgIHZtLm1vZGFsSXRlbXNbaGludEluZGV4XS5pc1Nob3dEaXYgPSBmYWxzZTsKICB9CgogIGxldCBoaW50SW5kZXggPSBnZXRJbmRleEJ5S2V5KHZtLm1vZGFsSXRlbXMsICJjb25maXJtUGFzc3dvcmRoaW50Iik7CiAgdm0ubW9kYWxJdGVtc1toaW50SW5kZXhdLmlzU2hvd0RpdiA9IGZhbHNlOwoKICBsZXQgcmVxdWVzdERhdGEgPSB7CiAgICB0YXJnZXQ6ICJzZWN1cml0eUJhc2ljIiwKICAgIGFjdGlvbjogInNldCIsCiAgICBkYXRhOiB7CiAgICAgICJmaXJzdENhbmNlbCI6IDEsCiAgICB9LAogIH07CiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gewoKICB9KTsKfQoKZnVuY3Rpb24gb25Nb2RpZnlQYWdlQ2xpY2tDaGFuZ2VCdXR0b24odm0pIHsKICB2YXIgbklzVmFsaWROZXcsIG5Jc1ZhbGlkQ29uZmlybTsKICB2YXIgc3RyT2xkUHN3LCBzdHJOZXdQc3csIHN0clVzZXJOYW1lOwogIHZhciBiSXNGaXJzdFRpbWU7CiAgdmFyIHJlcXVlc3Q7CiAgdmFyIGVyckZsYWcgPSBmYWxzZTsKCiAgbGV0IG9sZFB3ZEl0ZW1JbmRleCA9IGdldEluZGV4QnlLZXkodm0ubW9kYWxJdGVtcywgIm9sZFBhc3N3b3JkIik7CiAgbGV0IG5ld1B3ZEl0ZW1JbmRleCA9IGdldEluZGV4QnlLZXkodm0ubW9kYWxJdGVtcywgIm5ld1Bhc3N3b3JkIik7CiAgbGV0IHVzZXJOYW1lSXRlbUluZGV4ID0gZ2V0SW5kZXhCeUtleSh2bS5tb2RhbEl0ZW1zLCAidXNlck5hbWUiKTsKICBzdHJVc2VyTmFtZSA9IHZtLm1vZGFsSXRlbXNbdXNlck5hbWVJdGVtSW5kZXhdLnZhbHVlOwogIHN0ck9sZFBzdyA9IHZtLm1vZGFsSXRlbXNbb2xkUHdkSXRlbUluZGV4XS52YWx1ZTsKICBzdHJOZXdQc3cgPSB2bS5tb2RhbEl0ZW1zW25ld1B3ZEl0ZW1JbmRleF0udmFsdWU7CgogIGlmIChmYWxzZSA9PSB2bS5tb2RhbEl0ZW1zW29sZFB3ZEl0ZW1JbmRleF0uaXNTaG93KSB7CiAgICBsZXQgcmVxdWVzdERhdGEgPSB7CiAgICAgIHRhcmdldDogInNlY3VyaXR5QmFzaWMiLAogICAgICBhY3Rpb246ICJzZXQiLAogICAgICBkYXRhOiB7CiAgICAgICAgdXNlck5hbWU6IHN0clVzZXJOYW1lLAogICAgICAgIGZpcnN0TG9naW46IDEsCiAgICAgICAgbmV3UGFzc3dvcmQ6IHN0ck5ld1BzdywKICAgICAgfSwKICAgIH07CiAgICB2bS4kYXhpb3MucG9zdCgiYXBpIiwgcmVxdWVzdERhdGEpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIHNob3dSZXF1ZXN0U3VjY2Vzcyh2bSwgdm0uJHQoIkNoYW5nZSBTdWNjZXNzIikpOwogICAgICB2bS5kYXRhLnZpc2libGUgPSBmYWxzZTsKICAgIH0pOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKCFub3RDb250YWluSW52YWxpZF9TdWIoc3RyTmV3UHN3KSkgewogICAgc2hvd0Vycm9ySW5mbyh2bSwgdm0uJHQoIkxvZ2luUGFzc3dvcmRGb3JtYXRBbGVydCIpKTsKICAgIHJldHVybjsKICB9CgogIGlmIChzdHJOZXdQc3cgPT0gc3RyT2xkUHN3KSB7CiAgICBzaG93RXJyb3JJbmZvKHZtLCB2bS4kdCgiTG9naW5PbGRQYXNzd29yZFNhbWVBbGVydCIpKTsKICAgIHJldHVybjsKICB9CgogIC8vIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IHRydWU7CgogIGxldCByZXF1ZXN0RGF0YSA9IHsKICAgIHRhcmdldDogInNlY3VyaXR5QmFzaWMiLAogICAgYWN0aW9uOiAic2V0IiwKICAgIGRhdGE6IHsKICAgICAgdXNlck5hbWU6IHN0clVzZXJOYW1lLAogICAgICBvbGRQYXNzd29yZDogc3RyT2xkUHN3LAogICAgICBuZXdQYXNzd29yZDogc3RyTmV3UHN3LAogICAgfSwKICB9OwogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgIGlmIChyZXNwb25zZS5kYXRhLnJldGNvZGUgPT0gLTEpIHsKICAgICAgc2hvd0Vycm9ySW5mbyh2bSwgdm0uJHQoIm9yaWdpbmFsIHBhc3N3b3JkIGluY29ycmVjdCIpKTsKICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5yZXRjb2RlID09IDApIHsKICAgICAgc2hvd1JlcXVlc3RTdWNjZXNzKHZtLCB2bS4kdCgiQ2hhbmdlIFN1Y2Nlc3MiKSk7CiAgICAgIHZtLmRhdGEudmlzaWJsZSA9IGZhbHNlOwogICAgfQogICAgLy8gdm0uZGF0YS5zdWJtaXRMb2FkaW5nID0gZmFsc2U7CiAgfSk7Cn0KCmZ1bmN0aW9uIG9uTW9kaWZ5UGFnZU5ld1Bzd0NoYW5nZSh2bSwgdmFsdWUpIHsKICB2YXIgbkZsYWcgPSAwOwogIHZhciBzdHJGbGFnOwogIGlmICh2YWx1ZS5sZW5ndGggIT0gMCkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgbGV0IGhpbnRJbmRleCA9IGdldEluZGV4QnlLZXkodm0ubW9kYWxJdGVtcywgImhpbnQiICsgaSk7CiAgICAgIHZtLm1vZGFsSXRlbXNbaGludEluZGV4XS5pc1Nob3dEaXYgPSB0cnVlOwogICAgfQogIH0gZWxzZSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICBsZXQgaGludEluZGV4ID0gZ2V0SW5kZXhCeUtleSh2bS5tb2RhbEl0ZW1zLCAiaGludCIgKyBpKTsKICAgICAgdm0ubW9kYWxJdGVtc1toaW50SW5kZXhdLmlzU2hvd0RpdiA9IGZhbHNlOwogICAgfQogIH0KICBuRmxhZyA9IGlzVmFsaWRMb2dpblBzdyh2YWx1ZSk7CiAgc3RyRmxhZyA9IG5GbGFnLnRvU3RyaW5nKDIpOwogIHN0ckZsYWcgPSAoQXJyYXkoNCkuam9pbigwKSArIHN0ckZsYWcpLnNsaWNlKC00KTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJGbGFnLmxlbmd0aDsgaSsrKSB7CiAgICBsZXQgaGludEluZGV4ID0gZ2V0SW5kZXhCeUtleSh2bS5tb2RhbEl0ZW1zLCAiaGludCIgKyBpKTsKICAgIGlmIChzdHJGbGFnLmNoYXJBdChpKSA9PSAxKSB7CiAgICAgIHZtLm1vZGFsSXRlbXNbaGludEluZGV4XS5yaWdodCA9ICIg4oiaIjsKICAgICAgdm0ubW9kYWxJdGVtc1toaW50SW5kZXhdLmlzVHJ1ZSA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICB2bS5tb2RhbEl0ZW1zW2hpbnRJbmRleF0ucmlnaHQgPSAiIMOXIjsKICAgICAgdm0ubW9kYWxJdGVtc1toaW50SW5kZXhdLmlzVHJ1ZSA9IGZhbHNlOwogICAgfQogIH0KICBpZiAoMTUgIT0gbkZsYWcpIHsKICAgIGxldCBpdGVtSW5kZXggPSBnZXRJbmRleEJ5S2V5KHZtLm1vZGFsSXRlbXMsICJjb25maXJtUGFzc3dvcmQiKTsKICAgIHZtLm1vZGFsSXRlbXNbaXRlbUluZGV4XS52YWx1ZSA9ICIiOwogICAgdm0ubW9kYWxJdGVtc1tpdGVtSW5kZXhdLmRpc2FibGVkID0gdHJ1ZTsKICB9IGVsc2UgewogICAgbGV0IGl0ZW1JbmRleCA9IGdldEluZGV4QnlLZXkodm0ubW9kYWxJdGVtcywgImNvbmZpcm1QYXNzd29yZCIpOwogICAgdm0ubW9kYWxJdGVtc1tpdGVtSW5kZXhdLmRpc2FibGVkID0gZmFsc2U7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICBsZXQgaGludEluZGV4ID0gZ2V0SW5kZXhCeUtleSh2bS5tb2RhbEl0ZW1zLCAiaGludCIgKyBpKTsKICAgICAgdm0ubW9kYWxJdGVtc1toaW50SW5kZXhdLmlzU2hvd0RpdiA9IGZhbHNlOwogICAgfQogIH0KICByZXR1cm4gbkZsYWc7Cn0KCmZ1bmN0aW9uIG9uTW9kaWZ5UGFnZUNvbmZpcm1OZXdQc3dDaGFuZ2Uodm0sIHZhbHVlKSB7CiAgbGV0IGl0ZW1JbmRleCA9IGdldEluZGV4QnlLZXkodm0ubW9kYWxJdGVtcywgIm5ld1Bhc3N3b3JkIik7CiAgdmFyIG5ld1BzdyA9IHZtLm1vZGFsSXRlbXNbaXRlbUluZGV4XS52YWx1ZTsKICBsZXQgaGludEluZGV4ID0gZ2V0SW5kZXhCeUtleSh2bS5tb2RhbEl0ZW1zLCAiY29uZmlybVBhc3N3b3JkaGludCIpOwogIGlmICh2YWx1ZS5sZW5ndGggPD0gMCB8fCBuZXdQc3cubGVuZ3RoIDw9IDApIHsKICAgIHZtLm1vZGFsSXRlbXNbaGludEluZGV4XS5pc1Nob3dEaXYgPSBmYWxzZTsKICAgIHZtLmNvbmZpcm1EaXNhYmxlZCA9IHRydWU7CiAgICByZXR1cm4gLTE7CiAgfQogIGlmICh2YWx1ZS5sZW5ndGggPCA4IHx8IHZhbHVlLmxlbmd0aCA+IG5ld1Bzdy5sZW5ndGgpIHsKICAgIHZtLm1vZGFsSXRlbXNbaGludEluZGV4XS5pc1Nob3dEaXYgPSB0cnVlOwogICAgdm0uY29uZmlybURpc2FibGVkID0gdHJ1ZTsKICAgIHJldHVybiAtMTsKICB9IGVsc2UgaWYgKHZhbHVlLmxlbmd0aCA9PSBuZXdQc3cubGVuZ3RoICYmIHZhbHVlID09IG5ld1BzdykgewogICAgdm0ubW9kYWxJdGVtc1toaW50SW5kZXhdLmlzU2hvd0RpdiA9IGZhbHNlOwogICAgdm0uY29uZmlybURpc2FibGVkID0gZmFsc2U7CiAgICByZXR1cm4gMTsKICB9IGVsc2UgewogICAgdm0ubW9kYWxJdGVtc1toaW50SW5kZXhdLmlzU2hvd0RpdiA9IHRydWU7CiAgICB2bS5jb25maXJtRGlzYWJsZWQgPSB0cnVlOwogIH0KICByZXR1cm4gMDsKfQo="},{"version":3,"sources":["CommonChangePwd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommonChangePwd.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <a-modal :title=\"title\" :visible=\"data.visible\" :centered=\"true\" @cancel=\"onCancel\">\n      <template v-for=\"(item,itemIndex) in modalItems\">\n        <div :key=\"item.key\">\n          <CommonInput\n            :addOnBefore=\"item.addOnBefore\"\n            v-if=\"item.type == 'input'\"\n            :wholeStyle=\"inputStyle\"\n            :labelTitle=\"item.title\"\n            :descriptionContent=\"item.description\"\n            :hintContent=\"item.hintContent\"\n            :showHint=\"item.showHint\"\n            :disabled=\"item.disabled\"\n            :inputType=\"item.inputType\"\n            :isWarn=\"item.isWarn\"\n            :warnLabel=\"item.warnLabel\"\n            :value=\"item.value\"\n            @change=\"onChange($event, item,item.key,itemIndex)\"\n            :maxLength=\"item.maxLength\"\n            :showEmptyPwd=\"item.showEmptyPwd\"\n            :showDescription=\"item.showDescription\"\n            :onInput=\"item.onInput\"\n            :isShow=\"item.isShow\"\n          ></CommonInput>\n          <CommonLabel\n            v-else-if=\"item.type=='label'\"\n            :wholeStyle=\"inputStyle\"\n            :labelTitle=\"item.title\"\n            :value=\"item.value\"\n            :showDescription=\"item.showDescription\"\n            :titleBold=\"item.titleBold\"\n          ></CommonLabel>\n          <span v-else-if=\"item.type=='span'\" class=\"ak-modal-span\">{{item.value}}</span>\n          <label\n            v-else-if=\"item.type=='hint-label'\"\n            v-show=\"item.isShowDiv\"\n            :style=\"item.isTrue ? hintGreenStyle : hintRedStyle\"\n          >{{item.value}}{{item.right}}</label>\n        </div>\n      </template>\n      <template slot=\"footer\">\n        <div class=\"ak-common-modal-footer\">\n          <div v-if=\"showFooter\">\n            <a-button\n              @click=\"onCancel\"\n              class=\"ak-common-modal-footer-btn ak-common-modal-footer-cancel\"\n              type=\"danger\"\n            >{{cancelBtnLabel}}</a-button>\n            <a-button\n              class=\"ak-common-modal-footer-btn ak-common-modal-footer-confirm\"\n              type=\"primary\"\n              @click=\"onConfirm\"\n              :disabled=\"confirmDisabled\"\n            >{{submitBtnLabel}}</a-button>\n          </div>\n        </div>\n      </template>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport CommonInput from \"@/components/CommonInput.vue\";\nimport CommonLabel from \"@/components/CommonLabel.vue\";\nimport {\n  deepClone,\n  getIndexByKey,\n  isValidLoginPsw,\n  notContainInvalid_Sub,\n  showRequestSuccess,\n  showErrorInfo,\n} from \"@/js/common.js\";\n\nexport default {\n  components: {\n    CommonInput,\n    CommonLabel,\n  },\n  props: {\n    userName: String,\n    cancelBtnLabel: String,\n    title: String,\n    oldPswShow: { type: Boolean, default: true },\n    data: Object,\n  },\n  data() {\n    return {\n      submitBtnLabel: this.$t(\"Change\"),\n      showFooter: true,\n      confirmDisabled: true,\n      modalItems: [\n        {\n          type: \"span\",\n          value: this.$t(\"WebPswModifyAlert\"),\n        },\n        {\n          title: this.$t(\"UserName\"),\n          type: \"label\",\n          key: \"userName\",\n          value: this.userName,\n          isHint: false,\n        },\n        {\n          title: this.$t(\"OldPassword\"),\n          type: \"input\",\n          key: \"oldPassword\",\n          showEmptyPwd: false,\n          value: \"\",\n          inputType: \"password\",\n          showDescription: false,\n          maxlength: 20,\n          isShow: this.oldPswShow,\n        },\n        {\n          type: \"hint-label\",\n          key: \"oldPasswordhint\",\n          value: this.$t(\"OldPasswordIncorrectWarning\"),\n          isShowDiv: false,\n          isTrue: false,\n        },\n        {\n          title: this.$t(\"NewPassword\"),\n          type: \"input\",\n          key: \"newPassword\",\n          showEmptyPwd: false,\n          value: \"\",\n          inputType: \"password\",\n          showDescription: false,\n          maxlength: 20,\n        },\n        {\n          type: \"hint-label\",\n          key: \"hint0\",\n          value: this.$t(\"UpperAlert\"),\n          isShowDiv: false,\n          isTrue: false,\n        },\n        {\n          type: \"hint-label\",\n          key: \"hint1\",\n          value: this.$t(\"LowerAlert\"),\n          isShowDiv: false,\n          isTrue: false,\n        },\n        {\n          type: \"hint-label\",\n          key: \"hint2\",\n          value: this.$t(\"DigitAlert\"),\n          isShowDiv: false,\n          isTrue: false,\n        },\n        {\n          type: \"hint-label\",\n          key: \"hint3\",\n          value: this.$t(\"CharLongAlert\"),\n          isShowDiv: false,\n          isTrue: false,\n        },\n        {\n          title: this.$t(\"ConfirmPassword\"),\n          type: \"input\",\n          key: \"confirmPassword\",\n          showEmptyPwd: false,\n          value: \"\",\n          inputType: \"password\",\n          showDescription: false,\n          disabled: true,\n        },\n        {\n          type: \"hint-label\",\n          key: \"confirmPasswordhint\",\n          value: this.$t(\"MatchAlert\"),\n          isShowDiv: false,\n          isTrue: false,\n        },\n      ],\n      inputStyle: {\n        paddingLeft: \"130px\",\n        fontSize: \"16px\",\n        marginTop: \"16px\",\n        display: \"flex\",\n      },\n      hintRedStyle: {\n        paddingLeft: \"420px\",\n        fontSize: \"14px\",\n        color: \"#fa4747\",\n        marginTop: \"16px\",\n        display: \"flex\",\n      },\n      hintGreenStyle: {\n        paddingLeft: \"420px\",\n        fontSize: \"14px\",\n        color: \"#35a404\",\n        marginTop: \"16px\",\n        display: \"flex\",\n      },\n    };\n  },\n  methods: {\n    onConfirm: function () {\n      onModifyPageClickChangeButton(this);\n    },\n    onCancel: function(){\n      this.data.visible = false;\n      modalChangeCancel(this);\n    },\n    onChange: function (data, item, itemKey, itemIndex) {\n      let oldVal = item.value;\n      let newVal = data;\n\n      item.value = data;\n\n      let result = {\n        oldVal: oldVal,\n        newVal: newVal,\n        itemKey: itemKey,\n        itemIndex: itemIndex,\n      };\n\n      if (\"newPassword\" == itemKey) {\n        onModifyPageNewPswChange(this, newVal);\n      }\n\n      if (\"confirmPassword\" == itemKey) {\n        onModifyPageConfirmNewPswChange(this, newVal);\n      }\n    },\n  },\n  watch: {\n    userName(newVal) {\n      let itemIndex = getIndexByKey(this.modalItems, \"userName\");\n      this.modalItems[itemIndex].value = newVal;\n    },\n    oldPswShow(newVal) {\n      let itemIndex = getIndexByKey(this.modalItems, \"oldPassword\");\n      this.modalItems[itemIndex].isShow = newVal;\n    },\n  },\n};\n\nfunction modalChangeCancel(vm){\n  let itemIndex1 = getIndexByKey(vm.modalItems, \"oldPassword\");\n  let itemIndex2 = getIndexByKey(vm.modalItems, \"newPassword\");\n  let itemIndex3 = getIndexByKey(vm.modalItems, \"confirmPassword\");\n  vm.modalItems[itemIndex1].value = \"\";\n  vm.modalItems[itemIndex2].value = \"\";\n  vm.modalItems[itemIndex3].value = \"\";\n\n  for (var i = 0; i < 4; i++) {\n    let hintIndex = getIndexByKey(vm.modalItems, \"hint\" + i);\n    vm.modalItems[hintIndex].isShowDiv = false;\n  }\n\n  let hintIndex = getIndexByKey(vm.modalItems, \"confirmPasswordhint\");\n  vm.modalItems[hintIndex].isShowDiv = false;\n\n  let requestData = {\n    target: \"securityBasic\",\n    action: \"set\",\n    data: {\n      \"firstCancel\": 1,\n    },\n  };\n  vm.$axios.post(\"api\", requestData).then((response) => {\n\n  });\n}\n\nfunction onModifyPageClickChangeButton(vm) {\n  var nIsValidNew, nIsValidConfirm;\n  var strOldPsw, strNewPsw, strUserName;\n  var bIsFirstTime;\n  var request;\n  var errFlag = false;\n\n  let oldPwdItemIndex = getIndexByKey(vm.modalItems, \"oldPassword\");\n  let newPwdItemIndex = getIndexByKey(vm.modalItems, \"newPassword\");\n  let userNameItemIndex = getIndexByKey(vm.modalItems, \"userName\");\n  strUserName = vm.modalItems[userNameItemIndex].value;\n  strOldPsw = vm.modalItems[oldPwdItemIndex].value;\n  strNewPsw = vm.modalItems[newPwdItemIndex].value;\n\n  if (false == vm.modalItems[oldPwdItemIndex].isShow) {\n    let requestData = {\n      target: \"securityBasic\",\n      action: \"set\",\n      data: {\n        userName: strUserName,\n        firstLogin: 1,\n        newPassword: strNewPsw,\n      },\n    };\n    vm.$axios.post(\"api\", requestData).then((response) => {\n      showRequestSuccess(vm, vm.$t(\"Change Success\"));\n      vm.data.visible = false;\n    });\n    return;\n  }\n\n  if (!notContainInvalid_Sub(strNewPsw)) {\n    showErrorInfo(vm, vm.$t(\"LoginPasswordFormatAlert\"));\n    return;\n  }\n\n  if (strNewPsw == strOldPsw) {\n    showErrorInfo(vm, vm.$t(\"LoginOldPasswordSameAlert\"));\n    return;\n  }\n\n  // vm.data.submitLoading = true;\n\n  let requestData = {\n    target: \"securityBasic\",\n    action: \"set\",\n    data: {\n      userName: strUserName,\n      oldPassword: strOldPsw,\n      newPassword: strNewPsw,\n    },\n  };\n  vm.$axios.post(\"api\", requestData).then((response) => {\n    if (response.data.retcode == -1) {\n      showErrorInfo(vm, vm.$t(\"original password incorrect\"));\n    } else if (response.data.retcode == 0) {\n      showRequestSuccess(vm, vm.$t(\"Change Success\"));\n      vm.data.visible = false;\n    }\n    // vm.data.submitLoading = false;\n  });\n}\n\nfunction onModifyPageNewPswChange(vm, value) {\n  var nFlag = 0;\n  var strFlag;\n  if (value.length != 0) {\n    for (var i = 0; i < 4; i++) {\n      let hintIndex = getIndexByKey(vm.modalItems, \"hint\" + i);\n      vm.modalItems[hintIndex].isShowDiv = true;\n    }\n  } else {\n    for (var i = 0; i < 4; i++) {\n      let hintIndex = getIndexByKey(vm.modalItems, \"hint\" + i);\n      vm.modalItems[hintIndex].isShowDiv = false;\n    }\n  }\n  nFlag = isValidLoginPsw(value);\n  strFlag = nFlag.toString(2);\n  strFlag = (Array(4).join(0) + strFlag).slice(-4);\n\n  for (var i = 0; i < strFlag.length; i++) {\n    let hintIndex = getIndexByKey(vm.modalItems, \"hint\" + i);\n    if (strFlag.charAt(i) == 1) {\n      vm.modalItems[hintIndex].right = \" √\";\n      vm.modalItems[hintIndex].isTrue = true;\n    } else {\n      vm.modalItems[hintIndex].right = \" ×\";\n      vm.modalItems[hintIndex].isTrue = false;\n    }\n  }\n  if (15 != nFlag) {\n    let itemIndex = getIndexByKey(vm.modalItems, \"confirmPassword\");\n    vm.modalItems[itemIndex].value = \"\";\n    vm.modalItems[itemIndex].disabled = true;\n  } else {\n    let itemIndex = getIndexByKey(vm.modalItems, \"confirmPassword\");\n    vm.modalItems[itemIndex].disabled = false;\n    for (var i = 0; i < 4; i++) {\n      let hintIndex = getIndexByKey(vm.modalItems, \"hint\" + i);\n      vm.modalItems[hintIndex].isShowDiv = false;\n    }\n  }\n  return nFlag;\n}\n\nfunction onModifyPageConfirmNewPswChange(vm, value) {\n  let itemIndex = getIndexByKey(vm.modalItems, \"newPassword\");\n  var newPsw = vm.modalItems[itemIndex].value;\n  let hintIndex = getIndexByKey(vm.modalItems, \"confirmPasswordhint\");\n  if (value.length <= 0 || newPsw.length <= 0) {\n    vm.modalItems[hintIndex].isShowDiv = false;\n    vm.confirmDisabled = true;\n    return -1;\n  }\n  if (value.length < 8 || value.length > newPsw.length) {\n    vm.modalItems[hintIndex].isShowDiv = true;\n    vm.confirmDisabled = true;\n    return -1;\n  } else if (value.length == newPsw.length && value == newPsw) {\n    vm.modalItems[hintIndex].isShowDiv = false;\n    vm.confirmDisabled = false;\n    return 1;\n  } else {\n    vm.modalItems[hintIndex].isShowDiv = true;\n    vm.confirmDisabled = true;\n  }\n  return 0;\n}\n</script>\n\n<style lang=\"less\" scoped>\n/deep/.ant-modal-content {\n  width: 950px;\n  border-radius: 10px;\n}\n\n/deep/.ant-modal-footer {\n  padding-top: 0px;\n  border-top: unset;\n}\n\n.ak-common-modal-footer {\n  margin-bottom: 40px;\n  margin-right: 34px;\n}\n\n.ak-common-modal-footer > div {\n  padding-top: 60px;\n}\n\n.ak-common-modal-footer-btn {\n  width: 120px;\n  font-size: 16px;\n  border-radius: 5px;\n  margin-left: 30px;\n}\n.ak-common-modal-footer-cancel {\n  background: rgba(241, 241, 241, 1);\n  color: #656565;\n  border: unset;\n}\n.ak-common-modal-footer-confirm {\n  background: rgba(0, 135, 247, 1);\n  color: #ffffff;\n  border: unset;\n}\n/deep/.ant-modal-title {\n  font-size: 20px;\n  color: #333333;\n  font-weight: bold;\n  min-height: 22px;\n}\n/deep/.ant-modal-header {\n  margin: 15px;\n  padding: 15px 15px;\n  border-bottom-color: #d3dbe1;\n}\n\n/deep/.ant-modal-body {\n  padding-top: 0px;\n  padding-bottom: 0px;\n}\n\n/deep/.ant-btn-danger:hover,\n/deep/ .ant-btn-danger:focus {\n  color: #656565;\n  background-color: #f9f9f9;\n}\n\n.ak-modal-span {\n  margin-left: 35px;\n  margin-right: 35px;\n  font-size: 16px;\n  float: left;\n  margin-bottom: 40px;\n}\n</style>"]}]}