{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/PhoneMulicast.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/PhoneMulicast.vue","mtime":1600155105014},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBDb21tb25QYWdlIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25QYWdlLnZ1ZSI7CmltcG9ydCB7CiAgc2hvd1JlcXVlc3RTdWNjZXNzLAogIHNob3dFcnJvckluZm8sCiAgaXNQb3J0LAogIGRlZXBDbG9uZSwKfSBmcm9tICJAL2pzL2NvbW1vbi5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ29tbW9uUGFnZSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFuZ2VkQ2ZnRGF0YToge30sCiAgICAgIHN1Ym1pdENmZ0RhdGE6IHt9LAogICAgICBhcGlEYXRhOiB7fSwKICAgICAgZGF0YTogewogICAgICAgIGdldERhdGFTdWNjZXNzOiBmYWxzZSwKICAgICAgfSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgZ2V0RGF0YSh0aGlzKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ29tbW9uUGFnZURhdGFDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkgewogICAgICAvL211bGl0Y2FzdCBMaXN06YOo5YiGCiAgICAgIGlmIChldmVudC5jb250ZW50S2V5ID09ICJtdWxpdGNhc3RMaXN0IikgewogICAgICAgIC8v5Y2V6YCJ6YC76L6RCiAgICAgICAgbGV0IGZhbHNlQ291bnQgPSAwOwogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnQubmV3VmFsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuTXVsdGljYXN0LkdST1VQIiArIChpICsgMSkgKyAiLklQIl0gPQogICAgICAgICAgICBldmVudC5uZXdWYWxbaV0ubXVsdGljYXN0QWRkcmVzcy52YWx1ZTsKICAgICAgICAgIGlmICghZXZlbnQubmV3VmFsW2ldLmVuYWJsZWQudmFsdWUpIHsKICAgICAgICAgICAgZmFsc2VDb3VudCsrOwogICAgICAgICAgfQogICAgICAgICAgaWYgKGV2ZW50Lm5ld1ZhbFtpXS5lbmFibGVkLnZhbHVlICYmICFldmVudC5vbGRWYWxbaV0uZW5hYmxlZC52YWx1ZSkgewogICAgICAgICAgICB0aGlzLmNoYW5nZWRDZmdEYXRhWwogICAgICAgICAgICAgICJDb25maWcuTXVsdGljYXN0LlNFTEVDVEVER1JPVVAuU2VsZWN0ZWRHcm91cCIKICAgICAgICAgICAgXSA9IGkgKyAxOwogICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGV2ZW50Lm5ld1ZhbC5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgIGlmIChpICE9IGopIHsKICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5jb250ZW50c1tldmVudC5jb250ZW50SW5kZXhdLml0ZW1zWwogICAgICAgICAgICAgICAgICBldmVudC5pdGVtSW5kZXgKICAgICAgICAgICAgICAgIF0udGFibGVEYXRhW2pdLmVuYWJsZWQudmFsdWUgPSBmYWxzZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKGZhbHNlQ291bnQgPT0gZXZlbnQubmV3VmFsLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLk11bHRpY2FzdC5TRUxFQ1RFREdST1VQLlNlbGVjdGVkR3JvdXAiXSA9CiAgICAgICAgICAgICIwIjsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZXZlbnQuY29udGVudEtleSA9PSAibGlzdGVuTGlzdCIpIHsKICAgICAgICAvL2xpc3RlbiBsaXN0IOmDqOWIhgogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnQubmV3VmFsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuTXVsdGljYXN0LkxJU1RFTiIgKyBpICsgIi5JUCJdID0KICAgICAgICAgICAgZXZlbnQubmV3VmFsW2ldLmxpc3RlbmluZ0FkZHJlc3MudmFsdWU7CiAgICAgICAgICB0aGlzLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuTXVsdGljYXN0LkxJU1RFTiIgKyBpICsgIi5MYWJlbCJdID0KICAgICAgICAgICAgZXZlbnQubmV3VmFsW2ldLmxhYmVsLnZhbHVlOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyBjaGVja0NvbW1pdERhdGEodGhpcyk7CiAgICB9LAogIH0sCn07CmZ1bmN0aW9uIGNoZWNrQ29tbWl0RGF0YSh2bSkgewogIGxldCBzdWNjZXNzID0gdHJ1ZTsKICAvL211bHRpY2FzdCBsaXN0CiAgbGV0IG11bHRpY2FzdExpc3RDb250ZW50SW5kZXggPSB2bS5kYXRhLmNvbnRlbnRzCiAgICAubWFwKChpdGVtKSA9PiBpdGVtLmtleSkKICAgIC5pbmRleE9mKCJtdWxpdGNhc3RMaXN0Iik7CiAgbGV0IG11bHRpY2FzdExpc3RJdGVtSW5kZXggPSB2bS5kYXRhLmNvbnRlbnRzW211bHRpY2FzdExpc3RDb250ZW50SW5kZXhdLml0ZW1zCiAgICAubWFwKChpdGVtKSA9PiBpdGVtLmtleSkKICAgIC5pbmRleE9mKCJtdWxpdGNhc3RMaXN0Iik7CiAgbGV0IG11bGl0Y2FzdFRhYmxlRGF0YSA9CiAgICB2bS5kYXRhLmNvbnRlbnRzW211bHRpY2FzdExpc3RDb250ZW50SW5kZXhdLml0ZW1zW211bHRpY2FzdExpc3RJdGVtSW5kZXhdCiAgICAgIC50YWJsZURhdGE7CiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdWxpdGNhc3RUYWJsZURhdGEubGVuZ3RoOyBpKyspIHsKICAgIG11bGl0Y2FzdFRhYmxlRGF0YVtpXS5tdWx0aWNhc3RBZGRyZXNzLmlzV2FybiA9IGZhbHNlOwogICAgaWYobXVsaXRjYXN0VGFibGVEYXRhW2ldLm11bHRpY2FzdEFkZHJlc3MudmFsdWUgPT0gIiIpewogICAgICBjb250aW51ZTsKICAgIH0KICAgIGxldCBwb3J0ID0gZ2V0UG9ydChtdWxpdGNhc3RUYWJsZURhdGFbaV0ubXVsdGljYXN0QWRkcmVzcy52YWx1ZSk7CiAgICBpZiAocG9ydCA9PSAiIiB8fCAhKGlzUG9ydChwb3J0KSAmJiBOdW1iZXIocG9ydCkgPj0gMTAyNCkpIHsKICAgICAgLy/kuI3lhYHorrjkuLrnqboKICAgICAgbXVsaXRjYXN0VGFibGVEYXRhW2ldLm11bHRpY2FzdEFkZHJlc3MuaXNXYXJuID0gdHJ1ZTsKICAgICAgbXVsaXRjYXN0VGFibGVEYXRhW2ldLm11bHRpY2FzdEFkZHJlc3Mud2FybkxhYmVsID0gdm0uJHQoIldyb25nUG9ydCIpOwogICAgICBzdWNjZXNzID0gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICAvL+S4jeWFgeiuuOmHjeWkjQogICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG11bGl0Y2FzdFRhYmxlRGF0YS5sZW5ndGg7IGorKykgewogICAgICAgIGlmICgKICAgICAgICAgIGkgIT0gaiAmJgogICAgICAgICAgZ2V0UG9ydChtdWxpdGNhc3RUYWJsZURhdGFbaV0ubXVsdGljYXN0QWRkcmVzcy52YWx1ZSkgPT0KICAgICAgICAgICAgZ2V0UG9ydChtdWxpdGNhc3RUYWJsZURhdGFbal0ubXVsdGljYXN0QWRkcmVzcy52YWx1ZSkKICAgICAgICApIHsKICAgICAgICAgIG11bGl0Y2FzdFRhYmxlRGF0YVtpXS5tdWx0aWNhc3RBZGRyZXNzLmlzV2FybiA9IHRydWU7CiAgICAgICAgICBtdWxpdGNhc3RUYWJsZURhdGFbaV0ubXVsdGljYXN0QWRkcmVzcy53YXJuTGFiZWwgPSB2bS4kdCgKICAgICAgICAgICAgIldhcm5pbmdTYW1lUG9ydEV4aXN0IgogICAgICAgICAgKTsKICAgICAgICAgIG11bGl0Y2FzdFRhYmxlRGF0YVtqXS5tdWx0aWNhc3RBZGRyZXNzLmlzV2FybiA9IHRydWU7CiAgICAgICAgICBtdWxpdGNhc3RUYWJsZURhdGFbal0ubXVsdGljYXN0QWRkcmVzcy53YXJuTGFiZWwgPSB2bS4kdCgKICAgICAgICAgICAgIldhcm5pbmdTYW1lUG9ydEV4aXN0IgogICAgICAgICAgKTsKICAgICAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CiAgLy9saXN0ZW4gbGlzdAogIGxldCBsaXN0ZW5MaXN0Q29udGVudEluZGV4ID0gdm0uZGF0YS5jb250ZW50cwogICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5rZXkpCiAgICAuaW5kZXhPZigibGlzdGVuTGlzdCIpOwogIGxldCBsaXN0ZW5MaXN0SXRlbUluZGV4ID0gdm0uZGF0YS5jb250ZW50c1tsaXN0ZW5MaXN0Q29udGVudEluZGV4XS5pdGVtcwogICAgLm1hcCgoaXRlbSkgPT4gaXRlbS5rZXkpCiAgICAuaW5kZXhPZigibGlzdGVuTGlzdCIpOwogIGxldCBsaXN0ZW5UYWJsZURhdGEgPQogICAgdm0uZGF0YS5jb250ZW50c1tsaXN0ZW5MaXN0Q29udGVudEluZGV4XS5pdGVtc1tsaXN0ZW5MaXN0SXRlbUluZGV4XQogICAgICAudGFibGVEYXRhOwogIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuVGFibGVEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICBsaXN0ZW5UYWJsZURhdGFbaV0ubGlzdGVuaW5nQWRkcmVzcy5pc1dhcm4gPSBmYWxzZTsKICAgIGlmKGxpc3RlblRhYmxlRGF0YVtpXS5saXN0ZW5pbmdBZGRyZXNzLnZhbHVlID09ICIiKXsKICAgICAgY29udGludWU7CiAgICB9CiAgICBsZXQgcG9ydCA9IGdldFBvcnQobGlzdGVuVGFibGVEYXRhW2ldLmxpc3RlbmluZ0FkZHJlc3MudmFsdWUpOwogICAgaWYgKHBvcnQgPT0gIiIgfHwgIShpc1BvcnQocG9ydCkgJiYgTnVtYmVyKHBvcnQpID49IDEwMjQpKSB7CiAgICAgIC8v5LiN5YWB6K645Li656m6CiAgICAgIGxpc3RlblRhYmxlRGF0YVtpXS5saXN0ZW5pbmdBZGRyZXNzLmlzV2FybiA9IHRydWU7CiAgICAgIGxpc3RlblRhYmxlRGF0YVtpXS5saXN0ZW5pbmdBZGRyZXNzLndhcm5MYWJlbCA9IHZtLiR0KCJXcm9uZ1BvcnQiKTsKICAgICAgc3VjY2VzcyA9IGZhbHNlOwogICAgfSBlbHNlIHsKICAgICAgLy/kuI3lhYHorrjph43lpI0KICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsaXN0ZW5UYWJsZURhdGEubGVuZ3RoOyBqKyspIHsKICAgICAgICBpZiAoCiAgICAgICAgICBpICE9IGogJiYKICAgICAgICAgIGdldFBvcnQobGlzdGVuVGFibGVEYXRhW2ldLmxpc3RlbmluZ0FkZHJlc3MudmFsdWUpID09CiAgICAgICAgICAgIGdldFBvcnQobGlzdGVuVGFibGVEYXRhW2pdLmxpc3RlbmluZ0FkZHJlc3MudmFsdWUpCiAgICAgICAgKSB7CiAgICAgICAgICBsaXN0ZW5UYWJsZURhdGFbaV0ubGlzdGVuaW5nQWRkcmVzcy5pc1dhcm4gPSB0cnVlOwogICAgICAgICAgbGlzdGVuVGFibGVEYXRhW2ldLmxpc3RlbmluZ0FkZHJlc3Mud2FybkxhYmVsID0gdm0uJHQoCiAgICAgICAgICAgICJXYXJuaW5nU2FtZVBvcnRFeGlzdCIKICAgICAgICAgICk7CiAgICAgICAgICBsaXN0ZW5UYWJsZURhdGFbal0ubGlzdGVuaW5nQWRkcmVzcy5pc1dhcm4gPSB0cnVlOwogICAgICAgICAgbGlzdGVuVGFibGVEYXRhW2pdLmxpc3RlbmluZ0FkZHJlc3Mud2FybkxhYmVsID0gdm0uJHQoCiAgICAgICAgICAgICJXYXJuaW5nU2FtZVBvcnRFeGlzdCIKICAgICAgICAgICk7CiAgICAgICAgICBzdWNjZXNzID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIHJldHVybiBzdWNjZXNzOwp9CgpmdW5jdGlvbiBnZXRQb3J0KHZhbHVlKSB7CiAgcmV0dXJuIHZhbHVlLmluZGV4T2YoIjoiKSA9PSAtMQogICAgPyAiIgogICAgOiB2YWx1ZS5zcGxpdCgiOiIpW3ZhbHVlLnNwbGl0KCI6IikubGVuZ3RoIC0gMV07Cn0KCmZ1bmN0aW9uIHN1Ym1pdERhdGEodm0pIHsKICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSB0cnVlOwoKICBsZXQgcmVxdWVzdERhdGEgPSB7CiAgICB0YXJnZXQ6ICJwaG9uZUludGVyY29tIiwKICAgIGFjdGlvbjogInNldCIsCiAgICBjb25maWdEYXRhOiB2bS5zdWJtaXRDZmdEYXRhLAogIH07CiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgc2hvd1JlcXVlc3RTdWNjZXNzKHZtKTsKICAgIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IGZhbHNlOwogIH0pOwp9CgpmdW5jdGlvbiBnZXREYXRhKHZtKSB7CiAgdm0uJGF4aW9zLmdldCgiYXBpL3Bob25lTXVsdGljYXN0L2luZm8iKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgdm0uZ2V0RGF0YVN1Y2Nlc3MgPSB0cnVlOwogICAgdm0uYXBpRGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICB2bS5jaGFuZ2VkQ2ZnRGF0YSA9IGRlZXBDbG9uZShyZXNwb25zZS5kYXRhLmNvbmZpZ0RhdGEpOwogICAgY3JlYXRlUGFnZURhdGEodm0pOwogIH0pOwp9CgpmdW5jdGlvbiBnZXRDb21taXREYXRhKHZtKSB7CiAgdm0uc3VibWl0Q2ZnRGF0YSA9IHt9OwogIGZvciAodmFyIGNoYW5nZWRLZXkgaW4gdm0uY2hhbmdlZENmZ0RhdGEpIHsKICAgIGlmICh2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbY2hhbmdlZEtleV0gIT0gdm0uY2hhbmdlZENmZ0RhdGFbY2hhbmdlZEtleV0pIHsKICAgICAgdm0uc3VibWl0Q2ZnRGF0YVtjaGFuZ2VkS2V5XSA9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldOwogICAgfQogIH0KfQoKZnVuY3Rpb24gY3JlYXRlUGFnZURhdGEodm0pIHsKICBsZXQgbXVsaXRjYXN0TGlzdFRhYmxlRGF0YSA9IFtdOwogIGxldCBsaXN0ZW5MaXN0VGFibGVEYXRhID0gW107CiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMzsgaSsrKSB7CiAgICBsZXQgbXVsaXRjYXN0RGF0YSA9IHsKICAgICAga2V5OiBpIC0gMSwKICAgICAgbWx1dGljYXN0R3JvdXA6IHZtLiR0KCJNdWx0aWNhc3RHcm91cCIpICsgIiAxIiwKICAgICAgbXVsdGljYXN0QWRkcmVzczogewogICAgICAgIHZhbHVlOiB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5NdWx0aWNhc3QuR1JPVVAiICsgaSArICIuSVAiXSwKICAgICAgICBpc1dhcm46IGZhbHNlLAogICAgICAgIHdhcm5MYWJlbDogIiIsCiAgICAgIH0sCiAgICAgIGVuYWJsZWQ6IHsKICAgICAgICB2YWx1ZToKICAgICAgICAgIHZtLmFwaURhdGEuY29uZmlnRGF0YVsKICAgICAgICAgICAgIkNvbmZpZy5NdWx0aWNhc3QuU0VMRUNURURHUk9VUC5TZWxlY3RlZEdyb3VwIgogICAgICAgICAgXSA9PSBpLAogICAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgfSwKICAgIH07CiAgICBtdWxpdGNhc3RMaXN0VGFibGVEYXRhLnB1c2gobXVsaXRjYXN0RGF0YSk7CgogICAgbGV0IGxpc3RlbkRhdGEgPSB7CiAgICAgIGtleTogaSAtIDEsCiAgICAgIGxpc3RlbmluZ0FkZHJlc3M6IHsKICAgICAgICB2YWx1ZToKICAgICAgICAgIHZtLmFwaURhdGEuY29uZmlnRGF0YVsiQ29uZmlnLk11bHRpY2FzdC5MSVNURU4iICsgKGkgLSAxKSArICIuSVAiXSwKICAgICAgICBpc1dhcm46IGZhbHNlLAogICAgICAgIHdhcm5MYWJlbDogIiIsCiAgICAgIH0sCiAgICAgIGxhYmVsOiB7CiAgICAgICAgdmFsdWU6CiAgICAgICAgICB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5NdWx0aWNhc3QuTElTVEVOIiArIChpIC0gMSkgKyAiLkxhYmVsIl0sCiAgICAgICAgaXNXYXJuOiBmYWxzZSwKICAgICAgICB3YXJuTGFiZWw6ICIiLAogICAgICB9LAogICAgICBsaXN0ZW5Hcm91cDogdm0uJHQoIkxpc3Rlbkdyb3VwIikgKyAiIDEiLAogICAgfTsKICAgIGxpc3Rlbkxpc3RUYWJsZURhdGEucHVzaChsaXN0ZW5EYXRhKTsKICB9CgogIHZtLmRhdGEgPSB7CiAgICBnZXREYXRhU3VjY2VzczogdHJ1ZSwKICAgIGJyZWFkQ3J1bWI6IHsKICAgICAgZmlyc3RUaXRsZTogdm0uJHQoIlBob25lIiksCiAgICAgIHNlY29uZFRpdGxlOiB2bS4kdCgiTXVsdGljYXN0IiksCiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgZ2V0Q29tbWl0RGF0YSh2bSk7CiAgICAgIGlmICghY2hlY2tDb21taXREYXRhKHZtKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBzdWJtaXREYXRhKHZtKTsKICAgIH0sCiAgICBvbkNhbmNlbDogZnVuY3Rpb24gKCkgewogICAgICB2bS5kYXRhLmNhbmNlbExvYWRpbmcgPSB0cnVlOwogICAgICBnZXREYXRhKHZtKTsKICAgIH0sCiAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwKICAgIGNhbmNlbExvYWRpbmc6IGZhbHNlLAogICAgY29udGVudHM6IFsKICAgICAgewogICAgICAgIGtleTogIm11bGl0Y2FzdExpc3QiLAogICAgICAgIHRpdGxlOiB2bS4kdCgiTXVsdGljYXN0TGlzdCIpLAogICAgICAgIGl0ZW1zOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJ0YWJsZSIsCiAgICAgICAgICAgIGtleTogIm11bGl0Y2FzdExpc3QiLAogICAgICAgICAgICB0YWJsZUNvbHVtbnM6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJNdWx0aWNhc3RHcm91cCIpLAogICAgICAgICAgICAgICAgZGF0YUluZGV4OiAibWx1dGljYXN0R3JvdXAiLAogICAgICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAibWx1dGljYXN0R3JvdXAiIH0sCiAgICAgICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAiaW5wdXQiLAogICAgICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJNdWx0aWNhc3RBZGRyZXNzIiksCiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICJtdWx0aWNhc3RBZGRyZXNzIiwKICAgICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogIm11bHRpY2FzdEFkZHJlc3MiIH0sCiAgICAgICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0eXBlOiAiY2hlY2tib3giLAogICAgICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJFbmFibGVkIiksCiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICJlbmFibGVkIiwKICAgICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImVuYWJsZWQiIH0sCiAgICAgICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgdGFibGVEYXRhOiBtdWxpdGNhc3RMaXN0VGFibGVEYXRhLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICB9LAogICAgICB7CiAgICAgICAga2V5OiAibGlzdGVuTGlzdCIsCiAgICAgICAgdGl0bGU6IHZtLiR0KCJMaXN0ZW5MaXN0IiksCiAgICAgICAgaXRlbXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogInRhYmxlIiwKICAgICAgICAgICAga2V5OiAibGlzdGVuTGlzdCIsCiAgICAgICAgICAgIHRhYmxlQ29sdW1uczogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHR5cGU6ICJsYWJlbCIsCiAgICAgICAgICAgICAgICB0aXRsZTogdm0uJHQoIkxpc3Rlbkdyb3VwIiksCiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICJsaXN0ZW5Hcm91cCIsCiAgICAgICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJsaXN0ZW5Hcm91cCIgfSwKICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHR5cGU6ICJpbnB1dCIsCiAgICAgICAgICAgICAgICB0aXRsZTogdm0uJHQoIkxpc3RlbmluZ0FkZHJlc3MiKSwKICAgICAgICAgICAgICAgIGRhdGFJbmRleDogImxpc3RlbmluZ0FkZHJlc3MiLAogICAgICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAibGlzdGVuaW5nQWRkcmVzcyIgfSwKICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHR5cGU6ICJpbnB1dCIsCiAgICAgICAgICAgICAgICB0aXRsZTogdm0uJHQoIkxhYmVsIiksCiAgICAgICAgICAgICAgICBkYXRhSW5kZXg6ICJsYWJlbCIsCiAgICAgICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJsYWJlbCIgfSwKICAgICAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgICB0YWJsZURhdGE6IGxpc3Rlbkxpc3RUYWJsZURhdGEsCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgIH0sCiAgICBdLAogIH07Cn0K"},{"version":3,"sources":["PhoneMulicast.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PhoneMulicast.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\n</template>\n\n<script>\nimport CommonPage from \"@/components/CommonPage.vue\";\nimport {\n  showRequestSuccess,\n  showErrorInfo,\n  isPort,\n  deepClone,\n} from \"@/js/common.js\";\n\nexport default {\n  components: {\n    CommonPage,\n  },\n  data() {\n    return {\n      changedCfgData: {},\n      submitCfgData: {},\n      apiData: {},\n      data: {\n        getDataSuccess: false,\n      },\n    };\n  },\n  created() {\n    getData(this);\n  },\n  methods: {\n    onCommonPageDataChange: function (event) {\n      //mulitcast List部分\n      if (event.contentKey == \"mulitcastList\") {\n        //单选逻辑\n        let falseCount = 0;\n        for (let i = 0; i < event.newVal.length; i++) {\n          this.changedCfgData[\"Config.Multicast.GROUP\" + (i + 1) + \".IP\"] =\n            event.newVal[i].multicastAddress.value;\n          if (!event.newVal[i].enabled.value) {\n            falseCount++;\n          }\n          if (event.newVal[i].enabled.value && !event.oldVal[i].enabled.value) {\n            this.changedCfgData[\n              \"Config.Multicast.SELECTEDGROUP.SelectedGroup\"\n            ] = i + 1;\n            for (let j = 0; j < event.newVal.length; j++) {\n              if (i != j) {\n                this.data.contents[event.contentIndex].items[\n                  event.itemIndex\n                ].tableData[j].enabled.value = false;\n              }\n            }\n          }\n        }\n        if (falseCount == event.newVal.length) {\n          this.changedCfgData[\"Config.Multicast.SELECTEDGROUP.SelectedGroup\"] =\n            \"0\";\n        }\n      } else if (event.contentKey == \"listenList\") {\n        //listen list 部分\n        for (let i = 0; i < event.newVal.length; i++) {\n          this.changedCfgData[\"Config.Multicast.LISTEN\" + i + \".IP\"] =\n            event.newVal[i].listeningAddress.value;\n          this.changedCfgData[\"Config.Multicast.LISTEN\" + i + \".Label\"] =\n            event.newVal[i].label.value;\n        }\n      }\n      // checkCommitData(this);\n    },\n  },\n};\nfunction checkCommitData(vm) {\n  let success = true;\n  //multicast list\n  let multicastListContentIndex = vm.data.contents\n    .map((item) => item.key)\n    .indexOf(\"mulitcastList\");\n  let multicastListItemIndex = vm.data.contents[multicastListContentIndex].items\n    .map((item) => item.key)\n    .indexOf(\"mulitcastList\");\n  let mulitcastTableData =\n    vm.data.contents[multicastListContentIndex].items[multicastListItemIndex]\n      .tableData;\n  for (let i = 0; i < mulitcastTableData.length; i++) {\n    mulitcastTableData[i].multicastAddress.isWarn = false;\n    if(mulitcastTableData[i].multicastAddress.value == \"\"){\n      continue;\n    }\n    let port = getPort(mulitcastTableData[i].multicastAddress.value);\n    if (port == \"\" || !(isPort(port) && Number(port) >= 1024)) {\n      //不允许为空\n      mulitcastTableData[i].multicastAddress.isWarn = true;\n      mulitcastTableData[i].multicastAddress.warnLabel = vm.$t(\"WrongPort\");\n      success = false;\n    } else {\n      //不允许重复\n      for (let j = 0; j < mulitcastTableData.length; j++) {\n        if (\n          i != j &&\n          getPort(mulitcastTableData[i].multicastAddress.value) ==\n            getPort(mulitcastTableData[j].multicastAddress.value)\n        ) {\n          mulitcastTableData[i].multicastAddress.isWarn = true;\n          mulitcastTableData[i].multicastAddress.warnLabel = vm.$t(\n            \"WarningSamePortExist\"\n          );\n          mulitcastTableData[j].multicastAddress.isWarn = true;\n          mulitcastTableData[j].multicastAddress.warnLabel = vm.$t(\n            \"WarningSamePortExist\"\n          );\n          success = false;\n        }\n      }\n    }\n  }\n  //listen list\n  let listenListContentIndex = vm.data.contents\n    .map((item) => item.key)\n    .indexOf(\"listenList\");\n  let listenListItemIndex = vm.data.contents[listenListContentIndex].items\n    .map((item) => item.key)\n    .indexOf(\"listenList\");\n  let listenTableData =\n    vm.data.contents[listenListContentIndex].items[listenListItemIndex]\n      .tableData;\n  for (let i = 0; i < listenTableData.length; i++) {\n    listenTableData[i].listeningAddress.isWarn = false;\n    if(listenTableData[i].listeningAddress.value == \"\"){\n      continue;\n    }\n    let port = getPort(listenTableData[i].listeningAddress.value);\n    if (port == \"\" || !(isPort(port) && Number(port) >= 1024)) {\n      //不允许为空\n      listenTableData[i].listeningAddress.isWarn = true;\n      listenTableData[i].listeningAddress.warnLabel = vm.$t(\"WrongPort\");\n      success = false;\n    } else {\n      //不允许重复\n      for (let j = 0; j < listenTableData.length; j++) {\n        if (\n          i != j &&\n          getPort(listenTableData[i].listeningAddress.value) ==\n            getPort(listenTableData[j].listeningAddress.value)\n        ) {\n          listenTableData[i].listeningAddress.isWarn = true;\n          listenTableData[i].listeningAddress.warnLabel = vm.$t(\n            \"WarningSamePortExist\"\n          );\n          listenTableData[j].listeningAddress.isWarn = true;\n          listenTableData[j].listeningAddress.warnLabel = vm.$t(\n            \"WarningSamePortExist\"\n          );\n          success = false;\n        }\n      }\n    }\n  }\n  return success;\n}\n\nfunction getPort(value) {\n  return value.indexOf(\":\") == -1\n    ? \"\"\n    : value.split(\":\")[value.split(\":\").length - 1];\n}\n\nfunction submitData(vm) {\n  vm.data.submitLoading = true;\n\n  let requestData = {\n    target: \"phoneIntercom\",\n    action: \"set\",\n    configData: vm.submitCfgData,\n  };\n  vm.$axios.post(\"api\", requestData).then((response) => {\n    showRequestSuccess(vm);\n    vm.data.submitLoading = false;\n  });\n}\n\nfunction getData(vm) {\n  vm.$axios.get(\"api/phoneMulticast/info\").then((response) => {\n    vm.getDataSuccess = true;\n    vm.apiData = response.data;\n    vm.changedCfgData = deepClone(response.data.configData);\n    createPageData(vm);\n  });\n}\n\nfunction getCommitData(vm) {\n  vm.submitCfgData = {};\n  for (var changedKey in vm.changedCfgData) {\n    if (vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]) {\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey];\n    }\n  }\n}\n\nfunction createPageData(vm) {\n  let mulitcastListTableData = [];\n  let listenListTableData = [];\n  for (let i = 1; i <= 3; i++) {\n    let mulitcastData = {\n      key: i - 1,\n      mluticastGroup: vm.$t(\"MulticastGroup\") + \" 1\",\n      multicastAddress: {\n        value: vm.apiData.configData[\"Config.Multicast.GROUP\" + i + \".IP\"],\n        isWarn: false,\n        warnLabel: \"\",\n      },\n      enabled: {\n        value:\n          vm.apiData.configData[\n            \"Config.Multicast.SELECTEDGROUP.SelectedGroup\"\n          ] == i,\n        disabled: false,\n      },\n    };\n    mulitcastListTableData.push(mulitcastData);\n\n    let listenData = {\n      key: i - 1,\n      listeningAddress: {\n        value:\n          vm.apiData.configData[\"Config.Multicast.LISTEN\" + (i - 1) + \".IP\"],\n        isWarn: false,\n        warnLabel: \"\",\n      },\n      label: {\n        value:\n          vm.apiData.configData[\"Config.Multicast.LISTEN\" + (i - 1) + \".Label\"],\n        isWarn: false,\n        warnLabel: \"\",\n      },\n      listenGroup: vm.$t(\"ListenGroup\") + \" 1\",\n    };\n    listenListTableData.push(listenData);\n  }\n\n  vm.data = {\n    getDataSuccess: true,\n    breadCrumb: {\n      firstTitle: vm.$t(\"Phone\"),\n      secondTitle: vm.$t(\"Multicast\"),\n    },\n    onSubmit: function () {\n      getCommitData(vm);\n      if (!checkCommitData(vm)) {\n        return;\n      }\n      submitData(vm);\n    },\n    onCancel: function () {\n      vm.data.cancelLoading = true;\n      getData(vm);\n    },\n    submitLoading: false,\n    cancelLoading: false,\n    contents: [\n      {\n        key: \"mulitcastList\",\n        title: vm.$t(\"MulticastList\"),\n        items: [\n          {\n            type: \"table\",\n            key: \"mulitcastList\",\n            tableColumns: [\n              {\n                type: \"label\",\n                title: vm.$t(\"MulticastGroup\"),\n                dataIndex: \"mluticastGroup\",\n                scopedSlots: { customRender: \"mluticastGroup\" },\n                align: \"center\",\n              },\n              {\n                type: \"input\",\n                title: vm.$t(\"MulticastAddress\"),\n                dataIndex: \"multicastAddress\",\n                scopedSlots: { customRender: \"multicastAddress\" },\n                align: \"center\",\n              },\n              {\n                type: \"checkbox\",\n                title: vm.$t(\"Enabled\"),\n                dataIndex: \"enabled\",\n                scopedSlots: { customRender: \"enabled\" },\n                align: \"center\",\n              },\n            ],\n            tableData: mulitcastListTableData,\n          },\n        ],\n      },\n      {\n        key: \"listenList\",\n        title: vm.$t(\"ListenList\"),\n        items: [\n          {\n            type: \"table\",\n            key: \"listenList\",\n            tableColumns: [\n              {\n                type: \"label\",\n                title: vm.$t(\"ListenGroup\"),\n                dataIndex: \"listenGroup\",\n                scopedSlots: { customRender: \"listenGroup\" },\n                align: \"center\",\n              },\n              {\n                type: \"input\",\n                title: vm.$t(\"ListeningAddress\"),\n                dataIndex: \"listeningAddress\",\n                scopedSlots: { customRender: \"listeningAddress\" },\n                align: \"center\",\n              },\n              {\n                type: \"input\",\n                title: vm.$t(\"Label\"),\n                dataIndex: \"label\",\n                scopedSlots: { customRender: \"label\" },\n                align: \"center\",\n              },\n            ],\n            tableData: listenListTableData,\n          },\n        ],\n      },\n    ],\n  };\n}\n</script>"]}]}