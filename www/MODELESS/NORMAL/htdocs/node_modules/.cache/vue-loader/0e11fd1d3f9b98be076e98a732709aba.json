{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/PhoneTime.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/PhoneTime.vue","mtime":1600155105014},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBDb21tb25QYWdlIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25QYWdlLnZ1ZSI7CmltcG9ydCB7CiAgc2hvd1JlcXVlc3RTdWNjZXNzLAogIGdldEluZGV4QnlLZXksCiAgZ2V0SXRlbUJ5S2V5LAogIGRlZXBDbG9uZSwKICBub3RDb250YWluSW52YWxpZF9Ob3RFbXB0eSwKICBpc0FuSW50ZXJnZXIKfSBmcm9tICJAL2pzL2NvbW1vbi5qcyI7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBDb21tb25QYWdlLAogIH0sCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBjaGFuZ2VkQ2ZnRGF0YTp7fSwKICAgICAgc3VibWl0Q2ZnRGF0YTp7fSwKICAgICAgYXBpRGF0YToge30sCiAgICAgIGRhdGE6IHsKICAgICAgICBnZXREYXRhU3VjY2VzczogZmFsc2UsCiAgICAgIH0sCiAgICAgIGF1dG9EYXRlOiBCb29sZWFuLAogICAgICBkYXRlOiBuZXcgRGF0ZSgpLAogICAgICB1c2UxMkhvdXJzOiBCb29sZWFuLAogICAgICB0aW1lWm9uZUl0ZW1zOiBbXSwKICAgICAgZGF0ZUZvcm1hdEl0ZW1zOiBbCiAgICAgICAge2tleTogMCwgbGFiZWw6ICJZWVlZLU1NLUREIn0sCiAgICAgICAge2tleTogMSwgbGFiZWw6ICJZWVlZL01NL0REIn0sCiAgICAgICAge2tleTogMiwgbGFiZWw6ICJERC1NTS1ZWVlZIn0sCiAgICAgICAge2tleTogMywgbGFiZWw6ICJERC9NTS9ZWVlZIn0sCiAgICAgICAge2tleTogNiwgbGFiZWw6ICJNTS1ERC1ZWVlZIn0sCiAgICAgICAge2tleTogNywgbGFiZWw6ICJNTS9ERC9ZWVlZIn0sCiAgICAgIF0sCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgZ2V0RGF0YSh0aGlzKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ29tbW9uUGFnZURhdGFDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkgewogICAgICBpZihldmVudC5pdGVtS2V5ID09ICJhdXRvbWF0aWMiKXsKICAgICAgICBjaGFuZ2VBdXRvRGlzYWJlbGQodGhpcyxldmVudC5uZXdWYWwpOwogICAgICAgIHRoaXMuYXV0b0RhdGUgPSBldmVudC5uZXdWYWw7CiAgICAgIH0gZWxzZSBpZihldmVudC5pdGVtS2V5ID09ICJDb25maWcuU2V0dGluZ3MuREFURVRJTUUuVGltZUZvcm1hdCIpewogICAgICAgIGNoYW5nZVRpbWVGb3JtYXQodGhpcyxldmVudC5uZXdWYWwpOwogICAgICAgIHRoaXMuY2hhbmdlZENmZ0RhdGFbZXZlbnQuaXRlbUtleV0gPSBldmVudC5uZXdWYWw7CiAgICAgIH0gZWxzZSBpZihldmVudC5pdGVtS2V5ID09ICJDb25maWcuU2V0dGluZ3MuREFURVRJTUUuRGF0ZUZvcm1hdCIpewogICAgICAgIGNoYW5nZURhdGVGb3JtYXQodGhpcyxldmVudC5uZXdWYWwpOwogICAgICAgIHRoaXMuY2hhbmdlZENmZ0RhdGFbZXZlbnQuaXRlbUtleV0gPSBldmVudC5uZXdWYWw7CiAgICAgIH0gZWxzZSBpZihldmVudC5pdGVtS2V5ID09ICJwaG9uZURhdGUiKXsKICAgICAgICB0aGlzLmRhdGUgPSBldmVudC5uZXdWYWw7CiAgICAgICAgbGV0IGl0ZW0gPSBnZXRJdGVtQnlLZXkoCiAgICAgICAgICB0aGlzLmRhdGEsCiAgICAgICAgICAidGltZVNldHRpbmciLAogICAgICAgICAgInBob25lRGF0ZSIKICAgICAgICApOwogICAgICAgIGl0ZW0udmFsdWUgPSBtb21lbnQodGhpcy5kYXRlKTsKICAgICAgfSBlbHNlIGlmKGV2ZW50Lml0ZW1LZXkgPT0gInBob25lVGltZSIpewogICAgICAgIHRoaXMuZGF0ZSA9IGV2ZW50Lm5ld1ZhbC50b0RhdGUoKTsKICAgICAgICBsZXQgaXRlbSA9IGdldEl0ZW1CeUtleSgKICAgICAgICAgIHRoaXMuZGF0YSwKICAgICAgICAgICJ0aW1lU2V0dGluZyIsCiAgICAgICAgICAicGhvbmVUaW1lIgogICAgICAgICk7CiAgICAgICAgaXRlbS52YWx1ZSA9IGV2ZW50Lm5ld1ZhbDsKICAgICAgfSBlbHNlIGlmKGV2ZW50Lml0ZW1LZXkgPT0gIkNvbmZpZy5TZXR0aW5ncy5TTlRQLk5hbWUiKXsKICAgICAgICBsZXQgaXRlbUluZGV4ID0gZ2V0SW5kZXhCeUtleSh0aGlzLnRpbWVab25lSXRlbXMsZXZlbnQubmV3VmFsKTsKICAgICAgICB0aGlzLmNoYW5nZWRDZmdEYXRhW2V2ZW50Lml0ZW1LZXldID0gZXZlbnQubmV3VmFsOwogICAgICAgIHRoaXMuY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5TTlRQLlRpbWVab25lIl0gPSB0aGlzLnRpbWVab25lSXRlbXNbaXRlbUluZGV4XS50aW1lWm9uZTsKICAgICAgfSBlbHNlewogICAgICAgIHRoaXMuY2hhbmdlZENmZ0RhdGFbZXZlbnQuaXRlbUtleV0gPSBldmVudC5uZXdWYWw7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsKCmZ1bmN0aW9uIHN1Ym1pdERhdGEodm0pIHsKICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSB0cnVlOwoKICBsZXQgcmVxdWVzdERhdGEgPSB7CiAgICB0YXJnZXQ6ICJwaG9uZVRpbWUiLAogICAgYWN0aW9uOiAic2V0IiwKICAgIGNvbmZpZ0RhdGE6IHZtLnN1Ym1pdENmZ0RhdGEsCiAgICBkYXRhOiB7CiAgICAgICJUaW1lLlllYXIiOiB2bS5kYXRlLmdldFllYXIoKSwKICAgICAgIlRpbWUuTW9udGgiOiB2bS5kYXRlLmdldE1vbnRoKCksCiAgICAgICJUaW1lLkRheSI6IHZtLmRhdGUuZ2V0RGF0ZSgpLAogICAgICAiVGltZS5Ib3VyIjogdm0uZGF0ZS5nZXRIb3VycygpLAogICAgICAiVGltZS5NaW51dGVzIjogdm0uZGF0ZS5nZXRNaW51dGVzKCksCiAgICAgICJUaW1lLlNlY29uZHMiOiB2bS5kYXRlLmdldFNlY29uZHMoKSwKICAgICAgIlRpbWUuQXV0byI6IHZtLmF1dG9EYXRlLAogICAgfSwKICB9OwogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgIHNob3dSZXF1ZXN0U3VjY2Vzcyh2bSk7CiAgICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsKICB9KTsKfQoKZnVuY3Rpb24gZ2V0RGF0YSh2bSkgewogIHZtLiRheGlvcy5nZXQoImFwaS9waG9uZVRpbWUvaW5mbyIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICB2bS5nZXREYXRhU3VjY2VzcyA9IHRydWU7CiAgICB2bS5hcGlEYXRhID0gcmVzcG9uc2UuZGF0YTsKICAgIHZtLmRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICB2bS5jaGFuZ2VkQ2ZnRGF0YSA9IGRlZXBDbG9uZShyZXNwb25zZS5kYXRhLmNvbmZpZ0RhdGEpOwogICAgdm0uYXV0b0RhdGUgPSB2bS5kYXRhLlRpbWUuQXV0bzsKCiAgICAvL+iOt+WPluaXtumXtAogICAgdm0uZGF0ZS5zZXRZZWFyKHZtLmRhdGEuVGltZS5ZZWFyKTsKICAgIHZtLmRhdGUuc2V0TW9udGgodm0uZGF0YS5UaW1lLk1vbnRoKTsKICAgIHZtLmRhdGUuc2V0RGF0ZSh2bS5kYXRhLlRpbWUuRGF5KTsKICAgIHZtLmRhdGUuc2V0SG91cnModm0uZGF0YS5UaW1lLkhvdXIpOwogICAgdm0uZGF0ZS5zZXRNaW51dGVzKHZtLmRhdGEuVGltZS5NaW51dGVzKTsKCiAgICAvL+iOt+WPllRpbWVab25lCiAgICB2bS50aW1lWm9uZUl0ZW1zID0gW107CiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdm0uZGF0YS5UaW1lWm9uZXMubGVuZ3RoOyBpKyspewogICAgICBsZXQgaXRlbSA9IHsia2V5Ijp2bS5kYXRhLlRpbWVab25lc1tpXS5UaW1lWm9uZU5hbWUsImxhYmVsIjp2bS5kYXRhLlRpbWVab25lc1tpXS5UaW1lWm9uZSArICcgJyArdm0uZGF0YS5UaW1lWm9uZXNbaV0uVGltZVpvbmVOYW1lLCJ0aW1lWm9uZSI6IHZtLmRhdGEuVGltZVpvbmVzW2ldLlRpbWVab25lfTsKICAgICAgdm0udGltZVpvbmVJdGVtcy5wdXNoKGl0ZW0pOwogICAgfQogICAgY3JlYXRlUGFnZURhdGEodm0pOwoKICAgIC8v5Yik5pat5piv5ZCm6Ieq5Yqo6I635Y+W5pe26Ze0CiAgICBjaGFuZ2VBdXRvRGlzYWJlbGQodm0sdm0uYXV0b0RhdGUpOwoKICAgIC8v6I635Y+WZGF0ZUZvcm1hdAogICAgZm9yKHZhciBpID0gMDsgaSA8IHZtLmRhdGVGb3JtYXRJdGVtcy5sZW5ndGg7IGkrKyl7CiAgICAgIGlmICh2bS5kYXRlRm9ybWF0SXRlbXNbaV0ua2V5LnRvU3RyaW5nKCkgPT0gdm0uYXBpRGF0YS5jb25maWdEYXRhWydDb25maWcuU2V0dGluZ3MuREFURVRJTUUuRGF0ZUZvcm1hdCddKXsKICAgICAgICBjaGFuZ2VEYXRlRm9ybWF0KHZtLCB2bS5kYXRlRm9ybWF0SXRlbXNbaV0ubGFiZWwpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgLy/ojrflj5Z0aW1lRm9ybWF0CiAgICBjaGFuZ2VUaW1lRm9ybWF0KHZtLHZtLmFwaURhdGEuY29uZmlnRGF0YVsnQ29uZmlnLlNldHRpbmdzLkRBVEVUSU1FLlRpbWVGb3JtYXQnXSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldENvbW1pdERhdGEodm0pewogIHZtLnN1Ym1pdENmZ0RhdGEgPSB7fTsKICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7CiAgICBpZih2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbY2hhbmdlZEtleV0gIT0gdm0uY2hhbmdlZENmZ0RhdGFbY2hhbmdlZEtleV0pewogICAgICB2bS5zdWJtaXRDZmdEYXRhW2NoYW5nZWRLZXldID0gdm0uY2hhbmdlZENmZ0RhdGFbY2hhbmdlZEtleV07CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBjaGFuZ2VBdXRvRGlzYWJlbGQodm0sYXV0b1ZhbHVlKXsKICBsZXQgaXRlbTEgPSBnZXRJdGVtQnlLZXkoCiAgICB2bS5kYXRhLAogICAgInRpbWVTZXR0aW5nIiwKICAgICJwaG9uZURhdGUiCiAgKTsKICBsZXQgaXRlbTIgPSBnZXRJdGVtQnlLZXkoCiAgICB2bS5kYXRhLAogICAgInRpbWVTZXR0aW5nIiwKICAgICJwaG9uZVRpbWUiCiAgKTsKICBpZihhdXRvVmFsdWUgPT0gMSl7CiAgICBpdGVtMS5kaXNhYmxlZCA9IHRydWU7CiAgICBpdGVtMi5kaXNhYmxlZCA9IHRydWU7CiAgfSBlbHNlewogICAgaXRlbTEuZGlzYWJsZWQgPSBmYWxzZTsKICAgIGl0ZW0yLmRpc2FibGVkID0gZmFsc2U7CiAgfQp9CgpmdW5jdGlvbiBjaGFuZ2VEYXRlRm9ybWF0KHZtLGRhdGVGb3JtYXQpewogIGxldCBpdGVtID0gZ2V0SXRlbUJ5S2V5KAogICAgdm0uZGF0YSwKICAgICJ0aW1lU2V0dGluZyIsCiAgICAicGhvbmVEYXRlIgogICk7CiAgaXRlbS5kYXRlRm9ybWF0ID0gZGF0ZUZvcm1hdDsKfQoKZnVuY3Rpb24gY2hhbmdlVGltZUZvcm1hdCh2bSx0aW1lRm9ybWF0KXsKICBsZXQgaXRlbSA9IGdldEl0ZW1CeUtleSgKICAgIHZtLmRhdGEsCiAgICAidGltZVNldHRpbmciLAogICAgInBob25lVGltZSIKICApOwogIGlmKHRpbWVGb3JtYXQgPT0gMCl7CiAgICBpdGVtLnRpbWVGb3JtYXQgPSAnaDptbSBhJzsKICAgIGl0ZW0udXNlMTJIb3VycyA9IHRydWU7CiAgfSBlbHNlewogICAgaXRlbS50aW1lRm9ybWF0ID0gJ0hIOm1tICc7CiAgICBpdGVtLnVzZTEySG91cnMgPSBmYWxzZTsKICB9Cn0KCmZ1bmN0aW9uIGNoZWNrQ29tbWl0RGF0YSh2bSl7CiAgbGV0IHN1Y2Nlc3MgPSB0cnVlOwogIC8vbnRwU2VydmVyMeagoemqjAogIGlmKCJ1bmRlZmluZWQiICE9IHR5cGVvZih2bS5zdWJtaXRDZmdEYXRhWyJDb25maWcuU2V0dGluZ3MuU05UUC5OVFBTZXJ2ZXIxIl0pKXsKICAgIGlmKCFub3RDb250YWluSW52YWxpZF9Ob3RFbXB0eSh2bS5zdWJtaXRDZmdEYXRhWyJDb25maWcuU2V0dGluZ3MuU05UUC5OVFBTZXJ2ZXIxIl0pKXsKICAgICAgbGV0IGl0ZW0gPSBnZXRJdGVtQnlLZXkoCiAgICAgICAgdm0uZGF0YSwKICAgICAgICAibnRwIiwKICAgICAgICAiQ29uZmlnLlNldHRpbmdzLlNOVFAuTlRQU2VydmVyMSIKICAgICAgKTsKICAgICAgaXRlbS5pc1dhcm4gPSB0cnVlOwogICAgICBzdWNjZXNzID0gZmFsc2U7CiAgICB9CiAgfQoKICAvL1VwZGF0ZUludGVydmFs5qCh6aqMCiAgaWYoInVuZGVmaW5lZCIgIT0gdHlwZW9mKHZtLnN1Ym1pdENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5TTlRQLkludGVydmFsIl0pKXsKICAgIGlmKCFpc0FuSW50ZXJnZXIodm0uc3VibWl0Q2ZnRGF0YVsiQ29uZmlnLlNldHRpbmdzLlNOVFAuSW50ZXJ2YWwiXSkgfHwgTnVtYmVyKHZtLnN1Ym1pdENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5TTlRQLkludGVydmFsIl0pIDwgMzYwMCl7CiAgICAgIGxldCBpdGVtID0gZ2V0SXRlbUJ5S2V5KAogICAgICAgIHZtLmRhdGEsCiAgICAgICAgIm50cCIsCiAgICAgICAgIkNvbmZpZy5TZXR0aW5ncy5TTlRQLkludGVydmFsIgogICAgICApOwogICAgICBpdGVtLmlzV2FybiA9IHRydWU7CiAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICAgIH0KICB9CgogIHJldHVybiBzdWNjZXNzOwp9CgpmdW5jdGlvbiBjcmVhdGVQYWdlRGF0YSh2bSkgewogIHZtLmRhdGEgPSB7CiAgICBnZXREYXRhU3VjY2VzczogdHJ1ZSwKICAgIGJyZWFkQ3J1bWI6IHsKICAgICAgZmlyc3RUaXRsZTogdm0uJHQoIlBob25lIiksCiAgICAgIHNlY29uZFRpdGxlOiB2bS4kdCgiVGltZSIpLAogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiAoKSB7CiAgICAgIGdldENvbW1pdERhdGEodm0pOwogICAgICBpZiAoIWNoZWNrQ29tbWl0RGF0YSh2bSkpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgc3VibWl0RGF0YSh2bSk7CiAgICB9LAogICAgb25DYW5jZWw6IGZ1bmN0aW9uICgpIHsKICAgICAgdm0uZGF0YS5jYW5jZWxMb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0RGF0YSh2bSk7CiAgICB9LAogICAgc3VibWl0TG9hZGluZzogZmFsc2UsCiAgICBjYW5jZWxMb2FkaW5nOiBmYWxzZSwKICAgIGNvbnRlbnRzOiBbXSwKICB9OwogIHZtLmRhdGEuY29udGVudHMucHVzaChjcmVhdGVUaW1lU2V0dGluZ0NvbnRlbnQodm0pKTsKICB2bS5kYXRhLmNvbnRlbnRzLnB1c2goY3JlYXRlTlRQQ29udGVudCh2bSkpOwp9CgpmdW5jdGlvbiBjcmVhdGVUaW1lU2V0dGluZ0NvbnRlbnQodm0pIHsKICBsZXQgY29udGVudCA9IHsKICAgIGtleTogInRpbWVTZXR0aW5nIiwKICAgIHRpdGxlOiB2bS4kdCgiVGltZVNldHRpbmdMYWJlbCIpLAogICAgdGl0bGVEZXNjcmlwdGlvbjogdm0uJHQoIlRpbWVTZXR0aW5nTGFiZWwiKSwKICAgIGl0ZW1zOiBbCiAgICAgIHsKICAgICAgICB0aXRsZTogdm0uJHQoIkF1dG9tYXRpY0RhdGVUaW1lIiksCiAgICAgICAgdHlwZTogImNoZWNrYm94IiwKICAgICAgICBrZXk6ICJhdXRvbWF0aWMiLAogICAgICAgIHZhbHVlOiB2bS5hdXRvRGF0ZSwKICAgICAgfSwKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiVGltZUZvcm1hdCIpLAogICAgICAgIHR5cGU6ICJzZWxlY3QiLAogICAgICAgIGtleTogIkNvbmZpZy5TZXR0aW5ncy5EQVRFVElNRS5UaW1lRm9ybWF0IiwKICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuREFURVRJTUUuVGltZUZvcm1hdCJdLAogICAgICAgIHNlbGVjdEl0ZW1zOiBbCiAgICAgICAgICB7a2V5OiAxLCBsYWJlbDogIjI0LUhvdXItRm9ybWF0In0sCiAgICAgICAgICB7a2V5OiAwLCBsYWJlbDogIjEyLUhvdXItRm9ybWF0In0sCiAgICAgICAgXSwKICAgICAgfSwKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiRGF0ZUZvcm1hdCIpLAogICAgICAgIHR5cGU6ICJzZWxlY3QiLAogICAgICAgIGtleTogIkNvbmZpZy5TZXR0aW5ncy5EQVRFVElNRS5EYXRlRm9ybWF0IiwKICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuREFURVRJTUUuRGF0ZUZvcm1hdCJdLAogICAgICAgIHNlbGVjdEl0ZW1zOiB2bS5kYXRlRm9ybWF0SXRlbXMsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0aXRsZTogdm0uJHQoIkRhdGVMYWJlbCIpLAogICAgICAgIHR5cGU6ICJkYXRlIiwKICAgICAgICBrZXk6ICJwaG9uZURhdGUiLAogICAgICAgIHZhbHVlOiBtb21lbnQodm0uZGF0ZSksCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0aXRsZTogdm0uJHQoIlRpbWUiKSwKICAgICAgICB0eXBlOiAidGltZSIsCiAgICAgICAga2V5OiAicGhvbmVUaW1lIiwKICAgICAgICB2YWx1ZTogbW9tZW50KHZtLmRhdGUpLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGl0bGU6IHZtLiR0KCJUaW1lWm9uZSIpLAogICAgICAgIHR5cGU6ICJzZWxlY3QiLAogICAgICAgIGtleTogIkNvbmZpZy5TZXR0aW5ncy5TTlRQLk5hbWUiLAogICAgICAgIHZhbHVlOiB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5TTlRQLk5hbWUiXSwKICAgICAgICBzZWxlY3RJdGVtczogdm0udGltZVpvbmVJdGVtcywKICAgICAgfSwKICAgIF0sCiAgfTsKICByZXR1cm4gY29udGVudDsKfQoKZnVuY3Rpb24gY3JlYXRlTlRQQ29udGVudCh2bSkgewogIGxldCBjb250ZW50ID0gewogICAga2V5OiAibnRwIiwKICAgIHRpdGxlOiB2bS4kdCgiTlRQIiksCiAgICB0aXRsZURlc2NyaXB0aW9uOiB2bS4kdCgiTlRQIiksCiAgICBpdGVtczogWwogICAgICB7CiAgICAgICAgdGl0bGU6IHZtLiR0KCJQcmVmZXJyZWRTZXJ2ZXIiKSwKICAgICAgICB0eXBlOiAiaW5wdXQiLAogICAgICAgIGlzV2FybjogZmFsc2UsCiAgICAgICAgd2FybkxhYmVsOiB2bS4kdCgiZXJyb3IiKSwKICAgICAgICBrZXk6ICJDb25maWcuU2V0dGluZ3MuU05UUC5OVFBTZXJ2ZXIxIiwKICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuU05UUC5OVFBTZXJ2ZXIxIl0sCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0aXRsZTogdm0uJHQoIlVwZGF0ZUludGVydmFsIiksCiAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICBzaG93SGludDp0cnVlLAogICAgICAgIGhpbnRDb250ZW50OnZtLiR0KCIoPj0zNjAwU2VjKSIpLAogICAgICAgIGlzV2FybjogZmFsc2UsCiAgICAgICAgd2FybkxhYmVsOiB2bS4kdCgiZXJyb3IiKSwKICAgICAgICBrZXk6ICJDb25maWcuU2V0dGluZ3MuU05UUC5JbnRlcnZhbCIsCiAgICAgICAgdmFsdWU6IHZtLmFwaURhdGEuY29uZmlnRGF0YVsiQ29uZmlnLlNldHRpbmdzLlNOVFAuSW50ZXJ2YWwiXSwKICAgICAgfSwKICAgIF0sCiAgfTsKICByZXR1cm4gY29udGVudDsKfQo="},{"version":3,"sources":["PhoneTime.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PhoneTime.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\n</template>\n\n<script>\nimport CommonPage from \"@/components/CommonPage.vue\";\nimport {\n  showRequestSuccess,\n  getIndexByKey,\n  getItemByKey,\n  deepClone,\n  notContainInvalid_NotEmpty,\n  isAnInterger\n} from \"@/js/common.js\";\nimport moment from 'moment';\n\nexport default {\n  components: {\n    CommonPage,\n  },\n  data(){\n    return{\n      changedCfgData:{},\n      submitCfgData:{},\n      apiData: {},\n      data: {\n        getDataSuccess: false,\n      },\n      autoDate: Boolean,\n      date: new Date(),\n      use12Hours: Boolean,\n      timeZoneItems: [],\n      dateFormatItems: [\n        {key: 0, label: \"YYYY-MM-DD\"},\n        {key: 1, label: \"YYYY/MM/DD\"},\n        {key: 2, label: \"DD-MM-YYYY\"},\n        {key: 3, label: \"DD/MM/YYYY\"},\n        {key: 6, label: \"MM-DD-YYYY\"},\n        {key: 7, label: \"MM/DD/YYYY\"},\n      ],\n    }\n  },\n  created() {\n    getData(this);\n  },\n  methods: {\n    onCommonPageDataChange: function (event) {\n      if(event.itemKey == \"automatic\"){\n        changeAutoDisabeld(this,event.newVal);\n        this.autoDate = event.newVal;\n      } else if(event.itemKey == \"Config.Settings.DATETIME.TimeFormat\"){\n        changeTimeFormat(this,event.newVal);\n        this.changedCfgData[event.itemKey] = event.newVal;\n      } else if(event.itemKey == \"Config.Settings.DATETIME.DateFormat\"){\n        changeDateFormat(this,event.newVal);\n        this.changedCfgData[event.itemKey] = event.newVal;\n      } else if(event.itemKey == \"phoneDate\"){\n        this.date = event.newVal;\n        let item = getItemByKey(\n          this.data,\n          \"timeSetting\",\n          \"phoneDate\"\n        );\n        item.value = moment(this.date);\n      } else if(event.itemKey == \"phoneTime\"){\n        this.date = event.newVal.toDate();\n        let item = getItemByKey(\n          this.data,\n          \"timeSetting\",\n          \"phoneTime\"\n        );\n        item.value = event.newVal;\n      } else if(event.itemKey == \"Config.Settings.SNTP.Name\"){\n        let itemIndex = getIndexByKey(this.timeZoneItems,event.newVal);\n        this.changedCfgData[event.itemKey] = event.newVal;\n        this.changedCfgData[\"Config.Settings.SNTP.TimeZone\"] = this.timeZoneItems[itemIndex].timeZone;\n      } else{\n        this.changedCfgData[event.itemKey] = event.newVal;\n      }\n    },\n  },\n};\n\nfunction submitData(vm) {\n  vm.data.submitLoading = true;\n\n  let requestData = {\n    target: \"phoneTime\",\n    action: \"set\",\n    configData: vm.submitCfgData,\n    data: {\n      \"Time.Year\": vm.date.getYear(),\n      \"Time.Month\": vm.date.getMonth(),\n      \"Time.Day\": vm.date.getDate(),\n      \"Time.Hour\": vm.date.getHours(),\n      \"Time.Minutes\": vm.date.getMinutes(),\n      \"Time.Seconds\": vm.date.getSeconds(),\n      \"Time.Auto\": vm.autoDate,\n    },\n  };\n  vm.$axios.post(\"api\", requestData).then((response) => {\n    showRequestSuccess(vm);\n    vm.data.submitLoading = false;\n  });\n}\n\nfunction getData(vm) {\n  vm.$axios.get(\"api/phoneTime/info\").then((response) => {\n    vm.getDataSuccess = true;\n    vm.apiData = response.data;\n    vm.data = response.data.data;\n    vm.changedCfgData = deepClone(response.data.configData);\n    vm.autoDate = vm.data.Time.Auto;\n\n    //获取时间\n    vm.date.setYear(vm.data.Time.Year);\n    vm.date.setMonth(vm.data.Time.Month);\n    vm.date.setDate(vm.data.Time.Day);\n    vm.date.setHours(vm.data.Time.Hour);\n    vm.date.setMinutes(vm.data.Time.Minutes);\n\n    //获取TimeZone\n    vm.timeZoneItems = [];\n    for(var i = 0; i < vm.data.TimeZones.length; i++){\n      let item = {\"key\":vm.data.TimeZones[i].TimeZoneName,\"label\":vm.data.TimeZones[i].TimeZone + ' ' +vm.data.TimeZones[i].TimeZoneName,\"timeZone\": vm.data.TimeZones[i].TimeZone};\n      vm.timeZoneItems.push(item);\n    }\n    createPageData(vm);\n\n    //判断是否自动获取时间\n    changeAutoDisabeld(vm,vm.autoDate);\n\n    //获取dateFormat\n    for(var i = 0; i < vm.dateFormatItems.length; i++){\n      if (vm.dateFormatItems[i].key.toString() == vm.apiData.configData['Config.Settings.DATETIME.DateFormat']){\n        changeDateFormat(vm, vm.dateFormatItems[i].label);\n        break;\n      }\n    }\n\n    //获取timeFormat\n    changeTimeFormat(vm,vm.apiData.configData['Config.Settings.DATETIME.TimeFormat']);\n  });\n}\n\nfunction getCommitData(vm){\n  vm.submitCfgData = {};\n  for (var changedKey in vm.changedCfgData) {\n    if(vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]){\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey];\n    }\n  }\n}\n\nfunction changeAutoDisabeld(vm,autoValue){\n  let item1 = getItemByKey(\n    vm.data,\n    \"timeSetting\",\n    \"phoneDate\"\n  );\n  let item2 = getItemByKey(\n    vm.data,\n    \"timeSetting\",\n    \"phoneTime\"\n  );\n  if(autoValue == 1){\n    item1.disabled = true;\n    item2.disabled = true;\n  } else{\n    item1.disabled = false;\n    item2.disabled = false;\n  }\n}\n\nfunction changeDateFormat(vm,dateFormat){\n  let item = getItemByKey(\n    vm.data,\n    \"timeSetting\",\n    \"phoneDate\"\n  );\n  item.dateFormat = dateFormat;\n}\n\nfunction changeTimeFormat(vm,timeFormat){\n  let item = getItemByKey(\n    vm.data,\n    \"timeSetting\",\n    \"phoneTime\"\n  );\n  if(timeFormat == 0){\n    item.timeFormat = 'h:mm a';\n    item.use12Hours = true;\n  } else{\n    item.timeFormat = 'HH:mm ';\n    item.use12Hours = false;\n  }\n}\n\nfunction checkCommitData(vm){\n  let success = true;\n  //ntpServer1校验\n  if(\"undefined\" != typeof(vm.submitCfgData[\"Config.Settings.SNTP.NTPServer1\"])){\n    if(!notContainInvalid_NotEmpty(vm.submitCfgData[\"Config.Settings.SNTP.NTPServer1\"])){\n      let item = getItemByKey(\n        vm.data,\n        \"ntp\",\n        \"Config.Settings.SNTP.NTPServer1\"\n      );\n      item.isWarn = true;\n      success = false;\n    }\n  }\n\n  //UpdateInterval校验\n  if(\"undefined\" != typeof(vm.submitCfgData[\"Config.Settings.SNTP.Interval\"])){\n    if(!isAnInterger(vm.submitCfgData[\"Config.Settings.SNTP.Interval\"]) || Number(vm.submitCfgData[\"Config.Settings.SNTP.Interval\"]) < 3600){\n      let item = getItemByKey(\n        vm.data,\n        \"ntp\",\n        \"Config.Settings.SNTP.Interval\"\n      );\n      item.isWarn = true;\n      success = false;\n    }\n  }\n\n  return success;\n}\n\nfunction createPageData(vm) {\n  vm.data = {\n    getDataSuccess: true,\n    breadCrumb: {\n      firstTitle: vm.$t(\"Phone\"),\n      secondTitle: vm.$t(\"Time\"),\n    },\n    onSubmit: function () {\n      getCommitData(vm);\n      if (!checkCommitData(vm)) {\n        return;\n      }\n      submitData(vm);\n    },\n    onCancel: function () {\n      vm.data.cancelLoading = true;\n      getData(vm);\n    },\n    submitLoading: false,\n    cancelLoading: false,\n    contents: [],\n  };\n  vm.data.contents.push(createTimeSettingContent(vm));\n  vm.data.contents.push(createNTPContent(vm));\n}\n\nfunction createTimeSettingContent(vm) {\n  let content = {\n    key: \"timeSetting\",\n    title: vm.$t(\"TimeSettingLabel\"),\n    titleDescription: vm.$t(\"TimeSettingLabel\"),\n    items: [\n      {\n        title: vm.$t(\"AutomaticDateTime\"),\n        type: \"checkbox\",\n        key: \"automatic\",\n        value: vm.autoDate,\n      },\n      {\n        title: vm.$t(\"TimeFormat\"),\n        type: \"select\",\n        key: \"Config.Settings.DATETIME.TimeFormat\",\n        value: vm.apiData.configData[\"Config.Settings.DATETIME.TimeFormat\"],\n        selectItems: [\n          {key: 1, label: \"24-Hour-Format\"},\n          {key: 0, label: \"12-Hour-Format\"},\n        ],\n      },\n      {\n        title: vm.$t(\"DateFormat\"),\n        type: \"select\",\n        key: \"Config.Settings.DATETIME.DateFormat\",\n        value: vm.apiData.configData[\"Config.Settings.DATETIME.DateFormat\"],\n        selectItems: vm.dateFormatItems,\n      },\n      {\n        title: vm.$t(\"DateLabel\"),\n        type: \"date\",\n        key: \"phoneDate\",\n        value: moment(vm.date),\n      },\n      {\n        title: vm.$t(\"Time\"),\n        type: \"time\",\n        key: \"phoneTime\",\n        value: moment(vm.date),\n      },\n      {\n        title: vm.$t(\"TimeZone\"),\n        type: \"select\",\n        key: \"Config.Settings.SNTP.Name\",\n        value: vm.apiData.configData[\"Config.Settings.SNTP.Name\"],\n        selectItems: vm.timeZoneItems,\n      },\n    ],\n  };\n  return content;\n}\n\nfunction createNTPContent(vm) {\n  let content = {\n    key: \"ntp\",\n    title: vm.$t(\"NTP\"),\n    titleDescription: vm.$t(\"NTP\"),\n    items: [\n      {\n        title: vm.$t(\"PreferredServer\"),\n        type: \"input\",\n        isWarn: false,\n        warnLabel: vm.$t(\"error\"),\n        key: \"Config.Settings.SNTP.NTPServer1\",\n        value: vm.apiData.configData[\"Config.Settings.SNTP.NTPServer1\"],\n      },\n      {\n        title: vm.$t(\"UpdateInterval\"),\n        type: \"input\",\n        showHint:true,\n        hintContent:vm.$t(\"(>=3600Sec)\"),\n        isWarn: false,\n        warnLabel: vm.$t(\"error\"),\n        key: \"Config.Settings.SNTP.Interval\",\n        value: vm.apiData.configData[\"Config.Settings.SNTP.Interval\"],\n      },\n    ],\n  };\n  return content;\n}\n</script>"]}]}