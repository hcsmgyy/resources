{"remainingRequest":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\UpgradeBasic.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\UpgradeBasic.vue","mtime":1624613275306},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624613261239},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\babel-loader\\lib\\index.js","mtime":1624613260275},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624613261239},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js","mtime":1624613274496}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgQ29tbW9uUGFnZSBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uUGFnZS52dWUiOw0KaW1wb3J0IHsNCiAgc2hvd1JlcXVlc3RTdWNjZXNzLA0KICBkZWVwQ2xvbmUsDQogIGdldEluZGV4QnlLZXksDQogIGdldEl0ZW1CeUtleSwNCiAgc2hvd0Vycm9ySW5mbywNCn0gZnJvbSAiQC9qcy9jb21tb24uanMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBDb21tb25QYWdlLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjaGFuZ2VkQ2ZnRGF0YToge30sDQogICAgICBzdWJtaXRDZmdEYXRhOiB7fSwNCiAgICAgIGFwaURhdGE6IHt9LA0KICAgICAgZGF0YTogew0KICAgICAgICBnZXREYXRhU3VjY2VzczogZmFsc2UsDQogICAgICB9LA0KICAgICAgaW50ZXJPYmo6IE9iamVjdCwNCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGdldERhdGEodGhpcyk7DQogIH0sDQogIGRlc3Ryb3llZCgpew0KICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlck9iaik7DQogICAgdm0uJHJvb3QucHJvY2Vzc2luZ1Zpc2libGUgPSBmYWxzZTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uQ29tbW9uUGFnZURhdGFDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkgew0KICAgICAgaWYgKGV2ZW50Lml0ZW1LZXkgIT0gInVwZ3JhZGVGaWxlIikgew0KICAgICAgICB0aGlzLmNoYW5nZWRDZmdEYXRhW2V2ZW50Lml0ZW1LZXldID0gZXZlbnQubmV3VmFsOw0KICAgICAgfQ0KICAgIH0sDQogIH0sDQp9Ow0KDQpmdW5jdGlvbiBnZXREYXRhKHZtKSB7DQogIHZtLiRheGlvcy5nZXQoImFwaS91cGdyYWRlQmFzaWMvaW5mbyIpLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgdm0uZ2V0RGF0YVN1Y2Nlc3MgPSB0cnVlOw0KICAgIHZtLmFwaURhdGEgPSByZXNwb25zZS5kYXRhOw0KICAgIHZtLmNoYW5nZWRDZmdEYXRhID0gZGVlcENsb25lKHJlc3BvbnNlLmRhdGEuY29uZmlnRGF0YSk7DQogICAgY3JlYXRlUGFnZURhdGEodm0pOw0KICB9KTsNCn0NCg0KZnVuY3Rpb24gc3VibWl0RGF0YSh2bSkgew0KICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSB0cnVlOw0KDQogIGxldCByZXF1ZXN0RGF0YSA9IHsNCiAgICB0YXJnZXQ6ICJ1cGdyYWRlQmFzaWMiLA0KICAgIGFjdGlvbjogInNldCIsDQogICAgY29uZmlnRGF0YTogdm0uc3VibWl0Q2ZnRGF0YSwNCiAgfTsNCiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgcmVzcG9uc2UpIHsNCiAgICAgIHNob3dSZXF1ZXN0U3VjY2Vzcyh2bSk7DQogICAgfQ0KICAgIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICB9KTsNCn0NCg0KZnVuY3Rpb24gZ2V0Q29tbWl0RGF0YSh2bSkgew0KICB2bS5zdWJtaXRDZmdEYXRhID0ge307DQogIGZvciAodmFyIGNoYW5nZWRLZXkgaW4gdm0uY2hhbmdlZENmZ0RhdGEpIHsNCiAgICBpZiAodm0uYXBpRGF0YS5jb25maWdEYXRhW2NoYW5nZWRLZXldICE9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldKSB7DQogICAgICB2bS5zdWJtaXRDZmdEYXRhW2NoYW5nZWRLZXldID0gdm0uY2hhbmdlZENmZ0RhdGFbY2hhbmdlZEtleV07DQogICAgfQ0KICB9DQp9DQoNCmZ1bmN0aW9uIGNoZWNrQ29tbWl0RGF0YSh2bSkgew0KICBsZXQgc3VjY2VzcyA9IHRydWU7DQogIHJldHVybiBzdWNjZXNzOw0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVQYWdlRGF0YSh2bSkgew0KICB2bS5kYXRhID0gew0KICAgIGdldERhdGFTdWNjZXNzOiB0cnVlLA0KICAgIGJyZWFkQ3J1bWI6IHsNCiAgICAgIGZpcnN0VGl0bGU6IHZtLiR0KCJVcGdyYWRlIiksDQogICAgICBzZWNvbmRUaXRsZTogdm0uJHQoIkJhc2ljIiksDQogICAgfSwNCiAgICBzaG93U3VibWl0OiBmYWxzZSwNCiAgICBjb250ZW50czogW10sDQogIH07DQogIHZtLmRhdGEuY29udGVudHMucHVzaChjcmVhdGVDb250ZW50KHZtKSk7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZUNvbnRlbnQodm0pIHsNCiAgbGV0IGNvbnRlbnQgPSB7DQogICAga2V5OiAiYmFzaWMiLA0KICAgIHRpdGxlOiB2bS4kdCgiQmFzaWMiKSwNCiAgICB0aXRsZURlc2NyaXB0aW9uOiB2bS4kdCgiVXBncmFkZUJhc2lEZXNjIiksDQogICAgaXRlbXM6IFsNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJGaXJtd2FyZVZlcnNpb24iKSwNCiAgICAgICAgdHlwZTogImxhYmVsIiwNCiAgICAgICAga2V5OiAiZGF0YS5Qcm9kdWN0LkZpcm13YXJlVmVyc2lvbiIsDQogICAgICAgIHNob3dEZXNjcmlwdGlvbjogdHJ1ZSwNCiAgICAgICAgdmFsdWU6IHZtLmFwaURhdGEuZGF0YS5Qcm9kdWN0LkZpcm13YXJlVmVyc2lvbiwNCiAgICAgICAgdGV4dEFsaWduOiAibGVmdCIsDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiRmlybXdhcmVWZXJzaW9uRGVzYyIpLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJIYXJkd2FyZVZlcnNpb24iKSwNCiAgICAgICAgdHlwZTogImxhYmVsIiwNCiAgICAgICAga2V5OiAiZGF0YS5Qcm9kdWN0LkhhcmR3YXJlVmVyc2lvbiIsDQogICAgICAgIHNob3dEZXNjcmlwdGlvbjogdHJ1ZSwNCiAgICAgICAgdmFsdWU6IHZtLmFwaURhdGEuZGF0YS5Qcm9kdWN0LkhhcmR3YXJlVmVyc2lvbiwNCiAgICAgICAgdGV4dEFsaWduOiAibGVmdCIsDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiSGFyZHdhcmVWZXJzaW9uRGVzYyIpLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJVcGdyYWRlIiksDQogICAgICAgIHR5cGU6ICJmaWxlLWlucHV0IiwNCiAgICAgICAga2V5OiAidXBncmFkZUZpbGUiLA0KICAgICAgICBhY2NlcHRGaWxlVHlwZTogIi5aSVAiLA0KICAgICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgdmFsdWU6IHsNCiAgICAgICAgICBmaWxlRGF0YToge30sDQogICAgICAgICAgZmlsZU5hbWU6IHZtLiR0KCJVcGdyYWRlRmlsZVBhdGgiKSwNCiAgICAgICAgfSwNCiAgICAgICAgaW1wb3J0QnRuTmFtZTogdm0uJHQoIkltcG9ydCIpLA0KICAgICAgICBtb2RhbENvbmZpcm1OYW1lOiB2bS4kdCgiU3VibWl0IiksDQogICAgICAgIHVwbG9hZEZ1bmN0aW9uOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgc2V0VXBncmFkZUZpcm13YXJlKHZtLCAiZmlybXdhcmUiKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJVcGdyYWRlRGVzYyIpLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJSZXNldFRvRmFjdG9yeVNldHRpbmciKSwNCiAgICAgICAgdHlwZTogImJ1dHRvbiIsDQogICAgICAgIHdpZHRoU3R5bGU6IGZhbHNlLA0KICAgICAgICBrZXk6ICJyZXNldFRvRmFjdG9yeVNldHRpbmciLA0KICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgaWYgKGNvbmZpcm0odm0uJHQoIlJlc2V0RmFjdG9yeUNvbmZpcm0iKSkpIHsNCiAgICAgICAgICAgIHNldFJlc2V0T3JSZWJvb3Qodm0sICJSZXNldEZhY3RvcnkiKTsNCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGlzU2hvd1BvcG92ZXI6IHRydWUsDQogICAgICAgIGJ1dHRvbk5hbWU6IHZtLiR0KCJSZXNldCIpLA0KICAgICAgICBidXR0b25JY29uOiAiaWNvbnJlc2V0IiwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJGYWN0b3J5RGVmYXVsdERlc2MiKSwNCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHRpdGxlOiB2bS4kdCgiUmVzZXRBcHBUb0ZhY3RvcnlTZXR0aW5nIiksDQogICAgICAgIHR5cGU6ICJidXR0b24iLA0KICAgICAgICB3aWR0aFN0eWxlOiBmYWxzZSwNCiAgICAgICAga2V5OiAicmVzZXRBcHBUb0ZhY3RvcnlTZXR0aW5nIiwNCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkgew0KICAgICAgICAgIGlmIChjb25maXJtKHZtLiR0KCJSZXNldEFwcEZhY3RvcnlDb25maXJtIikpKSB7DQogICAgICAgICAgICBzZXRSZXNldE9yUmVib290KHZtLCAiUmVzZXRBcHBGYWN0b3J5Iik7DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBpc1Nob3dQb3BvdmVyOiB0cnVlLA0KICAgICAgICBidXR0b25OYW1lOiB2bS4kdCgiUmVzZXQiKSwNCiAgICAgICAgYnV0dG9uSWNvbjogImljb25yZXNldCIsDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiUmVzZXRDb25maWdEZXNjIiksDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB0aXRsZTogdm0uJHQoIlJlYm9vdExhYmVsIiksDQogICAgICAgIHR5cGU6ICJidXR0b24iLA0KICAgICAgICB3aWR0aFN0eWxlOiBmYWxzZSwNCiAgICAgICAga2V5OiAicmVib290IiwNCiAgICAgICAgb25DbGljazogZnVuY3Rpb24gKCkgew0KICAgICAgICAgIGlmIChjb25maXJtKHZtLiR0KCJSZWJvb3RDb25maXJtIikpKSB7DQogICAgICAgICAgICBzZXRSZXNldE9yUmVib290KHZtLCAiUmVib290Iik7DQogICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBpc1Nob3dQb3BvdmVyOiB0cnVlLA0KICAgICAgICBidXR0b25OYW1lOiB2bS4kdCgiUmVib290TGFiZWwiKSwNCiAgICAgICAgYnV0dG9uSWNvbjogImljb25yZWJvb3QiLA0KICAgICAgICBkZXNjcmlwdGlvbjogdm0uJHQoIlJlYm9vdERlc2MiKSwNCiAgICAgIH0sDQogICAgXSwNCiAgfTsNCiAgcmV0dXJuIGNvbnRlbnQ7DQp9DQoNCmZ1bmN0aW9uIHNldFJlc2V0T3JSZWJvb3Qodm0sIHR5cGUpIHsNCiAgdm0uJHJvb3QucHJvY2Vzc2luZ1Zpc2libGUgPSB0cnVlOw0KICBsZXQgcmVxdWVzdERhdGEgPSB7DQogICAgdGFyZ2V0OiAidXBncmFkZUJhc2ljIiwNCiAgICBhY3Rpb246ICJzZXQiLA0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IHR5cGUsDQogICAgfSwNCiAgfTsNCiAgdm0uaW50ZXJPYmogPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgTG9uZ0NoZWNrU3RhdHVzKHZtKTsNCiAgfSwgNDAwMCk7DQogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgIA0KICB9KTsNCn0NCnZhciBOb3RHZXRSZXNwb25zZSA9IDA7DQp2YXIgTm90R2V0UmVzcG9uc2VOdW0gPSAwOw0KdmFyIElzQWxyZWFkeVJlYm9vdCA9IDA7DQoNCmZ1bmN0aW9uIExvbmdDaGVja1N0YXR1cyh2bSkgew0KICBpZiAoMSA9PSBOb3RHZXRSZXNwb25zZSkgew0KICAgIHsNCiAgICAgIHN0YXR1c0NoZWNrKHZtKTsNCiAgICAgIE5vdEdldFJlc3BvbnNlTnVtID0gMDsNCiAgICAgIE5vdEdldFJlc3BvbnNlID0gMDsNCiAgICB9DQogIH0gZWxzZSB7DQogICAgTm90R2V0UmVzcG9uc2VOdW0rKzsNCiAgICBpZiAoTm90R2V0UmVzcG9uc2VOdW0gPj0gMykgew0KICAgICAgTm90R2V0UmVzcG9uc2UgPSAxOw0KICAgIH0NCiAgfQ0KfQ0KDQpmdW5jdGlvbiBzdGF0dXNDaGVjayh2bSkgew0KICB2bS4kYXhpb3MuZ2V0KCJhcGkvdXBncmFkZUJhc2ljL2luZm8iKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIHJlc2V0Tm90R2V0UmVzcG9uc2Uodm0pOw0KICB9KTsNCn0NCg0KZnVuY3Rpb24gcmVzZXROb3RHZXRSZXNwb25zZSh2bSkgew0KICBjbGVhckludGVydmFsKHZtLmludGVyT2JqKTsNCiAgdm0uaW50ZXJPYmogPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgTG9uZ0NoZWNrU3RhdHVzKHZtKTsNCiAgfSwgNDAwMCk7DQogIE5vdEdldFJlc3BvbnNlID0gMDsNCiAgTm90R2V0UmVzcG9uc2VOdW0gPSAwOw0KfQ0KDQpmdW5jdGlvbiBzZXRVcGdyYWRlRmlybXdhcmUodm0sIHR5cGUpIHsNCiAgbGV0IGl0ZW0gPSBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImJhc2ljIiwgInVwZ3JhZGVGaWxlIik7DQogIGxldCBmaWxlTmFtZSA9IGl0ZW0udmFsdWUuZmlsZU5hbWU7DQogIGlmIChmaWxlTmFtZSA9PSAiIiB8fCBmaWxlTmFtZSA9PSB2bS4kdCgiVXBncmFkZUZpbGVQYXRoIikpIHsNCiAgICBzaG93RXJyb3JJbmZvKHZtLCB2bS4kdCgiRmlsZUVtcHR5V2FybmluZyIpKTsNCiAgICByZXR1cm47DQogIH0NCiAgdm0uJHJvb3QucHJvY2Vzc2luZ1Zpc2libGUgPSB0cnVlOw0KICBsZXQgcmVxdWVzdERhdGEgPSB7DQogICAgdGFyZ2V0OiAidXBncmFkZUJhc2ljIiwNCiAgICBhY3Rpb246ICJzZXQiLA0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IHR5cGUsDQogICAgfSwNCiAgfTsNCiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXMpID0+IHsNCiAgICBpZiAocmVzLmRhdGEucmV0Y29kZSA9PSAtMSkgew0KICAgICAgc2hvd0Vycm9ySW5mbyh2bSwgdm0uJHQoIlBob25lVGFsa2luZ05vdFVwZ3JhZGVXYXJuaW5nIikpOw0KICAgIH0gZWxzZSBpZiAocmVzLmRhdGEucmV0Y29kZSA9PSAtMikgew0KICAgICAgc2hvd0Vycm9ySW5mbyh2bSwgdm0uJHQoIkFVVE9QQ29uZmxpY3RXYXJuaW5nIikpOw0KICAgIH0gZWxzZSBpZiAocmVzLmRhdGEucmV0Y29kZSA9PSAtMykgew0KICAgICAgc2hvd0Vycm9ySW5mbyh2bSwgdm0uJHQoIlBob25lVXBncmFkaW5nV2FybmluZyIpKTsNCiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gLTQpIHsNCiAgICAgIHNob3dFcnJvckluZm8odm0sIHZtLiR0KCJQaG9uZUFsYXJtaW5nV2FybmluZyIpKTsNCiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gMCkgew0KICAgICAgdXBsb2FkVXBncmFkZUZpbGUodm0pOw0KICAgIH0gZWxzZSB7DQogICAgICBzaG93RXJyb3JJbmZvKHZtLCB2bS4kdCgiVXBncmFkZUZpbmlzaGVkTm90aWNlIikpOw0KICAgIH0NCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIHVwbG9hZFVwZ3JhZGVGaWxlKHZtKSB7DQogIGxldCBpdGVtID0gZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJiYXNpYyIsICJ1cGdyYWRlRmlsZSIpOw0KICBsZXQgZmlsZU5hbWUgPSBpdGVtLnZhbHVlLmZpbGVOYW1lOw0KICBpZiAoZmlsZU5hbWUgPT0gIiIgfHwgZmlsZU5hbWUgPT0gdm0uJHQoIlVwZ3JhZGVGaWxlUGF0aCIpKSB7DQogICAgc2hvd0Vycm9ySW5mbyh2bSwgdm0uJHQoIkZpbGVFbXB0eVdhcm5pbmciKSk7DQogICAgcmV0dXJuOw0KICB9DQogIC8v5LiK5LygDQogIGl0ZW0ubG9hZGluZyA9IHRydWU7DQogIGNvbnN0IHVwRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICB1cERhdGEuYXBwZW5kKCJmaWxlIiwgaXRlbS52YWx1ZS5maWxlRGF0YSk7DQogIGF4aW9zDQogICAgLnBvc3QoImFwaS91cGdyYWRlQmFzaWMvdXBsb2FkIiwgdXBEYXRhLCB7DQogICAgICBoZWFkZXJzOiB7DQogICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIsDQogICAgICB9LA0KICAgIH0pDQogICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gLTEpIHsNCiAgICAgICAgc2hvd0Vycm9ySW5mbyh2bSwgdm0uJHQoIlVwZ3JhZGVGYWlsZWRXYXJuaW5nIikpOw0KICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yZXRjb2RlID09IDApIHsNCiAgICAgICAgc2hvd1JlcXVlc3RTdWNjZXNzKHZtLCB2bS4kdCgiVXBncmFkZUZpbmlzaGVkTm90aWNlIikpOw0KICAgICAgICB2bS4kcm9vdC5wcm9jZXNzaW5nVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICBpdGVtLnZhbHVlLmZpbGVOYW1lID0gdm0uJHQoIlVwZ3JhZGVGaWxlUGF0aCIpOw0KICAgICAgICBpdGVtLnZhbHVlLmZpbGVEYXRhID0ge307DQogICAgICB9DQogICAgICBpdGVtLmxvYWRpbmcgPSBmYWxzZTsNCiAgICB9KTsNCn0NCg=="},{"version":3,"sources":["UpgradeBasic.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UpgradeBasic.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\r\n</template>\r\n\r\n<script>\r\nimport CommonPage from \"@/components/CommonPage.vue\";\r\nimport {\r\n  showRequestSuccess,\r\n  deepClone,\r\n  getIndexByKey,\r\n  getItemByKey,\r\n  showErrorInfo,\r\n} from \"@/js/common.js\";\r\n\r\nexport default {\r\n  components: {\r\n    CommonPage,\r\n  },\r\n  data() {\r\n    return {\r\n      changedCfgData: {},\r\n      submitCfgData: {},\r\n      apiData: {},\r\n      data: {\r\n        getDataSuccess: false,\r\n      },\r\n      interObj: Object,\r\n    };\r\n  },\r\n  created() {\r\n    getData(this);\r\n  },\r\n  destroyed(){\r\n    clearInterval(this.interObj);\r\n    vm.$root.processingVisible = false;\r\n  },\r\n  methods: {\r\n    onCommonPageDataChange: function (event) {\r\n      if (event.itemKey != \"upgradeFile\") {\r\n        this.changedCfgData[event.itemKey] = event.newVal;\r\n      }\r\n    },\r\n  },\r\n};\r\n\r\nfunction getData(vm) {\r\n  vm.$axios.get(\"api/upgradeBasic/info\").then((response) => {\r\n    vm.getDataSuccess = true;\r\n    vm.apiData = response.data;\r\n    vm.changedCfgData = deepClone(response.data.configData);\r\n    createPageData(vm);\r\n  });\r\n}\r\n\r\nfunction submitData(vm) {\r\n  vm.data.submitLoading = true;\r\n\r\n  let requestData = {\r\n    target: \"upgradeBasic\",\r\n    action: \"set\",\r\n    configData: vm.submitCfgData,\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    if (\"undefined\" != typeof response) {\r\n      showRequestSuccess(vm);\r\n    }\r\n    vm.data.submitLoading = false;\r\n  });\r\n}\r\n\r\nfunction getCommitData(vm) {\r\n  vm.submitCfgData = {};\r\n  for (var changedKey in vm.changedCfgData) {\r\n    if (vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]) {\r\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey];\r\n    }\r\n  }\r\n}\r\n\r\nfunction checkCommitData(vm) {\r\n  let success = true;\r\n  return success;\r\n}\r\n\r\nfunction createPageData(vm) {\r\n  vm.data = {\r\n    getDataSuccess: true,\r\n    breadCrumb: {\r\n      firstTitle: vm.$t(\"Upgrade\"),\r\n      secondTitle: vm.$t(\"Basic\"),\r\n    },\r\n    showSubmit: false,\r\n    contents: [],\r\n  };\r\n  vm.data.contents.push(createContent(vm));\r\n}\r\n\r\nfunction createContent(vm) {\r\n  let content = {\r\n    key: \"basic\",\r\n    title: vm.$t(\"Basic\"),\r\n    titleDescription: vm.$t(\"UpgradeBasiDesc\"),\r\n    items: [\r\n      {\r\n        title: vm.$t(\"FirmwareVersion\"),\r\n        type: \"label\",\r\n        key: \"data.Product.FirmwareVersion\",\r\n        showDescription: true,\r\n        value: vm.apiData.data.Product.FirmwareVersion,\r\n        textAlign: \"left\",\r\n        description: vm.$t(\"FirmwareVersionDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"HardwareVersion\"),\r\n        type: \"label\",\r\n        key: \"data.Product.HardwareVersion\",\r\n        showDescription: true,\r\n        value: vm.apiData.data.Product.HardwareVersion,\r\n        textAlign: \"left\",\r\n        description: vm.$t(\"HardwareVersionDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"Upgrade\"),\r\n        type: \"file-input\",\r\n        key: \"upgradeFile\",\r\n        acceptFileType: \".ZIP\",\r\n        loading: false,\r\n        value: {\r\n          fileData: {},\r\n          fileName: vm.$t(\"UpgradeFilePath\"),\r\n        },\r\n        importBtnName: vm.$t(\"Import\"),\r\n        modalConfirmName: vm.$t(\"Submit\"),\r\n        uploadFunction: function () {\r\n          setUpgradeFirmware(vm, \"firmware\");\r\n        },\r\n        description: vm.$t(\"UpgradeDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"ResetToFactorySetting\"),\r\n        type: \"button\",\r\n        widthStyle: false,\r\n        key: \"resetToFactorySetting\",\r\n        onClick: function () {\r\n          if (confirm(vm.$t(\"ResetFactoryConfirm\"))) {\r\n            setResetOrReboot(vm, \"ResetFactory\");\r\n          }\r\n        },\r\n        isShowPopover: true,\r\n        buttonName: vm.$t(\"Reset\"),\r\n        buttonIcon: \"iconreset\",\r\n        description: vm.$t(\"FactoryDefaultDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"ResetAppToFactorySetting\"),\r\n        type: \"button\",\r\n        widthStyle: false,\r\n        key: \"resetAppToFactorySetting\",\r\n        onClick: function () {\r\n          if (confirm(vm.$t(\"ResetAppFactoryConfirm\"))) {\r\n            setResetOrReboot(vm, \"ResetAppFactory\");\r\n          }\r\n        },\r\n        isShowPopover: true,\r\n        buttonName: vm.$t(\"Reset\"),\r\n        buttonIcon: \"iconreset\",\r\n        description: vm.$t(\"ResetConfigDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"RebootLabel\"),\r\n        type: \"button\",\r\n        widthStyle: false,\r\n        key: \"reboot\",\r\n        onClick: function () {\r\n          if (confirm(vm.$t(\"RebootConfirm\"))) {\r\n            setResetOrReboot(vm, \"Reboot\");\r\n          }\r\n        },\r\n        isShowPopover: true,\r\n        buttonName: vm.$t(\"RebootLabel\"),\r\n        buttonIcon: \"iconreboot\",\r\n        description: vm.$t(\"RebootDesc\"),\r\n      },\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nfunction setResetOrReboot(vm, type) {\r\n  vm.$root.processingVisible = true;\r\n  let requestData = {\r\n    target: \"upgradeBasic\",\r\n    action: \"set\",\r\n    data: {\r\n      type: type,\r\n    },\r\n  };\r\n  vm.interObj = setInterval(() => {\r\n    LongCheckStatus(vm);\r\n  }, 4000);\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n   \r\n  });\r\n}\r\nvar NotGetResponse = 0;\r\nvar NotGetResponseNum = 0;\r\nvar IsAlreadyReboot = 0;\r\n\r\nfunction LongCheckStatus(vm) {\r\n  if (1 == NotGetResponse) {\r\n    {\r\n      statusCheck(vm);\r\n      NotGetResponseNum = 0;\r\n      NotGetResponse = 0;\r\n    }\r\n  } else {\r\n    NotGetResponseNum++;\r\n    if (NotGetResponseNum >= 3) {\r\n      NotGetResponse = 1;\r\n    }\r\n  }\r\n}\r\n\r\nfunction statusCheck(vm) {\r\n  vm.$axios.get(\"api/upgradeBasic/info\").then((response) => {\r\n    resetNotGetResponse(vm);\r\n  });\r\n}\r\n\r\nfunction resetNotGetResponse(vm) {\r\n  clearInterval(vm.interObj);\r\n  vm.interObj = setInterval(() => {\r\n    LongCheckStatus(vm);\r\n  }, 4000);\r\n  NotGetResponse = 0;\r\n  NotGetResponseNum = 0;\r\n}\r\n\r\nfunction setUpgradeFirmware(vm, type) {\r\n  let item = getItemByKey(vm.data, \"basic\", \"upgradeFile\");\r\n  let fileName = item.value.fileName;\r\n  if (fileName == \"\" || fileName == vm.$t(\"UpgradeFilePath\")) {\r\n    showErrorInfo(vm, vm.$t(\"FileEmptyWarning\"));\r\n    return;\r\n  }\r\n  vm.$root.processingVisible = true;\r\n  let requestData = {\r\n    target: \"upgradeBasic\",\r\n    action: \"set\",\r\n    data: {\r\n      type: type,\r\n    },\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((res) => {\r\n    if (res.data.retcode == -1) {\r\n      showErrorInfo(vm, vm.$t(\"PhoneTalkingNotUpgradeWarning\"));\r\n    } else if (res.data.retcode == -2) {\r\n      showErrorInfo(vm, vm.$t(\"AUTOPConflictWarning\"));\r\n    } else if (res.data.retcode == -3) {\r\n      showErrorInfo(vm, vm.$t(\"PhoneUpgradingWarning\"));\r\n    } else if (res.data.retcode == -4) {\r\n      showErrorInfo(vm, vm.$t(\"PhoneAlarmingWarning\"));\r\n    } else if (res.data.retcode == 0) {\r\n      uploadUpgradeFile(vm);\r\n    } else {\r\n      showErrorInfo(vm, vm.$t(\"UpgradeFinishedNotice\"));\r\n    }\r\n  });\r\n}\r\n\r\nfunction uploadUpgradeFile(vm) {\r\n  let item = getItemByKey(vm.data, \"basic\", \"upgradeFile\");\r\n  let fileName = item.value.fileName;\r\n  if (fileName == \"\" || fileName == vm.$t(\"UpgradeFilePath\")) {\r\n    showErrorInfo(vm, vm.$t(\"FileEmptyWarning\"));\r\n    return;\r\n  }\r\n  //上传\r\n  item.loading = true;\r\n  const upData = new FormData();\r\n  upData.append(\"file\", item.value.fileData);\r\n  axios\r\n    .post(\"api/upgradeBasic/upload\", upData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    })\r\n    .then((res) => {\r\n      if (res.data.retcode == -1) {\r\n        showErrorInfo(vm, vm.$t(\"UpgradeFailedWarning\"));\r\n      } else if (res.data.retcode == 0) {\r\n        showRequestSuccess(vm, vm.$t(\"UpgradeFinishedNotice\"));\r\n        vm.$root.processingVisible = false;\r\n        item.value.fileName = vm.$t(\"UpgradeFilePath\");\r\n        item.value.fileData = {};\r\n      }\r\n      item.loading = false;\r\n    });\r\n}\r\n</script>"]}]}