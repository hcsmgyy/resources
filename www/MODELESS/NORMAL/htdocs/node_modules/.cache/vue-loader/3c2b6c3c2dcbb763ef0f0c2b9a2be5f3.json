{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/ContactsCallLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/ContactsCallLog.vue","mtime":1600155105014},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBDb21tb25QYWdlIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25QYWdlLnZ1ZSI7CmltcG9ydCB7CiAgc2hvd1JlcXVlc3RTdWNjZXNzLAogIGRlZXBDbG9uZSwKICBpc0FuSW50ZXJnZXIsCiAgZ2V0SXRlbUJ5S2V5LAogIGRhdGVGdHQsCiAgZm9ybWF0QU1QTSwKICBvbldlYkhhbmd1cCwKfSBmcm9tICJAL2pzL2NvbW1vbi5qcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ29tbW9uUGFnZSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFuZ2VkQ2ZnRGF0YToge30sCiAgICAgIHN1Ym1pdENmZ0RhdGE6IHt9LAogICAgICBhcGlEYXRhOiB7fSwKICAgICAgZGF0YTogewogICAgICAgIGdldERhdGFTdWNjZXNzOiBmYWxzZSwKICAgICAgfSwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgZ2V0RGF0YSh0aGlzKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ29tbW9uUGFnZURhdGFDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkgewogICAgICBzZXRDaGFuZ2VkRGF0YSh0aGlzLCBldmVudCk7CiAgICAgIC8vdGhpcy5jaGFuZ2VkQ2ZnRGF0YVtldmVudC5pdGVtS2V5XSA9IGV2ZW50Lm5ld1ZhbDsKICAgIH0sCiAgfSwKfTsKCmZ1bmN0aW9uIHNldENoYW5nZWREYXRhKHZtLCBldmVudCkgewogIGlmIChldmVudC5jb250ZW50S2V5ID09ICJjYWxsbG9nIikgewogICAgaWYgKGV2ZW50Lml0ZW1LZXkgPT0gImNhbGxIaXN0b3J5VHlwZSIpIHsKICAgICAgZ2V0Q2FsbExvZ3NUYWJsZURhdGEodm0sIDEpOwogICAgfSBlbHNlIHsKICAgICAgdm0uY2hhbmdlZENmZ0RhdGFbZXZlbnQuaXRlbUtleV0gPSBldmVudC5uZXdWYWw7CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBzdWJtaXREYXRhKHZtKSB7CiAgdm0uZGF0YS5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsKCiAgbGV0IHJlcXVlc3REYXRhID0gewogICAgdGFyZ2V0OiAicGhvbmVDYWxsTG9nIiwKICAgIGFjdGlvbjogInNldCIsCiAgICBjb25maWdEYXRhOiB2bS5zdWJtaXRDZmdEYXRhLAogIH07CiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgc2hvd1JlcXVlc3RTdWNjZXNzKHZtKTsKICAgIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IGZhbHNlOwogIH0pOwp9CgpmdW5jdGlvbiBnZXREYXRhKHZtKSB7CiAgdm0uJGF4aW9zLmdldCgiYXBpL3Bob25lQ2FsbExvZy9pbmZvIikudGhlbigocmVzcG9uc2UpID0+IHsKICAgIHZtLmdldERhdGFTdWNjZXNzID0gdHJ1ZTsKICAgIHZtLmFwaURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgdm0uY2hhbmdlZENmZ0RhdGEgPSBkZWVwQ2xvbmUocmVzcG9uc2UuZGF0YS5jb25maWdEYXRhKTsKICAgIGNyZWF0ZVBhZ2VEYXRhKHZtKTsKICB9KTsKfQoKZnVuY3Rpb24gZ2V0Q29tbWl0RGF0YSh2bSkgewogIHZtLnN1Ym1pdENmZ0RhdGEgPSB7fTsKICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7CiAgICBpZiAodm0uYXBpRGF0YS5jb25maWdEYXRhW2NoYW5nZWRLZXldICE9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldKSB7CiAgICAgIHZtLnN1Ym1pdENmZ0RhdGFbY2hhbmdlZEtleV0gPSB2bS5jaGFuZ2VkQ2ZnRGF0YVtjaGFuZ2VkS2V5XTsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGNoZWNrQ29tbWl0RGF0YSh2bSkgewogIHJldHVybiBjaGVja0NhbGxMb2codm0pOwp9CmZ1bmN0aW9uIGNoZWNrQ2FsbExvZyh2bSkgewogIGxldCBzdWNjZXNzID0gdHJ1ZTsKICBsZXQgdXBwZXJMaW1pdCA9IGdldEl0ZW1CeUtleSgKICAgIHZtLmRhdGEsCiAgICAiY2FsbGxvZyIsCiAgICAiQ29uZmlnLlNldHRpbmdzLkNhcHR1cmUuVXBwZXJMaW1pdCIKICApOwogIGlmICh2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLlNldHRpbmdzLkNhcHR1cmUuVXBwZXJMaW1pdCJdID09ICIiKSB7CiAgICB1cHBlckxpbWl0LmlzV2FybiA9IHRydWU7CiAgICB1cHBlckxpbWl0Lndhcm5MYWJlbCA9IHZtLiR0KCJVcHBlckxpbWl0V2FybmluZyIpOwogICAgc3VjY2VzcyA9IGZhbHNlOwogIH0KICBpZiAoIWlzQW5JbnRlcmdlcih2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLlNldHRpbmdzLkNhcHR1cmUuVXBwZXJMaW1pdCJdKSkgewogICAgdXBwZXJMaW1pdC5pc1dhcm4gPSB0cnVlOwogICAgdXBwZXJMaW1pdC53YXJuTGFiZWwgPSB2bS4kdCgiVmFsdWVNdXN0QmVOdW1iZXIiKTsKICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICB9IGVsc2UgewogICAgaWYgKHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5VcHBlckxpbWl0Il0gPD0gMCkgewogICAgICB1cHBlckxpbWl0LmlzV2FybiA9IHRydWU7CiAgICAgIHVwcGVyTGltaXQud2FybkxhYmVsID0gdm0uJHQoIlZhbHVlR3JlYXRlcjBJbmZvIik7CiAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICAgIH0KICB9CiAgcmV0dXJuIHN1Y2Nlc3M7Cn0KCmZ1bmN0aW9uIGNyZWF0ZVBhZ2VEYXRhKHZtKSB7CiAgdm0uZGF0YSA9IHsKICAgIGdldERhdGFTdWNjZXNzOiB0cnVlLAogICAgYnJlYWRDcnVtYjogewogICAgICBmaXJzdFRpdGxlOiB2bS4kdCgiQ29udGFjdHMiKSwKICAgICAgc2Vjb25kVGl0bGU6IHZtLiR0KCJDYWxsTG9nIiksCiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFjaGVja0NvbW1pdERhdGEodm0pKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGdldENvbW1pdERhdGEodm0pOwogICAgICBzdWJtaXREYXRhKHZtKTsKICAgIH0sCiAgICBvbkNhbmNlbDogZnVuY3Rpb24gKCkgewogICAgICB2bS5kYXRhLmNhbmNlbExvYWRpbmcgPSB0cnVlOwogICAgICBnZXREYXRhKHZtKTsKICAgIH0sCiAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwKICAgIGNhbmNlbExvYWRpbmc6IGZhbHNlLAogICAgY29udGVudHM6IFtdLAogIH07CiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZUNhbGxMb2dDb250ZW50KHZtKSk7CiAgZ2V0Q2FsbExvZ3NUYWJsZURhdGEodm0sIDEpOwp9CgpmdW5jdGlvbiBjcmVhdGVDYWxsTG9nQ29udGVudCh2bSkgewogIC8vY2FsbCBsb2cgdHlwZSBpdGVtcwogIGxldCBjYWxsTG9nVHlwZUl0ZW1zID0gWwogICAgeyBrZXk6IDAsIGxhYmVsOiB2bS4kdCgiQWxsIikgfSwKICAgIHsga2V5OiAxLCBsYWJlbDogdm0uJHQoIkRpYWxlZCIpIH0sCiAgICB7IGtleTogMiwgbGFiZWw6IHZtLiR0KCJSZWNlaXZlZCIpIH0sCiAgICB7IGtleTogMywgbGFiZWw6IHZtLiR0KCJNaXNzZWQiKSB9LAogICAgeyBrZXk6IDQsIGxhYmVsOiB2bS4kdCgiRm9yd2FyZGVkIikgfSwKICBdOwogIC8vY2FwdHVyZSBkZWxheSBpdGVtcwogIGxldCBjYXB0dXJlRGVsYXlJdGVtcyA9IFtdOwogIGZvciAobGV0IGkgPSAwOyBpIDw9IDEwOyBpKyspIHsKICAgIGNhcHR1cmVEZWxheUl0ZW1zLnB1c2goeyBrZXk6IGksIGxhYmVsOiBpICsgIiAiICsgdm0uJHQoIlNlY29uZCIpIH0pOwogIH0KICAvL3RhYmxlIGZvb3RlcgogIGxldCB0YWJsZUZvb3RlckRhdGEgPSB7CiAgICBvbkRlbGV0ZTogZnVuY3Rpb24gKCkgewogICAgICBvbkRlbGV0ZUxvZyh2bSwgInNlbGVjdCIpOwogICAgfSwKICAgIG9uRGVsZXRlQWxsOiBmdW5jdGlvbiAoKSB7CiAgICAgIG9uRGVsZXRlTG9nKHZtLCAiYWxsIik7CiAgICB9LAogICAgb25QYWdlQ2hhbmdlOiBmdW5jdGlvbiAocGFnZSkgewogICAgICBnZXRDYWxsTG9nc1RhYmxlRGF0YSh2bSwgcGFnZSk7CiAgICB9LAogICAgc3VtOiAwLAogICAgcGFnZU51bWJlcjogMTUsCiAgICBjdXJQYWdlOiAwLAogICAgZGVsZXRlRGlzYWJsZWQ6IHRydWUsCiAgICBkZWxldGVBbGxEaXNhYmxlZDogZmFsc2UsCiAgfTsKICAvL2NvbnRlbnQKICBsZXQgY29udGVudCA9IHsKICAgIGtleTogImNhbGxsb2ciLAogICAgdGl0bGU6IHZtLiR0KCJDYWxsTG9nIiksCiAgICB0aXRsZURlc2NyaXB0aW9uOiB2bS4kdCgiQ2FsbExvZyIpLAogICAgaXRlbXM6IFsKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiQ2FwdHVyZURlbGF5IiksCiAgICAgICAgdHlwZTogInNlbGVjdCIsCiAgICAgICAga2V5OiAiQ29uZmlnLlNldHRpbmdzLkNhcHR1cmUuRGVsYXkiLAogICAgICAgIHZhbHVlOiB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5DYXB0dXJlLkRlbGF5Il0sCiAgICAgICAgc2VsZWN0SXRlbXM6IGNhcHR1cmVEZWxheUl0ZW1zLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGl0bGU6IHZtLiR0KCJVcHBlckxpbWl0IiksCiAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICBrZXk6ICJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5VcHBlckxpbWl0IiwKICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5VcHBlckxpbWl0Il0sCiAgICAgICAgaXNXYXJuOiBmYWxzZSwKICAgICAgICB3YXJuTGFiZWw6IHZtLiR0KCJVcHBlckxpbWl0V2FybmluZyIpLAogICAgICB9LAogICAgICB7CiAgICAgICAgdGl0bGU6IHZtLiR0KCJDYWxsSGlzdG9yeSIpLAogICAgICAgIHR5cGU6ICJzZWxlY3QiLAogICAgICAgIHNob3dDYWxsTG9nQnRuOiB0cnVlLAogICAgICAgIGtleTogImNhbGxIaXN0b3J5VHlwZSIsCiAgICAgICAgdmFsdWU6ICIwIiwKICAgICAgICBzZWxlY3RJdGVtczogY2FsbExvZ1R5cGVJdGVtcywKICAgICAgICBvbkhhbmd1cDogZnVuY3Rpb24gKCkgewogICAgICAgICAgb25XZWJIYW5ndXAodm0pOwogICAgICAgIH0sCiAgICAgICAgb25FeHBvcnQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIG9uRXhwb3J0KHZtKTsKICAgICAgICB9LAogICAgICB9LAogICAgICB7CiAgICAgICAgdHlwZTogInRhYmxlIiwKICAgICAgICBrZXk6ICJjYWxsbG9nIiwKICAgICAgICBzaG93Rm9vdGVyOiB0cnVlLAogICAgICAgIHNob3dSb3dTZWxlY3Rpb246IHRydWUsCiAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBbXSwKICAgICAgICB0YWJsZUZvb3RlckRhdGE6IHRhYmxlRm9vdGVyRGF0YSwKICAgICAgICB0YWJsZURhdGE6IFtdLAogICAgICAgIHRhYmxlQ29sdW1uczogWwogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgICAgICB0aXRsZTogdm0uJHQoIkluZGV4IiksCiAgICAgICAgICAgIGRhdGFJbmRleDogImluZGV4IiwKICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAiaW5kZXgiIH0sCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgICAgd2lkdGg6ICIxMCUiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogImxhYmVsIiwKICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJUeXBlIiksCiAgICAgICAgICAgIGRhdGFJbmRleDogInR5cGUiLAogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJ0eXBlIiB9LAogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAlIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJsYWJlbCIsCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiRGF0ZUxhYmVsIiksCiAgICAgICAgICAgIGRhdGFJbmRleDogImRhdGUiLAogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJkYXRlIiB9LAogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAlIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJsYWJlbCIsCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiVGltZSIpLAogICAgICAgICAgICBkYXRhSW5kZXg6ICJ0aW1lIiwKICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAidGltZSIgfSwKICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgICB3aWR0aDogIjEwJSIsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgICAgICB0aXRsZTogdm0uJHQoIkxvY2FsSWRlbnRpdHkiKSwKICAgICAgICAgICAgZGF0YUluZGV4OiAiaWRlbnRpdHkiLAogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpZGVudGl0eSIgfSwKICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgICB3aWR0aDogIjIwJSIsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgICAgICB0aXRsZTogdm0uJHQoIk5hbWUiKSwKICAgICAgICAgICAgZGF0YUluZGV4OiAibmFtZSIsCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogIm5hbWUiIH0sCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgICAgd2lkdGg6ICIyMCUiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogImxhYmVsIiwKICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJudW1iZXIiKSwKICAgICAgICAgICAgZGF0YUluZGV4OiAibnVtYmVyIiwKICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAibnVtYmVyIiB9LAogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgIHdpZHRoOiAiMjAlIiwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgfSwKICAgIF0sCiAgfTsKICByZXR1cm4gY29udGVudDsKfQoKZnVuY3Rpb24gZ2V0Q2FsbExvZ3NUYWJsZURhdGEodm0sIHBhZ2UpIHsKICB2YXIgZGF0ZUZvcm1hdCA9ICJ5eXl5LU1NLWRkIjsKICBsZXQgYXBpRGF0ZUZvcm1hdCA9CiAgICB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5EQVRFVElNRS5EYXRlRm9ybWF0Il07CiAgaWYgKGFwaURhdGVGb3JtYXQgPT0gIjAiKSB7CiAgICBkYXRlRm9ybWF0ID0gInl5eXktTU0tZGQiOwogIH0gZWxzZSBpZiAoYXBpRGF0ZUZvcm1hdCA9PSAiMSIpIHsKICAgIGRhdGVGb3JtYXQgPSAieXl5eS9NTS9kZCI7CiAgfSBlbHNlIGlmIChhcGlEYXRlRm9ybWF0ID09ICIyIikgewogICAgZGF0ZUZvcm1hdCA9ICJkZC1NTS15eXl5IjsKICB9IGVsc2UgaWYgKGFwaURhdGVGb3JtYXQgPT0gIjMiKSB7CiAgICBkYXRlRm9ybWF0ID0gImRkL01NL3l5eXkiOwogIH0gZWxzZSBpZiAoYXBpRGF0ZUZvcm1hdCA9PSAiNiIpIHsKICAgIGRhdGVGb3JtYXQgPSAiTU0tZGQteXl5eSI7CiAgfSBlbHNlIGlmIChhcGlEYXRlRm9ybWF0ID09ICI3IikgewogICAgZGF0ZUZvcm1hdCA9ICJNTS9kZC95eXl5IjsKICB9CgogIHZtLiRheGlvcwogICAgLmdldCgKICAgICAgImFwaS9waG9uZUNhbGxMb2cvZ2V0P3BhZ2U9IiArCiAgICAgICAgcGFnZSArCiAgICAgICAgIiZ0eXBlPSIgKwogICAgICAgIGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsSGlzdG9yeVR5cGUiKS52YWx1ZQogICAgKQogICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIGxldCB0YWJsZURhdGEgPSBbXTsKICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7CiAgICAgIHZhciB0eXBlcyA9IG5ldyBBcnJheSgKICAgICAgICB2bS4kdCgiQWxsIiksCiAgICAgICAgdm0uJHQoIkRpYWxlZCIpLAogICAgICAgIHZtLiR0KCJSZWNlaXZlZCIpLAogICAgICAgIHZtLiR0KCJNaXNzZWQiKSwKICAgICAgICB2bS4kdCgiRm9yd2FyZGVkIikKICAgICAgKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmNhbGxMb2dMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGV0IGl0ZW0gPSB7CiAgICAgICAgICBrZXk6IGRhdGEuY2FsbExvZ0xpc3RbaV0uaWQsCiAgICAgICAgICBpbmRleDogaSArIDEsCiAgICAgICAgICB0eXBlOiB0eXBlc1tkYXRhLmNhbGxMb2dMaXN0W2ldLnR5cGVdLAogICAgICAgICAgZGF0ZTogZGF0ZUZ0dChkYXRlRm9ybWF0LCBuZXcgRGF0ZShkYXRhLmNhbGxMb2dMaXN0W2ldLmRhdGUpKSwKICAgICAgICAgIHRpbWU6CiAgICAgICAgICAgIHZtLmFwaURhdGEuY29uZmlnRGF0YVsiQ29uZmlnLlNldHRpbmdzLkRBVEVUSU1FLlRpbWVGb3JtYXQiXSA9PSAiMCIKICAgICAgICAgICAgICA/IGZvcm1hdEFNUE0oCiAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKAogICAgICAgICAgICAgICAgICAgIGRhdGEuY2FsbExvZ0xpc3RbaV0uZGF0ZSArICIgIiArIGRhdGEuY2FsbExvZ0xpc3RbaV0udGltZQogICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgOiBkYXRhLmNhbGxMb2dMaXN0W2ldLnRpbWUsCiAgICAgICAgICBpZGVudGl0eTogZGF0YS5jYWxsTG9nTGlzdFtpXS5pZGVudGl0eSwKICAgICAgICAgIG5hbWU6IGRhdGEuY2FsbExvZ0xpc3RbaV0ubmFtZSwKICAgICAgICAgIG51bWJlcjogZGF0YS5jYWxsTG9nTGlzdFtpXS5udW1iZXIsCiAgICAgICAgfTsKICAgICAgICB0YWJsZURhdGEucHVzaChpdGVtKTsKICAgICAgfQogICAgICBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImNhbGxsb2ciLCAiY2FsbGxvZyIpLnRhYmxlRGF0YSA9IHRhYmxlRGF0YTsKICAgICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJjYWxsbG9nIiwgImNhbGxsb2ciKS50YWJsZUZvb3RlckRhdGEuc3VtID0KICAgICAgICBkYXRhLnN1bTsKICAgICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJjYWxsbG9nIiwgImNhbGxsb2ciKS50YWJsZUZvb3RlckRhdGEucGFnZU51bWJlciA9CiAgICAgICAgZGF0YS5wYWdlTnVtOwogICAgICBnZXRJdGVtQnlLZXkoCiAgICAgICAgdm0uZGF0YSwKICAgICAgICAiY2FsbGxvZyIsCiAgICAgICAgImNhbGxsb2ciCiAgICAgICkudGFibGVGb290ZXJEYXRhLmN1clBhZ2UgPSBwYWdlOwogICAgICBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImNhbGxsb2ciLCAiY2FsbGxvZyIpLnNlbGVjdGVkUm93S2V5cyA9IFtdOwogICAgfSk7Cn0KZnVuY3Rpb24gb25EZWxldGVMb2codm0sIHR5cGUpIHsKICBpZiAoCiAgICAhY29uZmlybSgKICAgICAgdHlwZSA9PSAiYWxsIiA/IHZtLiR0KCJEZWxldGVBbGxDb25maXJtIikgOiB2bS4kdCgiRGVsZXRlU2VsZWN0ZWRDb25maXJtIikKICAgICkKICApIHsKICAgIHJldHVybjsKICB9CiAgbGV0IHNlbGVjdGVkUm93S2V5cyA9IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsbG9nIikKICAgIC5zZWxlY3RlZFJvd0tleXM7CiAgbGV0IHJlcXVlc3REYXRhID0gewogICAgdGFyZ2V0OiAicGhvbmVDYWxsTG9nIiwKICAgIGFjdGlvbjogImRlbCIsCiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IHR5cGUsCiAgICAgIGlkczogc2VsZWN0ZWRSb3dLZXlzLAogICAgICBsb2dUeXBlOiBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImNhbGxsb2ciLCAiY2FsbEhpc3RvcnlUeXBlIikudmFsdWUsCiAgICB9LAogIH07CiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgc2hvd1JlcXVlc3RTdWNjZXNzKHZtLCB2bS4kdCgiQ2FsbExvZ0RlbGV0ZVN1Y2Nlc3MiKSk7CiAgICBsZXQgdGFibGVGb290ZXJEYXRhID0gZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJjYWxsbG9nIiwgImNhbGxsb2ciKQogICAgICAudGFibGVGb290ZXJEYXRhOwogICAgaWYgKHR5cGUgIT0gImFsbCIpIHsKICAgICAgbGV0IHN1bVBhZ2UgPSBNYXRoLmNlaWwoCiAgICAgICAgKHRhYmxlRm9vdGVyRGF0YS5zdW0gLSBzZWxlY3RlZFJvd0tleXMubGVuZ3RoKSAvCiAgICAgICAgICB0YWJsZUZvb3RlckRhdGEucGFnZU51bWJlcgogICAgICApOwogICAgICBzdW1QYWdlID0gc3VtUGFnZSA9PSAwID8gMSA6IHN1bVBhZ2U7CiAgICAgIGxldCBwYWdlID0KICAgICAgICB0YWJsZUZvb3RlckRhdGEuY3VyUGFnZSA+PSBzdW1QYWdlID8gc3VtUGFnZSA6IHRhYmxlRm9vdGVyRGF0YS5jdXJQYWdlOwogICAgICBnZXRDYWxsTG9nc1RhYmxlRGF0YSh2bSwgcGFnZSk7CiAgICB9IGVsc2UgewogICAgICBnZXRDYWxsTG9nc1RhYmxlRGF0YSh2bSwgMSk7CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIG9uRXhwb3J0KHZtKSB7CiAgbGV0IHJlcXVlc3REYXRhID0gewogICAgdGFyZ2V0OiAicGhvbmVDYWxsTG9nIiwKICAgIGFjdGlvbjogImV4cG9ydCIsCiAgfTsKICB2bS4kYXhpb3MucG9zdCgiYXBpIiwgcmVxdWVzdERhdGEpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0sIHZtLiR0KCJFeHBvcnRTdWNjZXNzIikpOwogICAgbGV0IGFkZHJlc3MgPSByZXNwb25zZS5kYXRhLmRhdGEuYWRkcmVzczsKICAgIHdpbmRvdy5vcGVuKGFkZHJlc3MpOwogIH0pOwp9Cg=="},null]}