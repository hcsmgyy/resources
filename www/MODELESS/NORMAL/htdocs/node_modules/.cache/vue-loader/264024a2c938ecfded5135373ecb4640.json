{"remainingRequest":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\HiddenPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\HiddenPage.vue","mtime":1627350303877},{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624613261239},{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\babel-loader\\lib\\index.js","mtime":1624613260275},{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624613261239},{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js","mtime":1624613274496}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgQ29tbW9uUGFnZSBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uUGFnZS52dWUiOw0KaW1wb3J0IHsgc2hvd1JlcXVlc3RTdWNjZXNzLCBkZWVwQ2xvbmUgfSBmcm9tICJAL2pzL2NvbW1vbi5qcyI7DQppbXBvcnQgeyBnZXRJdGVtQnlLZXksIGNoZWNrU2hlbGxSdWxlIH0gZnJvbSAiLi4vanMvY29tbW9uIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgQ29tbW9uUGFnZSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgY2hhbmdlZENmZ0RhdGE6IHt9LA0KICAgICAgc3VibWl0Q2ZnRGF0YToge30sDQogICAgICBhcGlEYXRhOiB7fSwNCiAgICAgIGludGVyT2JqOiBPYmplY3QsDQogICAgICBkYXRhOiB7DQogICAgICAgIGdldERhdGFTdWNjZXNzOiBmYWxzZSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBnZXREYXRhKHRoaXMpOw0KICB9LA0KICBkZXN0cm95ZWQoKSB7DQogICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVyT2JqKTsNCiAgICBjbGVhclBpbmdSZXN1bHQodGhpcyk7DQogIH0sDQogIHVwZGF0ZWQoKSB7DQogICAgY2xlYXJQaW5nUmVzdWx0KHRoaXMpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb25Db21tb25QYWdlRGF0YUNoYW5nZTogZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICBzZXRDaGFuZ2VkRGF0YSh0aGlzLCBldmVudCk7DQogICAgfSwNCiAgfSwNCn07DQoNCmZ1bmN0aW9uIHNldENoYW5nZWREYXRhKHZtLCBldmVudCkgew0KICBpZiAoZXZlbnQuY29udGVudEtleSA9PSAicnRzcGRTZXR0aW5nIikgew0KICAgIHZtLmNoYW5nZWRDZmdEYXRhW2V2ZW50Lml0ZW1LZXldID0gZXZlbnQubmV3VmFsOw0KICB9DQp9DQoNCmZ1bmN0aW9uIHN1Ym1pdERhdGEodm0pIHsNCiAgdm0uZGF0YS5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsNCg0KICBsZXQgcmVxdWVzdERhdGEgPSB7DQogICAgdGFyZ2V0OiAicGhvbmVIaWRkZW4iLA0KICAgIGFjdGlvbjogInNldCIsDQogICAgY29uZmlnRGF0YTogdm0uc3VibWl0Q2ZnRGF0YSwNCiAgICBkYXRhOiB7DQogICAgICB0ZWxuZXRFbmFibGU6IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAidGVsbmV0IiwgInRlbG5ldEVuYWJsZSIpLnZhbHVlLA0KICAgIH0sDQogIH07DQogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICBpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIHJlc3BvbnNlKSB7DQogICAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0pOw0KICAgIH0NCiAgICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIGdldERhdGEodm0pIHsNCiAgdm0uJGF4aW9zLmdldCgiYXBpL3Bob25lSGlkZGVuL2luZm8iKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIHZtLmdldERhdGFTdWNjZXNzID0gdHJ1ZTsNCiAgICB2bS5hcGlEYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICB2bS5jaGFuZ2VkQ2ZnRGF0YSA9IGRlZXBDbG9uZShyZXNwb25zZS5kYXRhLmNvbmZpZ0RhdGEpOw0KICAgIGNyZWF0ZVBhZ2VEYXRhKHZtKTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIGdldENvbW1pdERhdGEodm0pIHsNCiAgdm0uc3VibWl0Q2ZnRGF0YSA9IHt9Ow0KICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7DQogICAgaWYgKHZtLmFwaURhdGEuY29uZmlnRGF0YVtjaGFuZ2VkS2V5XSAhPSB2bS5jaGFuZ2VkQ2ZnRGF0YVtjaGFuZ2VkS2V5XSkgew0KICAgICAgdm0uc3VibWl0Q2ZnRGF0YVtjaGFuZ2VkS2V5XSA9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldOw0KICAgIH0NCiAgfQ0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVQYWdlRGF0YSh2bSkgew0KICB2bS5kYXRhID0gew0KICAgIGdldERhdGFTdWNjZXNzOiB0cnVlLA0KICAgIGJyZWFkQ3J1bWI6IHsNCiAgICAgIGZpcnN0VGl0bGU6IHZtLiR0KCJIaWRkZW5QYWdlIiksDQogICAgICBzZWNvbmRUaXRsZTogdm0uJHQoIkhpZGRlblBhZ2UiKSwNCiAgICB9LA0KICAgIG9uU3VibWl0OiBmdW5jdGlvbiAoKSB7DQogICAgICBnZXRDb21taXREYXRhKHZtKTsNCiAgICAgIHN1Ym1pdERhdGEodm0pOw0KICAgIH0sDQogICAgb25DYW5jZWw6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZtLmRhdGEuY2FuY2VsTG9hZGluZyA9IHRydWU7DQogICAgICBnZXREYXRhKHZtKTsNCiAgICB9LA0KICAgIHN1Ym1pdExvYWRpbmc6IGZhbHNlLA0KICAgIGNhbmNlbExvYWRpbmc6IGZhbHNlLA0KICAgIGNvbnRlbnRzOiBbXSwNCiAgfTsNCiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZVRlbG5ldENvbnRlbnQodm0pKTsNCiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZVRvb2xzQ29udGVudCh2bSkpOw0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVUZWxuZXRDb250ZW50KHZtKSB7DQogIGxldCBjb250ZW50ID0gew0KICAgIGtleTogInRlbG5ldCIsDQogICAgdGl0bGU6IHZtLiR0KCJUZWxuZXQiKSwNCiAgICB0aXRsZURlc2NyaXB0aW9uOiB2bS4kdCgiVGVsbmV0IiksDQogICAgaXRlbXM6IFsNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJUZWxuZXRBY3RpdmUiKSwNCiAgICAgICAgdHlwZTogInNlbGVjdCIsDQogICAgICAgIGtleTogInRlbG5ldEVuYWJsZSIsDQogICAgICAgIHZhbHVlOiB2bS5hcGlEYXRhLmRhdGEudGVsbmV0RW5hYmxlID09ICJ0cnVlIiA/IDEgOiAwLA0KICAgICAgICBzZWxlY3RJdGVtczogWw0KICAgICAgICAgIHsga2V5OiAwLCBsYWJlbDogdm0uJHQoIkRpc2FibGVkIikgfSwNCiAgICAgICAgICB7IGtleTogMSwgbGFiZWw6IHZtLiR0KCJFbmFibGVkIikgfSwNCiAgICAgICAgXSwNCiAgICAgIH0sDQogICAgXSwNCiAgfTsNCiAgcmV0dXJuIGNvbnRlbnQ7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZVRvb2xzQ29udGVudCh2bSkgew0KICBsZXQgY29udGVudCA9IHsNCiAgICBrZXk6ICJ0b29scyIsDQogICAgdGl0bGU6IHZtLiR0KCJUb29sc0xhYmVsIiksDQogICAgdGl0bGVEZXNjcmlwdGlvbjogdm0uJHQoIlRlbG5ldCIpLA0KICAgIGl0ZW1zOiBbDQogICAgICB7DQogICAgICAgIHRpdGxlOiB2bS4kdCgiVmVyaWZ5TmV0d29ya0xhYmVsIiksDQogICAgICAgIHR5cGU6ICJpbnB1dCIsDQogICAgICAgIGtleTogIlZlcmlmeU5ldHdvcmsiLA0KICAgICAgICB2YWx1ZTogIiIsDQogICAgICAgIHNob3dCdG4yOiB0cnVlLA0KICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgb25TdGFydFBpbmcodm0pOw0KICAgICAgICB9LA0KICAgICAgICBwaW5nTG9hZGluZzogZmFsc2UsDQogICAgICAgIGRlbERpc2FibGVkOiBmYWxzZSwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJWZXJpZnlOZXR3b3JrTGFiZWwiKSwNCiAgICAgICAgaXNXYXJuOiBmYWxzZSwNCiAgICAgICAgd2FybkxhYmVsOiB2bS4kdCgiUENBUFBvcnRSYW5nZUVycm9yIiksDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB0eXBlOiAidGV4dC1hcmVhIiwNCiAgICAgICAga2V5OiAiVmVyaWZ5UmVzdWx0IiwNCiAgICAgICAgdmFsdWU6ICIiLA0KICAgICAgICByZWFkb25seTogdHJ1ZSwNCiAgICAgIH0NCiAgICBdLA0KICB9Ow0KICByZXR1cm4gY29udGVudDsNCn0NCg0KdmFyIHRtcD0wOw0KdmFyIGxvY2s9MDsNCmZ1bmN0aW9uIG9uU3RhcnRQaW5nKHZtKSB7DQogIGNoZWNrUGluZ1Nob3codm0sIHRydWUpOw0KICBsZXQgaXRlbSA9IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAidG9vbHMiLCAiVmVyaWZ5TmV0d29yayIpOw0KICBsZXQgcmVzdWx0ID0gZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJ0b29scyIsICJWZXJpZnlSZXN1bHQiKTsNCiAgcmVzdWx0LnZhbHVlID0gIiI7DQogIHZhciBhZGRyZXNzID0gaXRlbS52YWx1ZTsNCiAgLy9jaGVjaw0KICBpZiAoIWNoZWNrU2hlbGxSdWxlKGFkZHJlc3MpKSB7DQogICAgaXRlbS5pc1dhcm4gPSB0cnVlOw0KICB9DQoNCiAgLy8gc3RhcnQgcGluZw0KICBsZXQgcmVxdWVzdERhdGEgPSB7DQogICAgdGFyZ2V0OiAicGhvbmVIaWRkZW4iLA0KICAgIGFjdGlvbjogInNldCIsDQogICAgZGF0YTogew0KICAgICAgcGluZ0FkZHJlc3M6IGFkZHJlc3MsDQogICAgfSwNCiAgfTsNCiAgdG1wPTA7DQoJbG9jaz0wOw0KICB2bS4kYXhpb3MucG9zdCgiYXBpIiwgcmVxdWVzdERhdGEpLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgaWYgKCJ1bmRlZmluZWQiICE9IHR5cGVvZiByZXNwb25zZSkgew0KICAgICAgdm0uaW50ZXJPYmogPSBzZXRJbnRlcnZhbCgoKSA9PnsNCiAgICAgICAgZ2V0U3RhdHVlUGluZ1Jlc3VsdCh2bSk7DQogICAgICB9LDEwMDApOw0KICAgIH0gDQogIH0pOw0KfQ0KDQpmdW5jdGlvbiBnZXRTdGF0dWVQaW5nUmVzdWx0KHZtKSB7DQogIHZtLiRheGlvcy5nZXQoImFwaS9waG9uZUhpZGRlbi9nZXQiKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIHZhciByZXN1bHRWYWx1ZSA9IHJlc3BvbnNlLmRhdGEuZGF0YS5waW5nUmVzdWx0Ow0KICAgIGlmKHRtcCE9LTEpew0KICAgICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJ0b29scyIsICJWZXJpZnlSZXN1bHQiKS52YWx1ZSA9IHJlc3VsdFZhbHVlICsgIlxuIjsNCiAgICB9DQogICAgaWYocmVzdWx0VmFsdWUuc2VhcmNoKCIzIHBhY2tldHMgdHJhbnNtaXR0ZWQiKSE9LTEgfHxyZXN1bHRWYWx1ZS5zZWFyY2goInVua25vd24gaG9zdCIpIT0tMSB8fCByZXN1bHRWYWx1ZS5zZWFyY2goImNvbm5lY3Q6IEludmFsaWQgYXJndW1lbnQiKSE9LTEpew0KICAgICAgY2xlYXJJbnRlcnZhbCh2bS5pbnRlck9iaik7DQogICAgICBjaGVja1BpbmdTaG93KHZtLCBmYWxzZSk7DQogICAgICB0bXA9LTE7DQogICAgICBpZihsb2NrICE9IC0xKXsNCiAgICAgICAgY2xlYXJQaW5nUmVzdWx0KHZtKTsNCiAgICAgICAgbG9jaz0tMTsNCiAgICAgIH0NCgkJfQ0KICB9KTsNCn0NCg0KZnVuY3Rpb24gY2xlYXJQaW5nUmVzdWx0KHZtKSB7DQogIGxldCByZXF1ZXN0RGF0YSA9IHsNCiAgICB0YXJnZXQ6ICJwaG9uZUhpZGRlbiIsDQogICAgYWN0aW9uOiAic2V0IiwNCiAgICBkYXRhOiB7DQogICAgICBjbGVhclBpbmdSZXN1bHQ6IDEsDQogICAgfSwNCiAgfTsNCiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgcmVzcG9uc2UpIHsNCg0KICAgIH0gDQogIH0pOw0KfQ0KDQpmdW5jdGlvbiBjaGVja1BpbmdTaG93KHZtLCBpc1Nob3cpIHsNCiAgbGV0IGl0ZW0gPSBnZXRJdGVtQnlLZXkodm0uZGF0YSwgInRvb2xzIiwgIlZlcmlmeU5ldHdvcmsiKTsNCiAgaWYgKGlzU2hvdykgew0KICAgIGl0ZW0uZGlzYWJsZWQgPSB0cnVlOw0KICAgIGl0ZW0ucGluZ0xvYWRpbmcgPSB0cnVlOw0KICB9IGVsc2Ugew0KICAgIGl0ZW0uZGlzYWJsZWQgPSBmYWxzZTsNCiAgICBpdGVtLnBpbmdMb2FkaW5nID0gZmFsc2U7DQogIH0NCn0NCg=="},{"version":3,"sources":["HiddenPage.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HiddenPage.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\r\n</template>\r\n\r\n<script>\r\nimport CommonPage from \"@/components/CommonPage.vue\";\r\nimport { showRequestSuccess, deepClone } from \"@/js/common.js\";\r\nimport { getItemByKey, checkShellRule } from \"../js/common\";\r\n\r\nexport default {\r\n  components: {\r\n    CommonPage,\r\n  },\r\n  data() {\r\n    return {\r\n      changedCfgData: {},\r\n      submitCfgData: {},\r\n      apiData: {},\r\n      interObj: Object,\r\n      data: {\r\n        getDataSuccess: false,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    getData(this);\r\n  },\r\n  destroyed() {\r\n    clearInterval(this.interObj);\r\n    clearPingResult(this);\r\n  },\r\n  updated() {\r\n    clearPingResult(this);\r\n  },\r\n  methods: {\r\n    onCommonPageDataChange: function (event) {\r\n      setChangedData(this, event);\r\n    },\r\n  },\r\n};\r\n\r\nfunction setChangedData(vm, event) {\r\n  if (event.contentKey == \"rtspdSetting\") {\r\n    vm.changedCfgData[event.itemKey] = event.newVal;\r\n  }\r\n}\r\n\r\nfunction submitData(vm) {\r\n  vm.data.submitLoading = true;\r\n\r\n  let requestData = {\r\n    target: \"phoneHidden\",\r\n    action: \"set\",\r\n    configData: vm.submitCfgData,\r\n    data: {\r\n      telnetEnable: getItemByKey(vm.data, \"telnet\", \"telnetEnable\").value,\r\n    },\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    if (\"undefined\" != typeof response) {\r\n      showRequestSuccess(vm);\r\n    }\r\n    vm.data.submitLoading = false;\r\n  });\r\n}\r\n\r\nfunction getData(vm) {\r\n  vm.$axios.get(\"api/phoneHidden/info\").then((response) => {\r\n    vm.getDataSuccess = true;\r\n    vm.apiData = response.data;\r\n    vm.changedCfgData = deepClone(response.data.configData);\r\n    createPageData(vm);\r\n  });\r\n}\r\n\r\nfunction getCommitData(vm) {\r\n  vm.submitCfgData = {};\r\n  for (var changedKey in vm.changedCfgData) {\r\n    if (vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]) {\r\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey];\r\n    }\r\n  }\r\n}\r\n\r\nfunction createPageData(vm) {\r\n  vm.data = {\r\n    getDataSuccess: true,\r\n    breadCrumb: {\r\n      firstTitle: vm.$t(\"HiddenPage\"),\r\n      secondTitle: vm.$t(\"HiddenPage\"),\r\n    },\r\n    onSubmit: function () {\r\n      getCommitData(vm);\r\n      submitData(vm);\r\n    },\r\n    onCancel: function () {\r\n      vm.data.cancelLoading = true;\r\n      getData(vm);\r\n    },\r\n    submitLoading: false,\r\n    cancelLoading: false,\r\n    contents: [],\r\n  };\r\n  vm.data.contents.push(createTelnetContent(vm));\r\n  vm.data.contents.push(createToolsContent(vm));\r\n}\r\n\r\nfunction createTelnetContent(vm) {\r\n  let content = {\r\n    key: \"telnet\",\r\n    title: vm.$t(\"Telnet\"),\r\n    titleDescription: vm.$t(\"Telnet\"),\r\n    items: [\r\n      {\r\n        title: vm.$t(\"TelnetActive\"),\r\n        type: \"select\",\r\n        key: \"telnetEnable\",\r\n        value: vm.apiData.data.telnetEnable == \"true\" ? 1 : 0,\r\n        selectItems: [\r\n          { key: 0, label: vm.$t(\"Disabled\") },\r\n          { key: 1, label: vm.$t(\"Enabled\") },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nfunction createToolsContent(vm) {\r\n  let content = {\r\n    key: \"tools\",\r\n    title: vm.$t(\"ToolsLabel\"),\r\n    titleDescription: vm.$t(\"Telnet\"),\r\n    items: [\r\n      {\r\n        title: vm.$t(\"VerifyNetworkLabel\"),\r\n        type: \"input\",\r\n        key: \"VerifyNetwork\",\r\n        value: \"\",\r\n        showBtn2: true,\r\n        onClick: function () {\r\n          onStartPing(vm);\r\n        },\r\n        pingLoading: false,\r\n        delDisabled: false,\r\n        description: vm.$t(\"VerifyNetworkLabel\"),\r\n        isWarn: false,\r\n        warnLabel: vm.$t(\"PCAPPortRangeError\"),\r\n      },\r\n      {\r\n        type: \"text-area\",\r\n        key: \"VerifyResult\",\r\n        value: \"\",\r\n        readonly: true,\r\n      }\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nvar tmp=0;\r\nvar lock=0;\r\nfunction onStartPing(vm) {\r\n  checkPingShow(vm, true);\r\n  let item = getItemByKey(vm.data, \"tools\", \"VerifyNetwork\");\r\n  let result = getItemByKey(vm.data, \"tools\", \"VerifyResult\");\r\n  result.value = \"\";\r\n  var address = item.value;\r\n  //check\r\n  if (!checkShellRule(address)) {\r\n    item.isWarn = true;\r\n  }\r\n\r\n  // start ping\r\n  let requestData = {\r\n    target: \"phoneHidden\",\r\n    action: \"set\",\r\n    data: {\r\n      pingAddress: address,\r\n    },\r\n  };\r\n  tmp=0;\r\n\tlock=0;\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    if (\"undefined\" != typeof response) {\r\n      vm.interObj = setInterval(() =>{\r\n        getStatuePingResult(vm);\r\n      },1000);\r\n    } \r\n  });\r\n}\r\n\r\nfunction getStatuePingResult(vm) {\r\n  vm.$axios.get(\"api/phoneHidden/get\").then((response) => {\r\n    var resultValue = response.data.data.pingResult;\r\n    if(tmp!=-1){\r\n      getItemByKey(vm.data, \"tools\", \"VerifyResult\").value = resultValue + \"\\n\";\r\n    }\r\n    if(resultValue.search(\"3 packets transmitted\")!=-1 ||resultValue.search(\"unknown host\")!=-1 || resultValue.search(\"connect: Invalid argument\")!=-1){\r\n      clearInterval(vm.interObj);\r\n      checkPingShow(vm, false);\r\n      tmp=-1;\r\n      if(lock != -1){\r\n        clearPingResult(vm);\r\n        lock=-1;\r\n      }\r\n\t\t}\r\n  });\r\n}\r\n\r\nfunction clearPingResult(vm) {\r\n  let requestData = {\r\n    target: \"phoneHidden\",\r\n    action: \"set\",\r\n    data: {\r\n      clearPingResult: 1,\r\n    },\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    if (\"undefined\" != typeof response) {\r\n\r\n    } \r\n  });\r\n}\r\n\r\nfunction checkPingShow(vm, isShow) {\r\n  let item = getItemByKey(vm.data, \"tools\", \"VerifyNetwork\");\r\n  if (isShow) {\r\n    item.disabled = true;\r\n    item.pingLoading = true;\r\n  } else {\r\n    item.disabled = false;\r\n    item.pingLoading = false;\r\n  }\r\n}\r\n</script>"]}]}