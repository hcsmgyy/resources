{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/NetworkAdvanced.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/NetworkAdvanced.vue","mtime":1600155105014},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBDb21tb25QYWdlIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25QYWdlLnZ1ZSI7CmltcG9ydCB7CiAgc2hvd1JlcXVlc3RTdWNjZXNzLAogIGdldEluZGV4QnlLZXksCiAgZ2V0SXRlbUJ5S2V5LAogIGRlZXBDbG9uZSwKICBpc1BvcnQsCiAgY2hlY2tSYW5nZU9mTnVtYmVyLAogIGlzQW5JbnRlcmdlciwKICBpc1BvcnRVc2VkCn0gZnJvbSAiQC9qcy9jb21tb24uanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvbW1vblBhZ2UsCiAgfSwKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGNoYW5nZWRDZmdEYXRhOnt9LAogICAgICBzdWJtaXRDZmdEYXRhOnt9LAogICAgICBhcGlEYXRhOiB7fSwKICAgICAgZGF0YTogewogICAgICAgIGdldERhdGFTdWNjZXNzOiBmYWxzZSwKICAgICAgfSwKICAgICAgZGV2aWNlQWRkcmVzc0l0ZW1zOltdLAogICAgICB1c2VkUG9ydEl0ZW1zOltdLAogICAgICBjb25uZWN0VHlwZTogIk5vbmUiLAogICAgICBkZXZpY2VMb2NhdGlvbktleTogIkNvbmZpZy5Eb29yU2V0dGluZy5ERVZJQ0VOT0RFLkxvY2F0aW9uIiwKICAgICAgZGV2aWNlTG9jYXRpb25WYWx1ZTogIiIsCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgZ2V0RGF0YSh0aGlzKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG9uQ29tbW9uUGFnZURhdGFDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkgewogICAgICBpZihldmVudC5pdGVtS2V5ID09ICJDb25maWcuRG9vclNldHRpbmcuREVWSUNFTk9ERS5BZGRyZXNzIil7CiAgICAgICAgdGhpcy5kZXZpY2VBZGRyZXNzSXRlbXMgPSBldmVudC5uZXdWYWw7CiAgICAgICAgdmFyIGRldmljZUFkZHJlc3NWYWx1ZSA9ICIiOwogICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmRldmljZUFkZHJlc3NJdGVtcy5sZW5ndGg7IGkrKyl7CiAgICAgICAgICBkZXZpY2VBZGRyZXNzVmFsdWUgPSBkZXZpY2VBZGRyZXNzVmFsdWUgKyB0aGlzLmRldmljZUFkZHJlc3NJdGVtc1tpXS5sYWJlbCArICIuIjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jaGFuZ2VkQ2ZnRGF0YVtldmVudC5pdGVtS2V5XSA9IGRldmljZUFkZHJlc3NWYWx1ZS5zdWJzdHJpbmcoMCwoZGV2aWNlQWRkcmVzc1ZhbHVlLmxlbmd0aC0xKSk7CiAgICAgIH0gZWxzZSBpZihldmVudC5pdGVtS2V5ID09IHRoaXMuZGV2aWNlTG9jYXRpb25LZXkpewogICAgICAgIHRoaXMuZGV2aWNlTG9jYXRpb25WYWx1ZSA9IGV2ZW50Lm5ld1ZhbDsKICAgICAgICB0aGlzLmNoYW5nZWRDZmdEYXRhW2V2ZW50Lml0ZW1LZXldID0gZXZlbnQubmV3VmFsOwogICAgICB9ZWxzZXsKICAgICAgICB0aGlzLmNoYW5nZWRDZmdEYXRhW2V2ZW50Lml0ZW1LZXldID0gZXZlbnQubmV3VmFsOwogICAgICB9CiAgICB9LAogIH0sCn07CgpmdW5jdGlvbiBzdWJtaXREYXRhKHZtKSB7CiAgdm0uZGF0YS5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsKCiAgbGV0IHJlcXVlc3REYXRhID0gewogICAgdGFyZ2V0OiAibmV0d29ya0FkdmFuY2VkIiwKICAgIGFjdGlvbjogInNldCIsCiAgICBjb25maWdEYXRhOiB2bS5zdWJtaXRDZmdEYXRhLAogIH07CiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gewogICAgc2hvd1JlcXVlc3RTdWNjZXNzKHZtKTsKICAgIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IGZhbHNlOwogIH0pOwp9CgpmdW5jdGlvbiBnZXREYXRhKHZtKSB7CiAgdm0uJGF4aW9zLmdldCgiYXBpL25ldHdvcmtBZHZhbmNlZC9pbmZvIikudGhlbigocmVzcG9uc2UpID0+IHsKICAgIHZtLmdldERhdGFTdWNjZXNzID0gdHJ1ZTsKICAgIHZtLmFwaURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgdm0uY2hhbmdlZENmZ0RhdGEgPSBkZWVwQ2xvbmUocmVzcG9uc2UuZGF0YS5jb25maWdEYXRhKTsKCiAgICB2bS5kZXZpY2VBZGRyZXNzSXRlbXMgPSBbXTsKICAgIHZhciBkZXZpY2VBZGRyZXNzID0gdm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5Eb29yU2V0dGluZy5ERVZJQ0VOT0RFLkFkZHJlc3MiXS5zcGxpdCgiLiIpOwogICAgZm9yKHZhciBpID0gMDsgaSA8IGRldmljZUFkZHJlc3MubGVuZ3RoOyBpKyspewogICAgICBsZXQgaXRlbSA9IHsia2V5IjogaSwgImxhYmVsIjogZGV2aWNlQWRkcmVzc1tpXSwgImlzV2FybiI6IGZhbHNlLCAid2FybkxhYmVsIjogIlZhbHVlIGNhbm5vdCBiZSBudWxsIn07CiAgICAgIHZtLmRldmljZUFkZHJlc3NJdGVtcy5wdXNoKGl0ZW0pOwogICAgfQogICAgCiAgICAvL3BvcnTnq6/lj6MKICAgIHZtLnVzZWRQb3J0SXRlbXMgPSBbXTsKICAgIGZvcih2YXIgaSA9IDA7IGkgPCB2bS5hcGlEYXRhLmRhdGEucnRwUG9ydHMubGVuZ3RoOyBpKyspewogICAgICBsZXQgaXRlbSA9IHsibWluIjogdm0uYXBpRGF0YS5kYXRhLnJ0cFBvcnRzW2ldLm1pbiwibWF4Ijogdm0uYXBpRGF0YS5kYXRhLnJ0cFBvcnRzW2ldLm1heH07CiAgICAgIHZtLnVzZWRQb3J0SXRlbXMucHVzaChpdGVtKTsKICAgIH0KCiAgICAvL2Nvbm5lY3RUeXBlCiAgICBpZih2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLkRvb3JTZXR0aW5nLkNPTk5FQ1QuU2VydmVyTW9kZSJdID09ICIxIil7CiAgICAgIHZtLmNvbm5lY3RUeXBlID0gIlNETUMiOwogICAgfSBlbHNlIGlmKHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuRG9vclNldHRpbmcuQ09OTkVDVC5TZXJ2ZXJNb2RlIl0gPT0gIjIiKXsKICAgICAgdm0uY29ubmVjdFR5cGUgPSAiQ2xvdWQiOwogICAgICB2bS5kZXZpY2VMb2NhdGlvbktleSA9ICJDb25maWcuQWNjb3VudDEuR0VORVJBTC5EaXNwbGF5TmFtZSI7CiAgICB9CiAgICB2bS5kZXZpY2VMb2NhdGlvblZhbHVlID0gdm0uY2hhbmdlZENmZ0RhdGFbdm0uZGV2aWNlTG9jYXRpb25LZXldOwogICAgCiAgICBjcmVhdGVQYWdlRGF0YSh2bSk7CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldENvbW1pdERhdGEodm0pewogIHZtLnN1Ym1pdENmZ0RhdGEgPSB7fTsKICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7CiAgICBpZih2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbY2hhbmdlZEtleV0gIT0gdm0uY2hhbmdlZENmZ0RhdGFbY2hhbmdlZEtleV0pewogICAgICB2bS5zdWJtaXRDZmdEYXRhW2NoYW5nZWRLZXldID0gdm0uY2hhbmdlZENmZ0RhdGFbY2hhbmdlZEtleV0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGNoZWNrQ29tbWl0RGF0YSh2bSl7CiAgbGV0IHN1Y2Nlc3MgPSB0cnVlOwogIC8vTWluUG9ydAogIGlmKCJ1bmRlZmluZWQiICE9IHR5cGVvZih2bS5zdWJtaXRDZmdEYXRhWyJDb25maWcuTmV0d29yay5SVFBQT1JULk1pbiJdKSl7CiAgICBsZXQgaXRlbSA9IGdldEl0ZW1CeUtleSgKICAgICAgdm0uZGF0YSwKICAgICAgImxvY2FsUlRQIiwKICAgICAgIkNvbmZpZy5OZXR3b3JrLlJUUFBPUlQuTWluIgogICAgKTsKICAgIGlmKCFpc1BvcnQodm0uc3VibWl0Q2ZnRGF0YVsiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NaW4iXSkpewogICAgICBpdGVtLmlzV2FybiA9IHRydWU7CiAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICAgIH0KICAgIGlmKCFjaGVja1JhbmdlT2ZOdW1iZXIodm0uc3VibWl0Q2ZnRGF0YVsiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NaW4iXSwxMDI0LDY1NTM1KSl7CiAgICAgIGl0ZW0uaXNXYXJuID0gdHJ1ZTsKICAgICAgc3VjY2VzcyA9IGZhbHNlOwogICAgfQogIH0KCiAgLy9NYXhQb3J0CiAgaWYoInVuZGVmaW5lZCIgIT0gdHlwZW9mKHZtLnN1Ym1pdENmZ0RhdGFbIkNvbmZpZy5OZXR3b3JrLlJUUFBPUlQuTWF4Il0pKXsKICAgIGxldCBpdGVtID0gZ2V0SXRlbUJ5S2V5KAogICAgICB2bS5kYXRhLAogICAgICAibG9jYWxSVFAiLAogICAgICAiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NaW4iCiAgICApOwogICAgaWYoIWlzUG9ydCh2bS5zdWJtaXRDZmdEYXRhWyJDb25maWcuTmV0d29yay5SVFBQT1JULk1heCJdKSl7CiAgICAgIGl0ZW0uaXNXYXJuID0gdHJ1ZTsKICAgICAgc3VjY2VzcyA9IGZhbHNlOwogICAgfQogICAgaWYoIWNoZWNrUmFuZ2VPZk51bWJlcih2bS5zdWJtaXRDZmdEYXRhWyJDb25maWcuTmV0d29yay5SVFBQT1JULk1heCJdLDEwMjQsNjU1MzUpKXsKICAgICAgaXRlbS5pc1dhcm4gPSB0cnVlOwogICAgICBzdWNjZXNzID0gZmFsc2U7CiAgICB9CiAgfQoKICB2YXIgcG9ydGludGVydmFsID0gNDsKICBsZXQgaXRlbTEgPSBnZXRJdGVtQnlLZXkoCiAgICB2bS5kYXRhLAogICAgImxvY2FsUlRQIiwKICAgICJDb25maWcuTmV0d29yay5SVFBQT1JULk1pbiIKICApOwogIGxldCBpdGVtMiA9IGdldEl0ZW1CeUtleSgKICAgIHZtLmRhdGEsCiAgICAibG9jYWxSVFAiLAogICAgIkNvbmZpZy5OZXR3b3JrLlJUUFBPUlQuTWF4IgogICk7CiAgaWYoaXNBbkludGVyZ2VyKHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuTmV0d29yay5SVFBQT1JULk1pbiJdKSAmJiBpc0FuSW50ZXJnZXIodm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5OZXR3b3JrLlJUUFBPUlQuTWF4Il0pKXsKICAgIGlmKE51bWJlcih2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NaW4iXSklMiAhPSAwIHx8IE51bWJlcih2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NYXgiXSklMiAhPSAwICl7CiAgICAgIHBvcnRpbnRlcnZhbCA9IDY7CiAgICB9CiAgICBpZihwb3J0aW50ZXJ2YWwgPiAoTnVtYmVyKHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuTmV0d29yay5SVFBQT1JULk1heCJdKS1OdW1iZXIodm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5OZXR3b3JrLlJUUFBPUlQuTWluIl0pKSl7CiAgICAgIGl0ZW0xLmlzV2FybiA9IHRydWU7CiAgICAgIGl0ZW0yLmlzV2FybiA9IHRydWU7CiAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgaWYoNiA9PSBwb3J0aW50ZXJ2YWwpewogICAgICAgIGl0ZW0xLndhcm5MYWJlbCA9IHZtLiR0KCJXYXJuaW5nSW52YWxpZEFuZHJvaWRSVFBTZXR0aW5nIisiNiEiKTsKICAgICAgICBpdGVtMi53YXJuTGFiZWwgPSB2bS4kdCgiV2FybmluZ0ludmFsaWRBbmRyb2lkUlRQU2V0dGluZyIrIjYhIik7CiAgICAgIH0gZWxzZXsKICAgICAgICBpdGVtMS53YXJuTGFiZWwgPSB2bS4kdCgiV2FybmluZ0ludmFsaWRBbmRyb2lkUlRQU2V0dGluZyIrIjQhIik7CiAgICAgICAgaXRlbTIud2FybkxhYmVsID0gdm0uJHQoIldhcm5pbmdJbnZhbGlkQW5kcm9pZFJUUFNldHRpbmciKyI0ISIpOwogICAgICB9CiAgICB9CiAgfQoKICBpZigidW5kZWZpbmVkIiAhPSB0eXBlb2Yodm0uc3VibWl0Q2ZnRGF0YVsiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NaW4iXSkgfHwgInVuZGVmaW5lZCIgIT0gdHlwZW9mKHZtLnN1Ym1pdENmZ0RhdGFbIkNvbmZpZy5OZXR3b3JrLlJUUFBPUlQuTWF4Il0pKXsKICAgIGlmKHRydWUgPT0gaXNQb3J0VXNlZCh2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NaW4iXSx2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NYXgiXSx2bS51c2VkUG9ydEl0ZW1zKSl7CiAgICAgIGl0ZW0xLmlzV2FybiA9IHRydWU7CiAgICAgIGl0ZW0yLmlzV2FybiA9IHRydWU7CiAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgaXRlbTEud2FybkxhYmVsID0gdm0uJHQoIldhcm5pbmdQb3J0VXNlZEFscmVhZHkiKTsKICAgICAgaXRlbTIud2FybkxhYmVsID0gdm0uJHQoIldhcm5pbmdQb3J0VXNlZEFscmVhZHkiKTsKICAgIH0KICB9CgogIC8vZGV2aWNlIGFkZHJlc3MKICBpZih2bS5kZXZpY2VBZGRyZXNzSXRlbXNbM10ubGFiZWwgPT0gIiIgJiYgdm0uZGV2aWNlQWRkcmVzc0l0ZW1zWzRdLmxhYmVsICE9ICIiKXsKICAgIHZtLmRldmljZUFkZHJlc3NJdGVtc1szXS5pc1dhcm4gPSB0cnVlOwogICAgc3VjY2VzcyA9IGZhbHNlOwogIH0gZWxzZSBpZih2bS5kZXZpY2VBZGRyZXNzSXRlbXNbMl0ubGFiZWwgPT0gIiIgJiYgKHZtLmRldmljZUFkZHJlc3NJdGVtc1szXS5sYWJlbCAhPSAiIiB8fCB2bS5kZXZpY2VBZGRyZXNzSXRlbXNbNF0ubGFiZWwgIT0gIiIpKXsKICAgIHZtLmRldmljZUFkZHJlc3NJdGVtc1syXS5pc1dhcm4gPSB0cnVlOwogICAgc3VjY2VzcyA9IGZhbHNlOwogIH0gZWxzZSBpZih2bS5kZXZpY2VBZGRyZXNzSXRlbXNbMV0ubGFiZWwgPT0gIiIgJiYgKHZtLmRldmljZUFkZHJlc3NJdGVtc1syXS5sYWJlbCAhPSAiIiB8fCB2bS5kZXZpY2VBZGRyZXNzSXRlbXNbM10ubGFiZWwgIT0gIiIgfHwgdm0uZGV2aWNlQWRkcmVzc0l0ZW1zWzRdLmxhYmVsICE9ICIiKSl7CiAgICB2bS5kZXZpY2VBZGRyZXNzSXRlbXNbMV0uaXNXYXJuID0gdHJ1ZTsKICAgIHN1Y2Nlc3MgPSBmYWxzZTsKICB9IGVsc2UgaWYodm0uZGV2aWNlQWRkcmVzc0l0ZW1zWzBdLmxhYmVsID09ICIiKXsKICAgIHZtLmRldmljZUFkZHJlc3NJdGVtc1swXS5pc1dhcm4gPSB0cnVlOwogICAgc3VjY2VzcyA9IGZhbHNlOwogIH0KCiAgdmFyIHJlZz0iXihbMC05QS1IXStbLl0/KXswLDR9KFswLTlBLUhdKykkIjsKICBpZih2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLkRvb3JTZXR0aW5nLkRFVklDRU5PREUuQWRkcmVzcyJdLm1hdGNoKHJlZykgPT0gbnVsbCl7CgkJYWxlcnQodm0uJHQoIkRldmljZUFkZHJlc3NXYXJuaW5nIikpOwoJCXN1Y2Nlc3MgPSBmYWxzZTsKCX0KCiAgcmV0dXJuIHN1Y2Nlc3M7Cn0KCmZ1bmN0aW9uIGNyZWF0ZVBhZ2VEYXRhKHZtKSB7CiAgdm0uZGF0YSA9IHsKICAgIGdldERhdGFTdWNjZXNzOiB0cnVlLAogICAgYnJlYWRDcnVtYjogewogICAgICBmaXJzdFRpdGxlOiB2bS4kdCgiTmV0d29yayIpLAogICAgICBzZWNvbmRUaXRsZTogdm0uJHQoIkFkdmFuY2VkIiksCiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgZ2V0Q29tbWl0RGF0YSh2bSk7CiAgICAgIGlmICghY2hlY2tDb21taXREYXRhKHZtKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBzdWJtaXREYXRhKHZtKTsKICAgIH0sCiAgICBvbkNhbmNlbDogZnVuY3Rpb24gKCkgewogICAgICB2bS5kYXRhLmNhbmNlbExvYWRpbmcgPSB0cnVlOwogICAgICBnZXREYXRhKHZtKTsKICAgIH0sCiAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwKICAgIGNhbmNlbExvYWRpbmc6IGZhbHNlLAogICAgY29udGVudHM6IFtdLAogIH07CiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZUxvY2FsUlRQQ29udGVudCh2bSkpOwogIHZtLmRhdGEuY29udGVudHMucHVzaChjcmVhdGVDb25uZWN0U2V0dGluZ0NvbnRlbnQodm0pKTsKfQoKZnVuY3Rpb24gY3JlYXRlTG9jYWxSVFBDb250ZW50KHZtKSB7CiAgbGV0IGNvbnRlbnQgPSB7CiAgICBrZXk6ICJsb2NhbFJUUCIsCiAgICB0aXRsZTogdm0uJHQoIkxvY2FsUlRQIiksCiAgICB0aXRsZURlc2NyaXB0aW9uOiB2bS4kdCgiTG9jYWxSVFAiKSwKICAgIGl0ZW1zOiBbCiAgICAgIHsKICAgICAgICB0aXRsZTogdm0uJHQoIlJUUFBvcnQiKSwKICAgICAgICB0eXBlOiAiaW5wdXQiLAogICAgICAgIHNob3dIaW50OnRydWUsCiAgICAgICAgaGludENvbnRlbnQ6dm0uJHQoIigxMDI0fjY1NTM1U2VjKSIpLAogICAgICAgIGlzV2FybjogZmFsc2UsCiAgICAgICAgd2FybkxhYmVsOiB2bS4kdCgiaXAgaXMgZXJyb3IiKSwKICAgICAgICBrZXk6ICJDb25maWcuTmV0d29yay5SVFBQT1JULk1pbiIsCiAgICAgICAgdmFsdWU6IHZtLmFwaURhdGEuY29uZmlnRGF0YVsiQ29uZmlnLk5ldHdvcmsuUlRQUE9SVC5NaW4iXSwKICAgICAgfSwKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiTWF4UlRQUG9ydCIpLAogICAgICAgIHR5cGU6ICJpbnB1dCIsCiAgICAgICAgc2hvd0hpbnQ6dHJ1ZSwKICAgICAgICBoaW50Q29udGVudDp2bS4kdCgiKDEwMjR+NjU1MzVTZWMpIiksCiAgICAgICAgaXNXYXJuOiBmYWxzZSwKICAgICAgICB3YXJuTGFiZWw6IHZtLiR0KCJpcCBpcyBlcnJvciIpLAogICAgICAgIGtleTogIkNvbmZpZy5OZXR3b3JrLlJUUFBPUlQuTWF4IiwKICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuTmV0d29yay5SVFBQT1JULk1heCJdLAogICAgICB9LAogICAgXSwKICB9OwogIHJldHVybiBjb250ZW50Owp9CgpmdW5jdGlvbiBjcmVhdGVDb25uZWN0U2V0dGluZ0NvbnRlbnQodm0pIHsKICBsZXQgY29udGVudCA9IHsKICAgIGtleTogImNvbm5lY3RTZXR0aW5nIiwKICAgIHRpdGxlOiB2bS4kdCgiQ29ubmVjdFNldHRpbmciKSwKICAgIHRpdGxlRGVzY3JpcHRpb246IHZtLiR0KCJDb25uZWN0U2V0dGluZyIpLAogICAgaXRlbXM6IFsKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiQ29ubmVjdFR5cGUiKSwKICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgIGtleTogImNvbm5lY3RUeXBlIiwKICAgICAgICB2YWx1ZTogdm0uY29ubmVjdFR5cGUsCiAgICAgIH0sCiAgICAgIHsKICAgICAgICB0aXRsZTogdm0uJHQoIkRpc2NvdmVyeU1vZGUiKSwKICAgICAgICB0eXBlOiAiY2hlY2tib3giLAogICAgICAgIGtleTogIkNvbmZpZy5Eb29yU2V0dGluZy5DT05ORUNULkRpc2NvdmVyeU1vZGUiLAogICAgICAgIHZhbHVlOiB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5Eb29yU2V0dGluZy5DT05ORUNULkRpc2NvdmVyeU1vZGUiXSwKICAgICAgfSwKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiRGV2aWNlQWRkcmVzcyIpLAogICAgICAgIHR5cGU6ICJtdWx0aXBsZUlucHV0IiwKICAgICAgICB2YWx1ZTogdm0uZGV2aWNlQWRkcmVzc0l0ZW1zLAogICAgICAgIGlzV2FybjogZmFsc2UsCiAgICAgICAgd2FybkxhYmVsOiB2bS4kdCgiaXAgaXMgZXJyb3IiKSwKICAgICAgICBrZXk6ICJDb25maWcuRG9vclNldHRpbmcuREVWSUNFTk9ERS5BZGRyZXNzIiwKICAgICAgfSwKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiRGV2aWNlRXh0ZW5zaW9uIiksCiAgICAgICAgdHlwZTogImlucHV0IiwKICAgICAgICBpc1dhcm46IGZhbHNlLAogICAgICAgIHdhcm5MYWJlbDogdm0uJHQoImlwIGlzIGVycm9yIiksCiAgICAgICAga2V5OiAiQ29uZmlnLkRvb3JTZXR0aW5nLkRFVklDRU5PREUuRXh0ZW5zaW9uIiwKICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuRG9vclNldHRpbmcuREVWSUNFTk9ERS5FeHRlbnNpb24iXSwKICAgICAgfSwKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiRGV2aWNlTG9jYXRpb24iKSwKICAgICAgICB0eXBlOiAiaW5wdXQiLAogICAgICAgIGlzV2FybjogZmFsc2UsCiAgICAgICAgd2FybkxhYmVsOiB2bS4kdCgiaXAgaXMgZXJyb3IiKSwKICAgICAgICBrZXk6IHZtLmRldmljZUxvY2F0aW9uS2V5LAogICAgICAgIHZhbHVlOiB2bS5kZXZpY2VMb2NhdGlvblZhbHVlLAogICAgICB9LAogICAgXSwKICB9OwogIHJldHVybiBjb250ZW50Owp9Cgo="},{"version":3,"sources":["NetworkAdvanced.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NetworkAdvanced.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\n</template>\n\n<script>\nimport CommonPage from \"@/components/CommonPage.vue\";\nimport {\n  showRequestSuccess,\n  getIndexByKey,\n  getItemByKey,\n  deepClone,\n  isPort,\n  checkRangeOfNumber,\n  isAnInterger,\n  isPortUsed\n} from \"@/js/common.js\";\n\nexport default {\n  components: {\n    CommonPage,\n  },\n  data(){\n    return{\n      changedCfgData:{},\n      submitCfgData:{},\n      apiData: {},\n      data: {\n        getDataSuccess: false,\n      },\n      deviceAddressItems:[],\n      usedPortItems:[],\n      connectType: \"None\",\n      deviceLocationKey: \"Config.DoorSetting.DEVICENODE.Location\",\n      deviceLocationValue: \"\",\n    }\n  },\n  created() {\n    getData(this);\n  },\n  methods: {\n    onCommonPageDataChange: function (event) {\n      if(event.itemKey == \"Config.DoorSetting.DEVICENODE.Address\"){\n        this.deviceAddressItems = event.newVal;\n        var deviceAddressValue = \"\";\n        for(var i = 0; i < this.deviceAddressItems.length; i++){\n          deviceAddressValue = deviceAddressValue + this.deviceAddressItems[i].label + \".\";\n        }\n        this.changedCfgData[event.itemKey] = deviceAddressValue.substring(0,(deviceAddressValue.length-1));\n      } else if(event.itemKey == this.deviceLocationKey){\n        this.deviceLocationValue = event.newVal;\n        this.changedCfgData[event.itemKey] = event.newVal;\n      }else{\n        this.changedCfgData[event.itemKey] = event.newVal;\n      }\n    },\n  },\n};\n\nfunction submitData(vm) {\n  vm.data.submitLoading = true;\n\n  let requestData = {\n    target: \"networkAdvanced\",\n    action: \"set\",\n    configData: vm.submitCfgData,\n  };\n  vm.$axios.post(\"api\", requestData).then((response) => {\n    showRequestSuccess(vm);\n    vm.data.submitLoading = false;\n  });\n}\n\nfunction getData(vm) {\n  vm.$axios.get(\"api/networkAdvanced/info\").then((response) => {\n    vm.getDataSuccess = true;\n    vm.apiData = response.data;\n    vm.changedCfgData = deepClone(response.data.configData);\n\n    vm.deviceAddressItems = [];\n    var deviceAddress = vm.changedCfgData[\"Config.DoorSetting.DEVICENODE.Address\"].split(\".\");\n    for(var i = 0; i < deviceAddress.length; i++){\n      let item = {\"key\": i, \"label\": deviceAddress[i], \"isWarn\": false, \"warnLabel\": \"Value cannot be null\"};\n      vm.deviceAddressItems.push(item);\n    }\n    \n    //port端口\n    vm.usedPortItems = [];\n    for(var i = 0; i < vm.apiData.data.rtpPorts.length; i++){\n      let item = {\"min\": vm.apiData.data.rtpPorts[i].min,\"max\": vm.apiData.data.rtpPorts[i].max};\n      vm.usedPortItems.push(item);\n    }\n\n    //connectType\n    if(vm.changedCfgData[\"Config.DoorSetting.CONNECT.ServerMode\"] == \"1\"){\n      vm.connectType = \"SDMC\";\n    } else if(vm.changedCfgData[\"Config.DoorSetting.CONNECT.ServerMode\"] == \"2\"){\n      vm.connectType = \"Cloud\";\n      vm.deviceLocationKey = \"Config.Account1.GENERAL.DisplayName\";\n    }\n    vm.deviceLocationValue = vm.changedCfgData[vm.deviceLocationKey];\n    \n    createPageData(vm);\n  });\n}\n\nfunction getCommitData(vm){\n  vm.submitCfgData = {};\n  for (var changedKey in vm.changedCfgData) {\n    if(vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]){\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey]\n    }\n  }\n}\n\nfunction checkCommitData(vm){\n  let success = true;\n  //MinPort\n  if(\"undefined\" != typeof(vm.submitCfgData[\"Config.Network.RTPPORT.Min\"])){\n    let item = getItemByKey(\n      vm.data,\n      \"localRTP\",\n      \"Config.Network.RTPPORT.Min\"\n    );\n    if(!isPort(vm.submitCfgData[\"Config.Network.RTPPORT.Min\"])){\n      item.isWarn = true;\n      success = false;\n    }\n    if(!checkRangeOfNumber(vm.submitCfgData[\"Config.Network.RTPPORT.Min\"],1024,65535)){\n      item.isWarn = true;\n      success = false;\n    }\n  }\n\n  //MaxPort\n  if(\"undefined\" != typeof(vm.submitCfgData[\"Config.Network.RTPPORT.Max\"])){\n    let item = getItemByKey(\n      vm.data,\n      \"localRTP\",\n      \"Config.Network.RTPPORT.Min\"\n    );\n    if(!isPort(vm.submitCfgData[\"Config.Network.RTPPORT.Max\"])){\n      item.isWarn = true;\n      success = false;\n    }\n    if(!checkRangeOfNumber(vm.submitCfgData[\"Config.Network.RTPPORT.Max\"],1024,65535)){\n      item.isWarn = true;\n      success = false;\n    }\n  }\n\n  var portinterval = 4;\n  let item1 = getItemByKey(\n    vm.data,\n    \"localRTP\",\n    \"Config.Network.RTPPORT.Min\"\n  );\n  let item2 = getItemByKey(\n    vm.data,\n    \"localRTP\",\n    \"Config.Network.RTPPORT.Max\"\n  );\n  if(isAnInterger(vm.changedCfgData[\"Config.Network.RTPPORT.Min\"]) && isAnInterger(vm.changedCfgData[\"Config.Network.RTPPORT.Max\"])){\n    if(Number(vm.changedCfgData[\"Config.Network.RTPPORT.Min\"])%2 != 0 || Number(vm.changedCfgData[\"Config.Network.RTPPORT.Max\"])%2 != 0 ){\n      portinterval = 6;\n    }\n    if(portinterval > (Number(vm.changedCfgData[\"Config.Network.RTPPORT.Max\"])-Number(vm.changedCfgData[\"Config.Network.RTPPORT.Min\"]))){\n      item1.isWarn = true;\n      item2.isWarn = true;\n      success = false;\n      if(6 == portinterval){\n        item1.warnLabel = vm.$t(\"WarningInvalidAndroidRTPSetting\"+\"6!\");\n        item2.warnLabel = vm.$t(\"WarningInvalidAndroidRTPSetting\"+\"6!\");\n      } else{\n        item1.warnLabel = vm.$t(\"WarningInvalidAndroidRTPSetting\"+\"4!\");\n        item2.warnLabel = vm.$t(\"WarningInvalidAndroidRTPSetting\"+\"4!\");\n      }\n    }\n  }\n\n  if(\"undefined\" != typeof(vm.submitCfgData[\"Config.Network.RTPPORT.Min\"]) || \"undefined\" != typeof(vm.submitCfgData[\"Config.Network.RTPPORT.Max\"])){\n    if(true == isPortUsed(vm.changedCfgData[\"Config.Network.RTPPORT.Min\"],vm.changedCfgData[\"Config.Network.RTPPORT.Max\"],vm.usedPortItems)){\n      item1.isWarn = true;\n      item2.isWarn = true;\n      success = false;\n      item1.warnLabel = vm.$t(\"WarningPortUsedAlready\");\n      item2.warnLabel = vm.$t(\"WarningPortUsedAlready\");\n    }\n  }\n\n  //device address\n  if(vm.deviceAddressItems[3].label == \"\" && vm.deviceAddressItems[4].label != \"\"){\n    vm.deviceAddressItems[3].isWarn = true;\n    success = false;\n  } else if(vm.deviceAddressItems[2].label == \"\" && (vm.deviceAddressItems[3].label != \"\" || vm.deviceAddressItems[4].label != \"\")){\n    vm.deviceAddressItems[2].isWarn = true;\n    success = false;\n  } else if(vm.deviceAddressItems[1].label == \"\" && (vm.deviceAddressItems[2].label != \"\" || vm.deviceAddressItems[3].label != \"\" || vm.deviceAddressItems[4].label != \"\")){\n    vm.deviceAddressItems[1].isWarn = true;\n    success = false;\n  } else if(vm.deviceAddressItems[0].label == \"\"){\n    vm.deviceAddressItems[0].isWarn = true;\n    success = false;\n  }\n\n  var reg=\"^([0-9A-H]+[.]?){0,4}([0-9A-H]+)$\";\n  if(vm.changedCfgData[\"Config.DoorSetting.DEVICENODE.Address\"].match(reg) == null){\n\t\talert(vm.$t(\"DeviceAddressWarning\"));\n\t\tsuccess = false;\n\t}\n\n  return success;\n}\n\nfunction createPageData(vm) {\n  vm.data = {\n    getDataSuccess: true,\n    breadCrumb: {\n      firstTitle: vm.$t(\"Network\"),\n      secondTitle: vm.$t(\"Advanced\"),\n    },\n    onSubmit: function () {\n      getCommitData(vm);\n      if (!checkCommitData(vm)) {\n        return;\n      }\n      submitData(vm);\n    },\n    onCancel: function () {\n      vm.data.cancelLoading = true;\n      getData(vm);\n    },\n    submitLoading: false,\n    cancelLoading: false,\n    contents: [],\n  };\n  vm.data.contents.push(createLocalRTPContent(vm));\n  vm.data.contents.push(createConnectSettingContent(vm));\n}\n\nfunction createLocalRTPContent(vm) {\n  let content = {\n    key: \"localRTP\",\n    title: vm.$t(\"LocalRTP\"),\n    titleDescription: vm.$t(\"LocalRTP\"),\n    items: [\n      {\n        title: vm.$t(\"RTPPort\"),\n        type: \"input\",\n        showHint:true,\n        hintContent:vm.$t(\"(1024~65535Sec)\"),\n        isWarn: false,\n        warnLabel: vm.$t(\"ip is error\"),\n        key: \"Config.Network.RTPPORT.Min\",\n        value: vm.apiData.configData[\"Config.Network.RTPPORT.Min\"],\n      },\n      {\n        title: vm.$t(\"MaxRTPPort\"),\n        type: \"input\",\n        showHint:true,\n        hintContent:vm.$t(\"(1024~65535Sec)\"),\n        isWarn: false,\n        warnLabel: vm.$t(\"ip is error\"),\n        key: \"Config.Network.RTPPORT.Max\",\n        value: vm.apiData.configData[\"Config.Network.RTPPORT.Max\"],\n      },\n    ],\n  };\n  return content;\n}\n\nfunction createConnectSettingContent(vm) {\n  let content = {\n    key: \"connectSetting\",\n    title: vm.$t(\"ConnectSetting\"),\n    titleDescription: vm.$t(\"ConnectSetting\"),\n    items: [\n      {\n        title: vm.$t(\"ConnectType\"),\n        type: \"label\",\n        key: \"connectType\",\n        value: vm.connectType,\n      },\n      {\n        title: vm.$t(\"DiscoveryMode\"),\n        type: \"checkbox\",\n        key: \"Config.DoorSetting.CONNECT.DiscoveryMode\",\n        value: vm.apiData.configData[\"Config.DoorSetting.CONNECT.DiscoveryMode\"],\n      },\n      {\n        title: vm.$t(\"DeviceAddress\"),\n        type: \"multipleInput\",\n        value: vm.deviceAddressItems,\n        isWarn: false,\n        warnLabel: vm.$t(\"ip is error\"),\n        key: \"Config.DoorSetting.DEVICENODE.Address\",\n      },\n      {\n        title: vm.$t(\"DeviceExtension\"),\n        type: \"input\",\n        isWarn: false,\n        warnLabel: vm.$t(\"ip is error\"),\n        key: \"Config.DoorSetting.DEVICENODE.Extension\",\n        value: vm.apiData.configData[\"Config.DoorSetting.DEVICENODE.Extension\"],\n      },\n      {\n        title: vm.$t(\"DeviceLocation\"),\n        type: \"input\",\n        isWarn: false,\n        warnLabel: vm.$t(\"ip is error\"),\n        key: vm.deviceLocationKey,\n        value: vm.deviceLocationValue,\n      },\n    ],\n  };\n  return content;\n}\n\n</script>"]}]}