{"remainingRequest":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\ContactsCallLog.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\ContactsCallLog.vue","mtime":1624613275293},{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624613261239},{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\babel-loader\\lib\\index.js","mtime":1624613260275},{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624613261239},{"path":"G:\\LocalCode\\advance_indoor\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js","mtime":1624613274496}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgQ29tbW9uUGFnZSBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uUGFnZS52dWUiOw0KaW1wb3J0IHsNCiAgc2hvd1JlcXVlc3RTdWNjZXNzLA0KICBkZWVwQ2xvbmUsDQogIGlzQW5JbnRlcmdlciwNCiAgZ2V0SXRlbUJ5S2V5LA0KICBkYXRlRnR0LA0KICBmb3JtYXRBTVBNLA0KICBvbldlYkhhbmd1cCwNCiAgb25XZWJEaWFsLA0KfSBmcm9tICJAL2pzL2NvbW1vbi5qcyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgY29tcG9uZW50czogew0KICAgIENvbW1vblBhZ2UsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNoYW5nZWRDZmdEYXRhOiB7fSwNCiAgICAgIHN1Ym1pdENmZ0RhdGE6IHt9LA0KICAgICAgYXBpRGF0YToge30sDQogICAgICBkYXRhOiB7DQogICAgICAgIGdldERhdGFTdWNjZXNzOiBmYWxzZSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBnZXREYXRhKHRoaXMpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb25Db21tb25QYWdlRGF0YUNoYW5nZTogZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICBzZXRDaGFuZ2VkRGF0YSh0aGlzLCBldmVudCk7DQogICAgICAvL3RoaXMuY2hhbmdlZENmZ0RhdGFbZXZlbnQuaXRlbUtleV0gPSBldmVudC5uZXdWYWw7DQogICAgfSwNCiAgfSwNCn07DQoNCmZ1bmN0aW9uIHNldENoYW5nZWREYXRhKHZtLCBldmVudCkgew0KICBpZiAoZXZlbnQuY29udGVudEtleSA9PSAiY2FsbGxvZyIpIHsNCiAgICBpZiAoZXZlbnQuaXRlbUtleSA9PSAiY2FsbEhpc3RvcnlUeXBlIikgew0KICAgICAgZ2V0Q2FsbExvZ3NUYWJsZURhdGEodm0sIDEpOw0KICAgIH0gZWxzZSB7DQogICAgICB2bS5jaGFuZ2VkQ2ZnRGF0YVtldmVudC5pdGVtS2V5XSA9IGV2ZW50Lm5ld1ZhbDsNCiAgICB9DQogIH0NCn0NCg0KZnVuY3Rpb24gc3VibWl0RGF0YSh2bSkgew0KICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSB0cnVlOw0KDQogIGxldCByZXF1ZXN0RGF0YSA9IHsNCiAgICB0YXJnZXQ6ICJwaG9uZUNhbGxMb2ciLA0KICAgIGFjdGlvbjogInNldCIsDQogICAgY29uZmlnRGF0YTogdm0uc3VibWl0Q2ZnRGF0YSwNCiAgfTsNCiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgcmVzcG9uc2UpIHsNCiAgICAgIHNob3dSZXF1ZXN0U3VjY2Vzcyh2bSk7DQogICAgfQ0KICAgIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICB9KTsNCn0NCg0KZnVuY3Rpb24gZ2V0RGF0YSh2bSkgew0KICB2bS4kYXhpb3MuZ2V0KCJhcGkvcGhvbmVDYWxsTG9nL2luZm8iKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIHZtLmdldERhdGFTdWNjZXNzID0gdHJ1ZTsNCiAgICB2bS5hcGlEYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICB2bS5jaGFuZ2VkQ2ZnRGF0YSA9IGRlZXBDbG9uZShyZXNwb25zZS5kYXRhLmNvbmZpZ0RhdGEpOw0KICAgIGNyZWF0ZVBhZ2VEYXRhKHZtKTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIGdldENvbW1pdERhdGEodm0pIHsNCiAgdm0uc3VibWl0Q2ZnRGF0YSA9IHt9Ow0KICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7DQogICAgaWYgKHZtLmFwaURhdGEuY29uZmlnRGF0YVtjaGFuZ2VkS2V5XSAhPSB2bS5jaGFuZ2VkQ2ZnRGF0YVtjaGFuZ2VkS2V5XSkgew0KICAgICAgdm0uc3VibWl0Q2ZnRGF0YVtjaGFuZ2VkS2V5XSA9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldOw0KICAgIH0NCiAgfQ0KfQ0KDQpmdW5jdGlvbiBjaGVja0NvbW1pdERhdGEodm0pIHsNCiAgcmV0dXJuIGNoZWNrQ2FsbExvZyh2bSk7DQp9DQpmdW5jdGlvbiBjaGVja0NhbGxMb2codm0pIHsNCiAgbGV0IHN1Y2Nlc3MgPSB0cnVlOw0KICBsZXQgdXBwZXJMaW1pdCA9IGdldEl0ZW1CeUtleSgNCiAgICB2bS5kYXRhLA0KICAgICJjYWxsbG9nIiwNCiAgICAiQ29uZmlnLlNldHRpbmdzLkNhcHR1cmUuVXBwZXJMaW1pdCINCiAgKTsNCiAgaWYgKHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5VcHBlckxpbWl0Il0gPT0gIiIpIHsNCiAgICB1cHBlckxpbWl0LmlzV2FybiA9IHRydWU7DQogICAgdXBwZXJMaW1pdC53YXJuTGFiZWwgPSB2bS4kdCgiVXBwZXJMaW1pdFdhcm5pbmciKTsNCiAgICBzdWNjZXNzID0gZmFsc2U7DQogIH0NCiAgaWYgKCFpc0FuSW50ZXJnZXIodm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5DYXB0dXJlLlVwcGVyTGltaXQiXSkpIHsNCiAgICB1cHBlckxpbWl0LmlzV2FybiA9IHRydWU7DQogICAgdXBwZXJMaW1pdC53YXJuTGFiZWwgPSB2bS4kdCgiVmFsdWVNdXN0QmVOdW1iZXIiKTsNCiAgICBzdWNjZXNzID0gZmFsc2U7DQogIH0gZWxzZSB7DQogICAgaWYgKHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5VcHBlckxpbWl0Il0gPD0gMCkgew0KICAgICAgdXBwZXJMaW1pdC5pc1dhcm4gPSB0cnVlOw0KICAgICAgdXBwZXJMaW1pdC53YXJuTGFiZWwgPSB2bS4kdCgiVmFsdWVHcmVhdGVyMEluZm8iKTsNCiAgICAgIHN1Y2Nlc3MgPSBmYWxzZTsNCiAgICB9DQogIH0NCiAgcmV0dXJuIHN1Y2Nlc3M7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZVBhZ2VEYXRhKHZtKSB7DQogIHZtLmRhdGEgPSB7DQogICAgZ2V0RGF0YVN1Y2Nlc3M6IHRydWUsDQogICAgYnJlYWRDcnVtYjogew0KICAgICAgZmlyc3RUaXRsZTogdm0uJHQoIkNvbnRhY3RzIiksDQogICAgICBzZWNvbmRUaXRsZTogdm0uJHQoIkNhbGxMb2ciKSwNCiAgICB9LA0KICAgIG9uU3VibWl0OiBmdW5jdGlvbiAoKSB7DQogICAgICBpZiAoIWNoZWNrQ29tbWl0RGF0YSh2bSkpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgZ2V0Q29tbWl0RGF0YSh2bSk7DQogICAgICBzdWJtaXREYXRhKHZtKTsNCiAgICB9LA0KICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoKSB7DQogICAgICB2bS5kYXRhLmNhbmNlbExvYWRpbmcgPSB0cnVlOw0KICAgICAgZ2V0RGF0YSh2bSk7DQogICAgfSwNCiAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwNCiAgICBjYW5jZWxMb2FkaW5nOiBmYWxzZSwNCiAgICBjb250ZW50czogW10sDQogIH07DQogIHZtLmRhdGEuY29udGVudHMucHVzaChjcmVhdGVDYWxsTG9nQ29udGVudCh2bSkpOw0KICBnZXRDYWxsTG9nc1RhYmxlRGF0YSh2bSwgMSk7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZUNhbGxMb2dDb250ZW50KHZtKSB7DQogIC8vY2FsbCBsb2cgdHlwZSBpdGVtcw0KICBsZXQgY2FsbExvZ1R5cGVJdGVtcyA9IFsNCiAgICB7IGtleTogMCwgbGFiZWw6IHZtLiR0KCJBbGwiKSB9LA0KICAgIHsga2V5OiAxLCBsYWJlbDogdm0uJHQoIkRpYWxlZCIpIH0sDQogICAgeyBrZXk6IDIsIGxhYmVsOiB2bS4kdCgiUmVjZWl2ZWQiKSB9LA0KICAgIHsga2V5OiAzLCBsYWJlbDogdm0uJHQoIk1pc3NlZCIpIH0sDQogICAgeyBrZXk6IDQsIGxhYmVsOiB2bS4kdCgiRm9yd2FyZGVkIikgfSwNCiAgXTsNCiAgLy9jYXB0dXJlIGRlbGF5IGl0ZW1zDQogIGxldCBjYXB0dXJlRGVsYXlJdGVtcyA9IFtdOw0KICBmb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSsrKSB7DQogICAgY2FwdHVyZURlbGF5SXRlbXMucHVzaCh7IGtleTogaSwgbGFiZWw6IGkgfSk7DQogIH0NCiAgLy90YWJsZSBmb290ZXINCiAgbGV0IHRhYmxlRm9vdGVyRGF0YSA9IHsNCiAgICBvbkRlbGV0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgb25EZWxldGVMb2codm0sICJzZWxlY3QiKTsNCiAgICB9LA0KICAgIG9uRGVsZXRlQWxsOiBmdW5jdGlvbiAoKSB7DQogICAgICBvbkRlbGV0ZUxvZyh2bSwgImFsbCIpOw0KICAgIH0sDQogICAgb25QYWdlQ2hhbmdlOiBmdW5jdGlvbiAocGFnZSkgew0KICAgICAgZ2V0Q2FsbExvZ3NUYWJsZURhdGEodm0sIHBhZ2UpOw0KICAgIH0sDQogICAgc3VtOiAwLA0KICAgIHBhZ2VOdW1iZXI6IDE1LA0KICAgIGN1clBhZ2U6IDAsDQogICAgZGVsZXRlRGlzYWJsZWQ6IHRydWUsDQogICAgZGVsZXRlQWxsRGlzYWJsZWQ6IGZhbHNlLA0KICB9Ow0KICAvL2NvbnRlbnQNCiAgbGV0IGNvbnRlbnQgPSB7DQogICAga2V5OiAiY2FsbGxvZyIsDQogICAgdGl0bGU6IHZtLiR0KCJDYWxsTG9nIiksDQogICAgdGl0bGVEZXNjcmlwdGlvbjogdm0uJHQoIkNhbGxMb2dEZXNjIiksDQogICAgaXRlbXM6IFsNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJDYXB0dXJlRGVsYXkiKSArICIgKCIgKyB2bS4kdCgiU2Vjb25kIikgKyAiKSIsDQogICAgICAgIHR5cGU6ICJzZWxlY3QiLA0KICAgICAgICBrZXk6ICJDb25maWcuU2V0dGluZ3MuQ2FwdHVyZS5EZWxheSIsDQogICAgICAgIHZhbHVlOiB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5DYXB0dXJlLkRlbGF5Il0sDQogICAgICAgIHNlbGVjdEl0ZW1zOiBjYXB0dXJlRGVsYXlJdGVtcywNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJDYXB0dXJlRGVsYXlEZXNjIiksDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB0aXRsZTogdm0uJHQoIlVwcGVyTGltaXQiKSwNCiAgICAgICAgdHlwZTogImlucHV0IiwNCiAgICAgICAga2V5OiAiQ29uZmlnLlNldHRpbmdzLkNhcHR1cmUuVXBwZXJMaW1pdCIsDQogICAgICAgIHZhbHVlOiB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5DYXB0dXJlLlVwcGVyTGltaXQiXSwNCiAgICAgICAgaXNXYXJuOiBmYWxzZSwNCiAgICAgICAgd2FybkxhYmVsOiB2bS4kdCgiVXBwZXJMaW1pdFdhcm5pbmciKSwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJVcHBlckxpbWl0RGVzYyIpLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJDYWxsSGlzdG9yeSIpLA0KICAgICAgICB0eXBlOiAic2VsZWN0IiwNCiAgICAgICAgc2hvd0NhbGxMb2dCdG46IHRydWUsDQogICAgICAgIGtleTogImNhbGxIaXN0b3J5VHlwZSIsDQogICAgICAgIHZhbHVlOiAiMCIsDQogICAgICAgIHNlbGVjdEl0ZW1zOiBjYWxsTG9nVHlwZUl0ZW1zLA0KICAgICAgICBvbkhhbmd1cDogZnVuY3Rpb24gKCkgew0KICAgICAgICAgIG9uV2ViSGFuZ3VwKHZtKTsNCiAgICAgICAgfSwNCiAgICAgICAgb25FeHBvcnQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICBvbkV4cG9ydCh2bSk7DQogICAgICAgIH0sDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiQ2FsbEhpc3RvcnlEZXNjIiksDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB0eXBlOiAidGFibGUiLA0KICAgICAgICBrZXk6ICJjYWxsbG9nIiwNCiAgICAgICAgc2hvd0Zvb3RlcjogdHJ1ZSwNCiAgICAgICAgc2hvd1Jvd1NlbGVjdGlvbjogdHJ1ZSwNCiAgICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBbXSwNCiAgICAgICAgdGFibGVGb290ZXJEYXRhOiB0YWJsZUZvb3RlckRhdGEsDQogICAgICAgIHRhYmxlRGF0YTogW10sDQogICAgICAgIG9uQ2xpY2tEaWFsOiBmdW5jdGlvbihpbmRleCl7DQogICAgICAgICAgb25EaWFsKHZtLGluZGV4KTsNCiAgICAgICAgfSwNCiAgICAgICAgdGFibGVDb2x1bW5zOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogImxhYmVsIiwNCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiSW5kZXgiKSwNCiAgICAgICAgICAgIGRhdGFJbmRleDogImluZGV4IiwNCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImluZGV4IiB9LA0KICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgd2lkdGg6ICIxMCUiLA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogImxhYmVsIiwNCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiVHlwZSIpLA0KICAgICAgICAgICAgZGF0YUluZGV4OiAidHlwZSIsDQogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJ0eXBlIiB9LA0KICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgd2lkdGg6ICIxMCUiLA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogImxhYmVsIiwNCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiRGF0ZUxhYmVsIiksDQogICAgICAgICAgICBkYXRhSW5kZXg6ICJkYXRlIiwNCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImRhdGUiIH0sDQogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgICB3aWR0aDogIjEwJSIsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAibGFiZWwiLA0KICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJUaW1lIiksDQogICAgICAgICAgICBkYXRhSW5kZXg6ICJ0aW1lIiwNCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogInRpbWUiIH0sDQogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgICB3aWR0aDogIjEwJSIsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAibGFiZWwiLA0KICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJMb2NhbElkZW50aXR5IiksDQogICAgICAgICAgICBkYXRhSW5kZXg6ICJpZGVudGl0eSIsDQogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpZGVudGl0eSIgfSwNCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICAgIHdpZHRoOiAiMjAlIiwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJsYWJlbCIsDQogICAgICAgICAgICB0aXRsZTogdm0uJHQoIk5hbWUiKSwNCiAgICAgICAgICAgIGRhdGFJbmRleDogIm5hbWUiLA0KICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAibmFtZSIgfSwNCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICAgIHdpZHRoOiAiMjAlIiwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJjbGljay1sYWJlbCIsDQogICAgICAgICAgICB0aXRsZTogdm0uJHQoIk51bWJlckxhYmVsIiksDQogICAgICAgICAgICBkYXRhSW5kZXg6ICJudW1iZXIiLA0KICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAibnVtYmVyIiB9LA0KICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgd2lkdGg6ICIyMCUiLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgIF0sDQogIH07DQogIHJldHVybiBjb250ZW50Ow0KfQ0KDQpmdW5jdGlvbiBvbkRpYWwodm0sY29sdW1uSW5kZXgpew0KICBsZXQgaXRlbVZhbHVlID0gZ2V0SXRlbUJ5S2V5KA0KICAgIHZtLmRhdGEsDQogICAgImNhbGxsb2ciLA0KICAgICJjYWxsbG9nIg0KICApLnRhYmxlRGF0YTsNCiAgdmFyIG51bWJlciA9IGl0ZW1WYWx1ZVtjb2x1bW5JbmRleC0xXS5udW1iZXIuc3BsaXQoIkAiKVswXTsNCiAgdmFyIGFjY291bnQgPSBpdGVtVmFsdWVbY29sdW1uSW5kZXgtMV0uaWRlbnRpdHkuc3BsaXQoIkAiKVswXTsNCiAgaWYgKGNvbmZpcm0odm0uJHQoIk1ha2VDYWxsV2FybiIpKSkgew0KICAgIG9uV2ViRGlhbCh2bSxudW1iZXIsYWNjb3VudCx0cnVlKTsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBnZXRDYWxsTG9nc1RhYmxlRGF0YSh2bSwgcGFnZSkgew0KICB2YXIgZGF0ZUZvcm1hdCA9ICJ5eXl5LU1NLWRkIjsNCiAgbGV0IGFwaURhdGVGb3JtYXQgPQ0KICAgIHZtLmFwaURhdGEuY29uZmlnRGF0YVsiQ29uZmlnLlNldHRpbmdzLkRBVEVUSU1FLkRhdGVGb3JtYXQiXTsNCiAgaWYgKGFwaURhdGVGb3JtYXQgPT0gIjAiKSB7DQogICAgZGF0ZUZvcm1hdCA9ICJ5eXl5LU1NLWRkIjsNCiAgfSBlbHNlIGlmIChhcGlEYXRlRm9ybWF0ID09ICIxIikgew0KICAgIGRhdGVGb3JtYXQgPSAieXl5eS9NTS9kZCI7DQogIH0gZWxzZSBpZiAoYXBpRGF0ZUZvcm1hdCA9PSAiMiIpIHsNCiAgICBkYXRlRm9ybWF0ID0gImRkLU1NLXl5eXkiOw0KICB9IGVsc2UgaWYgKGFwaURhdGVGb3JtYXQgPT0gIjMiKSB7DQogICAgZGF0ZUZvcm1hdCA9ICJkZC9NTS95eXl5IjsNCiAgfSBlbHNlIGlmIChhcGlEYXRlRm9ybWF0ID09ICI2Iikgew0KICAgIGRhdGVGb3JtYXQgPSAiTU0tZGQteXl5eSI7DQogIH0gZWxzZSBpZiAoYXBpRGF0ZUZvcm1hdCA9PSAiNyIpIHsNCiAgICBkYXRlRm9ybWF0ID0gIk1NL2RkL3l5eXkiOw0KICB9DQoNCiAgdm0uJGF4aW9zDQogICAgLmdldCgNCiAgICAgICJhcGkvcGhvbmVDYWxsTG9nL2dldD9wYWdlPSIgKw0KICAgICAgICBwYWdlICsNCiAgICAgICAgIiZ0eXBlPSIgKw0KICAgICAgICBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImNhbGxsb2ciLCAiY2FsbEhpc3RvcnlUeXBlIikudmFsdWUNCiAgICApDQogICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICBsZXQgdGFibGVEYXRhID0gW107DQogICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsNCiAgICAgIHZhciB0eXBlcyA9IG5ldyBBcnJheSgNCiAgICAgICAgdm0uJHQoIkFsbCIpLA0KICAgICAgICB2bS4kdCgiRGlhbGVkIiksDQogICAgICAgIHZtLiR0KCJSZWNlaXZlZCIpLA0KICAgICAgICB2bS4kdCgiTWlzc2VkIiksDQogICAgICAgIHZtLiR0KCJGb3J3YXJkZWQiKQ0KICAgICAgKTsNCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5jYWxsTG9nTGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgICBsZXQgaXRlbSA9IHsNCiAgICAgICAgICBrZXk6IGRhdGEuY2FsbExvZ0xpc3RbaV0uaWQsDQogICAgICAgICAgaW5kZXg6IGkgKyAxLA0KICAgICAgICAgIHR5cGU6IHR5cGVzW2RhdGEuY2FsbExvZ0xpc3RbaV0udHlwZV0sDQogICAgICAgICAgZGF0ZTogZGF0ZUZ0dChkYXRlRm9ybWF0LCBuZXcgRGF0ZShkYXRhLmNhbGxMb2dMaXN0W2ldLmRhdGUpKSwNCiAgICAgICAgICB0aW1lOg0KICAgICAgICAgICAgdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuREFURVRJTUUuVGltZUZvcm1hdCJdID09ICIwIg0KICAgICAgICAgICAgICA/IGZvcm1hdEFNUE0oDQogICAgICAgICAgICAgICAgICBuZXcgRGF0ZSgNCiAgICAgICAgICAgICAgICAgICAgZGF0YS5jYWxsTG9nTGlzdFtpXS5kYXRlICsgIiAiICsgZGF0YS5jYWxsTG9nTGlzdFtpXS50aW1lDQogICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICA6IGRhdGEuY2FsbExvZ0xpc3RbaV0udGltZSwNCiAgICAgICAgICBpZGVudGl0eTogZGF0YS5jYWxsTG9nTGlzdFtpXS5pZGVudGl0eSwNCiAgICAgICAgICBuYW1lOiBkYXRhLmNhbGxMb2dMaXN0W2ldLm5hbWUsDQogICAgICAgICAgbnVtYmVyOiBkYXRhLmNhbGxMb2dMaXN0W2ldLm51bWJlciwNCiAgICAgICAgfTsNCiAgICAgICAgdGFibGVEYXRhLnB1c2goaXRlbSk7DQogICAgICB9DQogICAgICBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImNhbGxsb2ciLCAiY2FsbGxvZyIpLnRhYmxlRGF0YSA9IHRhYmxlRGF0YTsNCiAgICAgIGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsbG9nIikudGFibGVGb290ZXJEYXRhLnN1bSA9DQogICAgICAgIGRhdGEuc3VtOw0KICAgICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJjYWxsbG9nIiwgImNhbGxsb2ciKS50YWJsZUZvb3RlckRhdGEucGFnZU51bWJlciA9DQogICAgICAgIGRhdGEucGFnZU51bTsNCiAgICAgIGdldEl0ZW1CeUtleSgNCiAgICAgICAgdm0uZGF0YSwNCiAgICAgICAgImNhbGxsb2ciLA0KICAgICAgICAiY2FsbGxvZyINCiAgICAgICkudGFibGVGb290ZXJEYXRhLmN1clBhZ2UgPSBwYWdlOw0KICAgICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJjYWxsbG9nIiwgImNhbGxsb2ciKS5zZWxlY3RlZFJvd0tleXMgPSBbXTsNCiAgICB9KTsNCn0NCmZ1bmN0aW9uIG9uRGVsZXRlTG9nKHZtLCB0eXBlKSB7DQogIGlmICgNCiAgICAhY29uZmlybSgNCiAgICAgIHR5cGUgPT0gImFsbCIgPyB2bS4kdCgiRGVsZXRlQWxsQ29uZmlybSIpIDogdm0uJHQoIkRlbGV0ZVNlbGVjdGVkQ29uZmlybSIpDQogICAgKQ0KICApIHsNCiAgICByZXR1cm47DQogIH0NCiAgbGV0IHNlbGVjdGVkUm93S2V5cyA9IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsbG9nIikNCiAgICAuc2VsZWN0ZWRSb3dLZXlzOw0KICBsZXQgcmVxdWVzdERhdGEgPSB7DQogICAgdGFyZ2V0OiAicGhvbmVDYWxsTG9nIiwNCiAgICBhY3Rpb246ICJkZWwiLA0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IHR5cGUsDQogICAgICBpZHM6IHNlbGVjdGVkUm93S2V5cywNCiAgICAgIGxvZ1R5cGU6IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsSGlzdG9yeVR5cGUiKS52YWx1ZSwNCiAgICB9LA0KICB9Ow0KICB2bS4kYXhpb3MucG9zdCgiYXBpIiwgcmVxdWVzdERhdGEpLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgc2hvd1JlcXVlc3RTdWNjZXNzKHZtLCB2bS4kdCgiQ2FsbExvZ0RlbGV0ZVN1Y2Nlc3MiKSk7DQogICAgbGV0IHRhYmxlRm9vdGVyRGF0YSA9IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAiY2FsbGxvZyIsICJjYWxsbG9nIikNCiAgICAgIC50YWJsZUZvb3RlckRhdGE7DQogICAgaWYgKHR5cGUgIT0gImFsbCIpIHsNCiAgICAgIGxldCBzdW1QYWdlID0gTWF0aC5jZWlsKA0KICAgICAgICAodGFibGVGb290ZXJEYXRhLnN1bSAtIHNlbGVjdGVkUm93S2V5cy5sZW5ndGgpIC8NCiAgICAgICAgICB0YWJsZUZvb3RlckRhdGEucGFnZU51bWJlcg0KICAgICAgKTsNCiAgICAgIHN1bVBhZ2UgPSBzdW1QYWdlID09IDAgPyAxIDogc3VtUGFnZTsNCiAgICAgIGxldCBwYWdlID0NCiAgICAgICAgdGFibGVGb290ZXJEYXRhLmN1clBhZ2UgPj0gc3VtUGFnZSA/IHN1bVBhZ2UgOiB0YWJsZUZvb3RlckRhdGEuY3VyUGFnZTsNCiAgICAgIGdldENhbGxMb2dzVGFibGVEYXRhKHZtLCBwYWdlKTsNCiAgICB9IGVsc2Ugew0KICAgICAgZ2V0Q2FsbExvZ3NUYWJsZURhdGEodm0sIDEpOw0KICAgIH0NCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIG9uRXhwb3J0KHZtKSB7DQogIGxldCByZXF1ZXN0RGF0YSA9IHsNCiAgICB0YXJnZXQ6ICJwaG9uZUNhbGxMb2ciLA0KICAgIGFjdGlvbjogImV4cG9ydCIsDQogIH07DQogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0sIHZtLiR0KCJFeHBvcnRTdWNjZXNzIikpOw0KICAgIGxldCBhZGRyZXNzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmFkZHJlc3M7DQogICAgd2luZG93Lm9wZW4oYWRkcmVzcyk7DQogIH0pOw0KfQ0K"},{"version":3,"sources":["ContactsCallLog.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ContactsCallLog.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\r\n</template>\r\n\r\n<script>\r\nimport CommonPage from \"@/components/CommonPage.vue\";\r\nimport {\r\n  showRequestSuccess,\r\n  deepClone,\r\n  isAnInterger,\r\n  getItemByKey,\r\n  dateFtt,\r\n  formatAMPM,\r\n  onWebHangup,\r\n  onWebDial,\r\n} from \"@/js/common.js\";\r\n\r\nexport default {\r\n  components: {\r\n    CommonPage,\r\n  },\r\n  data() {\r\n    return {\r\n      changedCfgData: {},\r\n      submitCfgData: {},\r\n      apiData: {},\r\n      data: {\r\n        getDataSuccess: false,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    getData(this);\r\n  },\r\n  methods: {\r\n    onCommonPageDataChange: function (event) {\r\n      setChangedData(this, event);\r\n      //this.changedCfgData[event.itemKey] = event.newVal;\r\n    },\r\n  },\r\n};\r\n\r\nfunction setChangedData(vm, event) {\r\n  if (event.contentKey == \"calllog\") {\r\n    if (event.itemKey == \"callHistoryType\") {\r\n      getCallLogsTableData(vm, 1);\r\n    } else {\r\n      vm.changedCfgData[event.itemKey] = event.newVal;\r\n    }\r\n  }\r\n}\r\n\r\nfunction submitData(vm) {\r\n  vm.data.submitLoading = true;\r\n\r\n  let requestData = {\r\n    target: \"phoneCallLog\",\r\n    action: \"set\",\r\n    configData: vm.submitCfgData,\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    if (\"undefined\" != typeof response) {\r\n      showRequestSuccess(vm);\r\n    }\r\n    vm.data.submitLoading = false;\r\n  });\r\n}\r\n\r\nfunction getData(vm) {\r\n  vm.$axios.get(\"api/phoneCallLog/info\").then((response) => {\r\n    vm.getDataSuccess = true;\r\n    vm.apiData = response.data;\r\n    vm.changedCfgData = deepClone(response.data.configData);\r\n    createPageData(vm);\r\n  });\r\n}\r\n\r\nfunction getCommitData(vm) {\r\n  vm.submitCfgData = {};\r\n  for (var changedKey in vm.changedCfgData) {\r\n    if (vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]) {\r\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey];\r\n    }\r\n  }\r\n}\r\n\r\nfunction checkCommitData(vm) {\r\n  return checkCallLog(vm);\r\n}\r\nfunction checkCallLog(vm) {\r\n  let success = true;\r\n  let upperLimit = getItemByKey(\r\n    vm.data,\r\n    \"calllog\",\r\n    \"Config.Settings.Capture.UpperLimit\"\r\n  );\r\n  if (vm.changedCfgData[\"Config.Settings.Capture.UpperLimit\"] == \"\") {\r\n    upperLimit.isWarn = true;\r\n    upperLimit.warnLabel = vm.$t(\"UpperLimitWarning\");\r\n    success = false;\r\n  }\r\n  if (!isAnInterger(vm.changedCfgData[\"Config.Settings.Capture.UpperLimit\"])) {\r\n    upperLimit.isWarn = true;\r\n    upperLimit.warnLabel = vm.$t(\"ValueMustBeNumber\");\r\n    success = false;\r\n  } else {\r\n    if (vm.changedCfgData[\"Config.Settings.Capture.UpperLimit\"] <= 0) {\r\n      upperLimit.isWarn = true;\r\n      upperLimit.warnLabel = vm.$t(\"ValueGreater0Info\");\r\n      success = false;\r\n    }\r\n  }\r\n  return success;\r\n}\r\n\r\nfunction createPageData(vm) {\r\n  vm.data = {\r\n    getDataSuccess: true,\r\n    breadCrumb: {\r\n      firstTitle: vm.$t(\"Contacts\"),\r\n      secondTitle: vm.$t(\"CallLog\"),\r\n    },\r\n    onSubmit: function () {\r\n      if (!checkCommitData(vm)) {\r\n        return;\r\n      }\r\n      getCommitData(vm);\r\n      submitData(vm);\r\n    },\r\n    onCancel: function () {\r\n      vm.data.cancelLoading = true;\r\n      getData(vm);\r\n    },\r\n    submitLoading: false,\r\n    cancelLoading: false,\r\n    contents: [],\r\n  };\r\n  vm.data.contents.push(createCallLogContent(vm));\r\n  getCallLogsTableData(vm, 1);\r\n}\r\n\r\nfunction createCallLogContent(vm) {\r\n  //call log type items\r\n  let callLogTypeItems = [\r\n    { key: 0, label: vm.$t(\"All\") },\r\n    { key: 1, label: vm.$t(\"Dialed\") },\r\n    { key: 2, label: vm.$t(\"Received\") },\r\n    { key: 3, label: vm.$t(\"Missed\") },\r\n    { key: 4, label: vm.$t(\"Forwarded\") },\r\n  ];\r\n  //capture delay items\r\n  let captureDelayItems = [];\r\n  for (let i = 0; i <= 10; i++) {\r\n    captureDelayItems.push({ key: i, label: i });\r\n  }\r\n  //table footer\r\n  let tableFooterData = {\r\n    onDelete: function () {\r\n      onDeleteLog(vm, \"select\");\r\n    },\r\n    onDeleteAll: function () {\r\n      onDeleteLog(vm, \"all\");\r\n    },\r\n    onPageChange: function (page) {\r\n      getCallLogsTableData(vm, page);\r\n    },\r\n    sum: 0,\r\n    pageNumber: 15,\r\n    curPage: 0,\r\n    deleteDisabled: true,\r\n    deleteAllDisabled: false,\r\n  };\r\n  //content\r\n  let content = {\r\n    key: \"calllog\",\r\n    title: vm.$t(\"CallLog\"),\r\n    titleDescription: vm.$t(\"CallLogDesc\"),\r\n    items: [\r\n      {\r\n        title: vm.$t(\"CaptureDelay\") + \" (\" + vm.$t(\"Second\") + \")\",\r\n        type: \"select\",\r\n        key: \"Config.Settings.Capture.Delay\",\r\n        value: vm.apiData.configData[\"Config.Settings.Capture.Delay\"],\r\n        selectItems: captureDelayItems,\r\n        description: vm.$t(\"CaptureDelayDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"UpperLimit\"),\r\n        type: \"input\",\r\n        key: \"Config.Settings.Capture.UpperLimit\",\r\n        value: vm.apiData.configData[\"Config.Settings.Capture.UpperLimit\"],\r\n        isWarn: false,\r\n        warnLabel: vm.$t(\"UpperLimitWarning\"),\r\n        description: vm.$t(\"UpperLimitDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"CallHistory\"),\r\n        type: \"select\",\r\n        showCallLogBtn: true,\r\n        key: \"callHistoryType\",\r\n        value: \"0\",\r\n        selectItems: callLogTypeItems,\r\n        onHangup: function () {\r\n          onWebHangup(vm);\r\n        },\r\n        onExport: function () {\r\n          onExport(vm);\r\n        },\r\n        description: vm.$t(\"CallHistoryDesc\"),\r\n      },\r\n      {\r\n        type: \"table\",\r\n        key: \"calllog\",\r\n        showFooter: true,\r\n        showRowSelection: true,\r\n        selectedRowKeys: [],\r\n        tableFooterData: tableFooterData,\r\n        tableData: [],\r\n        onClickDial: function(index){\r\n          onDial(vm,index);\r\n        },\r\n        tableColumns: [\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"Index\"),\r\n            dataIndex: \"index\",\r\n            scopedSlots: { customRender: \"index\" },\r\n            align: \"center\",\r\n            width: \"10%\",\r\n          },\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"Type\"),\r\n            dataIndex: \"type\",\r\n            scopedSlots: { customRender: \"type\" },\r\n            align: \"center\",\r\n            width: \"10%\",\r\n          },\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"DateLabel\"),\r\n            dataIndex: \"date\",\r\n            scopedSlots: { customRender: \"date\" },\r\n            align: \"center\",\r\n            width: \"10%\",\r\n          },\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"Time\"),\r\n            dataIndex: \"time\",\r\n            scopedSlots: { customRender: \"time\" },\r\n            align: \"center\",\r\n            width: \"10%\",\r\n          },\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"LocalIdentity\"),\r\n            dataIndex: \"identity\",\r\n            scopedSlots: { customRender: \"identity\" },\r\n            align: \"center\",\r\n            width: \"20%\",\r\n          },\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"Name\"),\r\n            dataIndex: \"name\",\r\n            scopedSlots: { customRender: \"name\" },\r\n            align: \"center\",\r\n            width: \"20%\",\r\n          },\r\n          {\r\n            type: \"click-label\",\r\n            title: vm.$t(\"NumberLabel\"),\r\n            dataIndex: \"number\",\r\n            scopedSlots: { customRender: \"number\" },\r\n            align: \"center\",\r\n            width: \"20%\",\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nfunction onDial(vm,columnIndex){\r\n  let itemValue = getItemByKey(\r\n    vm.data,\r\n    \"calllog\",\r\n    \"calllog\"\r\n  ).tableData;\r\n  var number = itemValue[columnIndex-1].number.split(\"@\")[0];\r\n  var account = itemValue[columnIndex-1].identity.split(\"@\")[0];\r\n  if (confirm(vm.$t(\"MakeCallWarn\"))) {\r\n    onWebDial(vm,number,account,true);\r\n  }\r\n}\r\n\r\nfunction getCallLogsTableData(vm, page) {\r\n  var dateFormat = \"yyyy-MM-dd\";\r\n  let apiDateFormat =\r\n    vm.apiData.configData[\"Config.Settings.DATETIME.DateFormat\"];\r\n  if (apiDateFormat == \"0\") {\r\n    dateFormat = \"yyyy-MM-dd\";\r\n  } else if (apiDateFormat == \"1\") {\r\n    dateFormat = \"yyyy/MM/dd\";\r\n  } else if (apiDateFormat == \"2\") {\r\n    dateFormat = \"dd-MM-yyyy\";\r\n  } else if (apiDateFormat == \"3\") {\r\n    dateFormat = \"dd/MM/yyyy\";\r\n  } else if (apiDateFormat == \"6\") {\r\n    dateFormat = \"MM-dd-yyyy\";\r\n  } else if (apiDateFormat == \"7\") {\r\n    dateFormat = \"MM/dd/yyyy\";\r\n  }\r\n\r\n  vm.$axios\r\n    .get(\r\n      \"api/phoneCallLog/get?page=\" +\r\n        page +\r\n        \"&type=\" +\r\n        getItemByKey(vm.data, \"calllog\", \"callHistoryType\").value\r\n    )\r\n    .then((response) => {\r\n      let tableData = [];\r\n      let data = response.data.data;\r\n      var types = new Array(\r\n        vm.$t(\"All\"),\r\n        vm.$t(\"Dialed\"),\r\n        vm.$t(\"Received\"),\r\n        vm.$t(\"Missed\"),\r\n        vm.$t(\"Forwarded\")\r\n      );\r\n      for (let i = 0; i < data.callLogList.length; i++) {\r\n        let item = {\r\n          key: data.callLogList[i].id,\r\n          index: i + 1,\r\n          type: types[data.callLogList[i].type],\r\n          date: dateFtt(dateFormat, new Date(data.callLogList[i].date)),\r\n          time:\r\n            vm.apiData.configData[\"Config.Settings.DATETIME.TimeFormat\"] == \"0\"\r\n              ? formatAMPM(\r\n                  new Date(\r\n                    data.callLogList[i].date + \" \" + data.callLogList[i].time\r\n                  )\r\n                )\r\n              : data.callLogList[i].time,\r\n          identity: data.callLogList[i].identity,\r\n          name: data.callLogList[i].name,\r\n          number: data.callLogList[i].number,\r\n        };\r\n        tableData.push(item);\r\n      }\r\n      getItemByKey(vm.data, \"calllog\", \"calllog\").tableData = tableData;\r\n      getItemByKey(vm.data, \"calllog\", \"calllog\").tableFooterData.sum =\r\n        data.sum;\r\n      getItemByKey(vm.data, \"calllog\", \"calllog\").tableFooterData.pageNumber =\r\n        data.pageNum;\r\n      getItemByKey(\r\n        vm.data,\r\n        \"calllog\",\r\n        \"calllog\"\r\n      ).tableFooterData.curPage = page;\r\n      getItemByKey(vm.data, \"calllog\", \"calllog\").selectedRowKeys = [];\r\n    });\r\n}\r\nfunction onDeleteLog(vm, type) {\r\n  if (\r\n    !confirm(\r\n      type == \"all\" ? vm.$t(\"DeleteAllConfirm\") : vm.$t(\"DeleteSelectedConfirm\")\r\n    )\r\n  ) {\r\n    return;\r\n  }\r\n  let selectedRowKeys = getItemByKey(vm.data, \"calllog\", \"calllog\")\r\n    .selectedRowKeys;\r\n  let requestData = {\r\n    target: \"phoneCallLog\",\r\n    action: \"del\",\r\n    data: {\r\n      type: type,\r\n      ids: selectedRowKeys,\r\n      logType: getItemByKey(vm.data, \"calllog\", \"callHistoryType\").value,\r\n    },\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    showRequestSuccess(vm, vm.$t(\"CallLogDeleteSuccess\"));\r\n    let tableFooterData = getItemByKey(vm.data, \"calllog\", \"calllog\")\r\n      .tableFooterData;\r\n    if (type != \"all\") {\r\n      let sumPage = Math.ceil(\r\n        (tableFooterData.sum - selectedRowKeys.length) /\r\n          tableFooterData.pageNumber\r\n      );\r\n      sumPage = sumPage == 0 ? 1 : sumPage;\r\n      let page =\r\n        tableFooterData.curPage >= sumPage ? sumPage : tableFooterData.curPage;\r\n      getCallLogsTableData(vm, page);\r\n    } else {\r\n      getCallLogsTableData(vm, 1);\r\n    }\r\n  });\r\n}\r\n\r\nfunction onExport(vm) {\r\n  let requestData = {\r\n    target: \"phoneCallLog\",\r\n    action: \"export\",\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    showRequestSuccess(vm, vm.$t(\"ExportSuccess\"));\r\n    let address = response.data.data.address;\r\n    window.open(address);\r\n  });\r\n}\r\n</script>"]}]}