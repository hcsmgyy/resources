{"remainingRequest":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\PhoneLift.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\PhoneLift.vue","mtime":1624613275300},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624613261239},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\babel-loader\\lib\\index.js","mtime":1624613260275},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1624613261239},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js","mtime":1624613274496}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgQ29tbW9uUGFnZSBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uUGFnZS52dWUiOw0KaW1wb3J0IHsNCiAgc2hvd1JlcXVlc3RTdWNjZXNzLA0KICBkZWVwQ2xvbmUsDQogIGdldEluZGV4QnlLZXksDQogIGdldEl0ZW1CeUtleSwNCiAgc2hvd0Vycm9ySW5mbywNCn0gZnJvbSAiQC9qcy9jb21tb24uanMiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBDb21tb25QYWdlLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzdGF0dXNJdGVtczogWw0KICAgICAgICB7IGtleTogMCwgbGFiZWw6IHRoaXMuJHQoIkRpc2FibGVkIikgfSwNCiAgICAgICAgeyBrZXk6IDEsIGxhYmVsOiB0aGlzLiR0KCJFbmFibGVkIikgfSwNCiAgICAgIF0sDQogICAgICBjaGFuZ2VkQ2ZnRGF0YToge30sDQogICAgICBzdWJtaXRDZmdEYXRhOiB7fSwNCiAgICAgIGFwaURhdGE6IHt9LA0KICAgICAgZGF0YTogew0KICAgICAgICBnZXREYXRhU3VjY2VzczogZmFsc2UsDQogICAgICB9LA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgZ2V0RGF0YSh0aGlzKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIG9uQ29tbW9uUGFnZURhdGFDaGFuZ2U6IGZ1bmN0aW9uIChldmVudCkgew0KICAgICAgc2V0Q2hhbmdlZERhdGEodGhpcywgZXZlbnQpOw0KICAgICAgLy/nlYzpnaLlj5jljJYNCiAgICAgIGhhbmRsZXJQYWdlQ2hhbmdlZCh0aGlzKTsNCiAgICAgIC8vdGhpcy5jaGFuZ2VkQ2ZnRGF0YVtldmVudC5pdGVtS2V5XSA9IGV2ZW50Lm5ld1ZhbDsNCiAgICB9LA0KICB9LA0KfTsNCg0KZnVuY3Rpb24gc2V0Q2hhbmdlZERhdGEodm0sIGV2ZW50KSB7DQogIGlmIChldmVudC5jb250ZW50S2V5ID09ICJsaWZ0Q29udHJvbCIgJiYgZXZlbnQuaXRlbUtleSA9PSAibGlmdENvbnRyb2wiKSB7DQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudC5uZXdWYWwubGVuZ3RoOyBpKyspIHsNCiAgICAgIHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuRmVhdHVyZXMuTElGVCIgKyAoaSArIDEpICsgIi5TdGF0dXMiXSA9DQogICAgICAgIGV2ZW50Lm5ld1ZhbFtpXS5zdGF0dXMudmFsdWU7DQogICAgICB2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLkZlYXR1cmVzLkxJRlQiICsgKGkgKyAxKSArICIuSWNvbiJdID0NCiAgICAgICAgZXZlbnQubmV3VmFsW2ldLmljb24udmFsdWU7DQogICAgICB2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLkZlYXR1cmVzLkxJRlQiICsgKGkgKyAxKSArICIuTGFiZWwiXSA9DQogICAgICAgIGV2ZW50Lm5ld1ZhbFtpXS5sYWJlbC52YWx1ZTsNCiAgICAgIHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuRmVhdHVyZXMuTElGVCIgKyAoaSArIDEpICsgIi5IdHRwQ29tbWFuZCJdID0NCiAgICAgICAgZXZlbnQubmV3VmFsW2ldLmNvbW1hbmQuYWRkT25CZWZvcmUgKyBldmVudC5uZXdWYWxbaV0uY29tbWFuZC52YWx1ZTsNCiAgICB9DQogIH0NCn0NCg0KZnVuY3Rpb24gaGFuZGxlclBhZ2VDaGFuZ2VkKHZtKSB7DQogIGxldCBsaWZ0VGFibGVEYXRhID0gZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJsaWZ0Q29udHJvbCIsICJsaWZ0Q29udHJvbCIpDQogICAgLnRhYmxlRGF0YTsNCiAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHsNCiAgICBpZiAodm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5GZWF0dXJlcy5MSUZUIiArIChpICsgMSkgKyAiLlN0YXR1cyJdID09IDApIHsNCiAgICAgIGxpZnRUYWJsZURhdGFbaV0ubGFiZWwuZGlzYWJsZWQgPSB0cnVlOw0KICAgICAgbGlmdFRhYmxlRGF0YVtpXS5jb21tYW5kLmRpc2FibGVkID0gdHJ1ZTsNCiAgICB9IGVsc2Ugew0KICAgICAgbGlmdFRhYmxlRGF0YVtpXS5sYWJlbC5kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgbGlmdFRhYmxlRGF0YVtpXS5jb21tYW5kLmRpc2FibGVkID0gZmFsc2U7DQogICAgfQ0KICB9DQp9DQoNCmZ1bmN0aW9uIHN1Ym1pdERhdGEodm0pIHsNCiAgdm0uZGF0YS5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsNCg0KICBsZXQgcmVxdWVzdERhdGEgPSB7DQogICAgdGFyZ2V0OiAicGhvbmVMaWZ0IiwNCiAgICBhY3Rpb246ICJzZXQiLA0KICAgIGNvbmZpZ0RhdGE6IHZtLnN1Ym1pdENmZ0RhdGEsDQogIH07DQogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICBpZiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIHJlc3BvbnNlKSB7DQogICAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0pOw0KICAgIH0NCiAgICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIGdldERhdGEodm0pIHsNCiAgdm0uJGF4aW9zLmdldCgiYXBpL3Bob25lTGlmdC9pbmZvIikudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICB2bS5nZXREYXRhU3VjY2VzcyA9IHRydWU7DQogICAgdm0uYXBpRGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgdm0uY2hhbmdlZENmZ0RhdGEgPSBkZWVwQ2xvbmUocmVzcG9uc2UuZGF0YS5jb25maWdEYXRhKTsNCiAgICBjcmVhdGVQYWdlRGF0YSh2bSk7DQogICAgaGFuZGxlclBhZ2VDaGFuZ2VkKHZtKTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIGdldENvbW1pdERhdGEodm0pIHsNCiAgdm0uc3VibWl0Q2ZnRGF0YSA9IHt9Ow0KICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7DQogICAgaWYgKHZtLmFwaURhdGEuY29uZmlnRGF0YVtjaGFuZ2VkS2V5XSAhPSB2bS5jaGFuZ2VkQ2ZnRGF0YVtjaGFuZ2VkS2V5XSkgew0KICAgICAgdm0uc3VibWl0Q2ZnRGF0YVtjaGFuZ2VkS2V5XSA9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldOw0KICAgIH0NCiAgfQ0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVQYWdlRGF0YSh2bSkgew0KICB2bS5kYXRhID0gew0KICAgIGdldERhdGFTdWNjZXNzOiB0cnVlLA0KICAgIGJyZWFkQ3J1bWI6IHsNCiAgICAgIGZpcnN0VGl0bGU6IHZtLiR0KCJQaG9uZSIpLA0KICAgICAgc2Vjb25kVGl0bGU6IHZtLiR0KCJMaWZ0IiksDQogICAgfSwNCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gKCkgew0KICAgICAgZ2V0Q29tbWl0RGF0YSh2bSk7DQogICAgICBzdWJtaXREYXRhKHZtKTsNCiAgICB9LA0KICAgIG9uQ2FuY2VsOiBmdW5jdGlvbiAoKSB7DQogICAgICB2bS5kYXRhLmNhbmNlbExvYWRpbmcgPSB0cnVlOw0KICAgICAgZ2V0RGF0YSh2bSk7DQogICAgfSwNCiAgICBzdWJtaXRMb2FkaW5nOiBmYWxzZSwNCiAgICBjYW5jZWxMb2FkaW5nOiBmYWxzZSwNCiAgICBjb250ZW50czogW10sDQogIH07DQoNCiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZUxpZnRDb250cm9sQ29udGVudCh2bSkpOw0KICB2bS5kYXRhLmNvbnRlbnRzLnB1c2goY3JlYXRlTGlmdEhpbnRzQ29udGVudCh2bSkpOw0KICBnZXRIaW50c1RhYmxlRGF0YSh2bSwgMSk7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZUxpZnRIaW50c0NvbnRlbnQodm0pIHsNCiAgLy/mt7vliqDmoYYNCiAgbGV0IGFkZE1vZGFsRGF0YSA9IHsNCiAgICB0aXRsZTogdm0uJHQoIkFkZEhpbnRzIikgLA0KICAgIGtleTogLTEsDQogICAgY2FuY2VsQnRuTGFiZWw6IHZtLiR0KCJDYW5jZWwiKSwNCiAgICBzdWJtaXRCdG5MYWJlbDogdm0uJHQoIlN1Ym1pdCIpLA0KICAgIHZpc2libGU6IGZhbHNlLA0KICAgIHNob3dGb290ZXI6IHRydWUsDQogICAgaXRlbXM6IFsNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJIdHRwU3RhdHVzQ29kZSIpLA0KICAgICAgICB0eXBlOiAiaW5wdXQiLA0KICAgICAgICBrZXk6ICJjb2RlIiwNCiAgICAgICAgdmFsdWU6ICIiLA0KICAgICAgICBpc1dhcm46IGZhbHNlLA0KICAgICAgICB3YXJuTGFiZWw6ICIiLA0KICAgICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiTGlmdEhUVFBDb2RlRGVzYyIpLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJIaW50cyIpLA0KICAgICAgICB0eXBlOiAiaW5wdXQiLA0KICAgICAgICBrZXk6ICJoaW50IiwNCiAgICAgICAgdmFsdWU6ICIiLA0KICAgICAgICBpc1dhcm46IGZhbHNlLA0KICAgICAgICB3YXJuTGFiZWw6IHZtLiR0KCJFbXB0eUVyciIpLA0KICAgICAgICBkZXNjcmlwdGlvbjogdm0uJHQoIkxpZnRIaW50RmllbGREZXNjIiksDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB0aXRsZTogdm0uJHQoIkxpZnQiKSwNCiAgICAgICAgdHlwZTogInNlbGVjdCIsDQogICAgICAgIGtleTogImxpZnQiLA0KICAgICAgICB2YWx1ZTogIiIsDQogICAgICAgIGRlZmF1bHRWYWx1ZTogLTEsDQogICAgICAgIHNlbGVjdEl0ZW1zOiBbDQogICAgICAgICAgeyBrZXk6IC0xLCBsYWJlbDogdm0uJHQoIkFsbCIpIH0sDQogICAgICAgICAgeyBrZXk6IDAsIGxhYmVsOiB2bS4kdCgiTGlmdCIpICsgMSB9LA0KICAgICAgICAgIHsga2V5OiAxLCBsYWJlbDogdm0uJHQoIkxpZnQiKSArIDIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJMaWZ0SW5kZXhEZXNjIiksDQogICAgICB9LA0KICAgIF0sDQogICAgb25Db25maXJtOiBmdW5jdGlvbiAoKSB7DQogICAgICBvbkNoYW5nZUhpbnQodm0pOw0KICAgIH0sDQogIH07DQoNCiAgLy/lr7zlhaXmoYYNCiAgbGV0IGltcG9ydE1vZGFsRGF0YSA9IHsNCiAgICB0aXRsZTogIiAiLA0KICAgIGNhbmNlbEJ0bkxhYmVsOiB2bS4kdCgiQ2FuY2VsIiksDQogICAgc3VibWl0QnRuTGFiZWw6IHZtLiR0KCJJbXBvcnQiKSwNCiAgICBzaG93Rm9vdGVyOiB0cnVlLA0KICAgIHZpc2libGU6IGZhbHNlLA0KICAgIGl0ZW1zOiBbDQogICAgICB7DQogICAgICAgIHRpdGxlOiB2bS4kdCgiRmlsZUxhYmVsIikgKyAiICgueG1sKSIsDQogICAgICAgIHR5cGU6ICJmaWxlLWlucHV0IiwNCiAgICAgICAga2V5OiAiaW1wb3J0IiwNCiAgICAgICAgYWNjZXB0RmlsZVR5cGU6ICIueG1sIiwNCiAgICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICAgIHZhbHVlOiB7DQogICAgICAgICAgZmlsZURhdGE6IHt9LA0KICAgICAgICAgIGZpbGVOYW1lOiB2bS4kdCgiVXBncmFkZUZpbGVQYXRoIiksDQogICAgICAgIH0sDQogICAgICAgIGltcG9ydEJ0bk5hbWU6IHZtLiR0KCJSZXNldCIpLA0KICAgICAgfSwNCiAgICBdLA0KICAgIG9uQ29uZmlybTogZnVuY3Rpb24gKCkgew0KICAgICAgb25JbXBvcnQodm0pOw0KICAgIH0sDQogICAgY29uZmlybUxvYWRpbmc6IGZhbHNlLA0KICB9Ow0KICAvL3RhYmxlIGhlYWQNCiAgbGV0IHRhYmxlSGVhZERhdGEgPSB7DQogICAgYWRkTW9kYWxEYXRhOiBhZGRNb2RhbERhdGEsDQogICAgaW1wb3J0TW9kYWxEYXRhOiBpbXBvcnRNb2RhbERhdGEsDQogICAgZXhwb3J0SXRlbXM6IFt7IGtleTogInhtbCIsIGxhYmVsOiAieG1sIiB9XSwNCiAgICBvbkV4cG9ydDogZnVuY3Rpb24gKHR5cGUpIHsNCiAgICAgIG9uRXhwb3J0KHZtLCB0eXBlKTsNCiAgICB9LA0KICB9Ow0KICAvL3RhYmxlIGZvb3Rlcg0KICBsZXQgdGFibGVGb290ZXJEYXRhID0gew0KICAgIG9uRGVsZXRlOiBmdW5jdGlvbiAoKSB7DQogICAgICBvbkRlbGV0ZUhpbnQodm0sICJzZWxlY3QiKTsNCiAgICB9LA0KICAgIG9uRGVsZXRlQWxsOiBmdW5jdGlvbiAoKSB7DQogICAgICBvbkRlbGV0ZUhpbnQodm0sICJhbGwiKTsNCiAgICB9LA0KICAgIG9uUGFnZUNoYW5nZTogZnVuY3Rpb24gKHBhZ2UpIHsNCiAgICAgIGdldEhpbnRzVGFibGVEYXRhKHZtLCBwYWdlKTsNCiAgICB9LA0KICAgIHN1bTogMCwNCiAgICBwYWdlTnVtYmVyOiA1LA0KICAgIGN1clBhZ2U6IDAsDQogICAgZGVsZXRlRGlzYWJsZWQ6IHRydWUsDQogICAgZGVsZXRlQWxsRGlzYWJsZWQ6IGZhbHNlLA0KICB9Ow0KICAvL2NvbnRlbnQNCiAgbGV0IGNvbnRlbnQgPSB7DQogICAga2V5OiAibGlmdEhpbnRzIiwNCiAgICB0aXRsZTogdm0uJHQoIkhpbnRzIiksDQogICAgdGl0bGVEZXNjcmlwdGlvbjogdm0uJHQoIkxpZnRIaW50RGVzYyIpLA0KICAgIGl0ZW1zOiBbDQogICAgICB7DQogICAgICAgIHR5cGU6ICJ0YWJsZSIsDQogICAgICAgIGtleTogImxpZnRIaW50cyIsDQogICAgICAgIHNob3dIZWFkOiB0cnVlLA0KICAgICAgICBzaG93Rm9vdGVyOiB0cnVlLA0KICAgICAgICBzaG93Um93U2VsZWN0aW9uOiB0cnVlLA0KICAgICAgICBzZWxlY3RlZFJvd0tleXM6IFtdLA0KICAgICAgICB0YWJsZUhlYWREYXRhOiB0YWJsZUhlYWREYXRhLA0KICAgICAgICB0YWJsZUZvb3RlckRhdGE6IHRhYmxlRm9vdGVyRGF0YSwNCiAgICAgICAgdGFibGVEYXRhOiBbXSwNCiAgICAgICAgdGFibGVDb2x1bW5zOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogImxhYmVsIiwNCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiSW5kZXgiKSwNCiAgICAgICAgICAgIGRhdGFJbmRleDogImluZGV4IiwNCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImluZGV4IiB9LA0KICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgd2lkdGg6ICIxMCUiLA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogImxhYmVsIiwNCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiSHR0cFN0YXR1c0NvZGUiKSwNCiAgICAgICAgICAgIGRhdGFJbmRleDogImNvZGUiLA0KICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAiY29kZSIgfSwNCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICAgIHdpZHRoOiAiMTUlIiwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJsYWJlbCIsDQogICAgICAgICAgICB0aXRsZTogdm0uJHQoIkxpZnQiKSwNCiAgICAgICAgICAgIGRhdGFJbmRleDogImxpZnQiLA0KICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAibGlmdCIgfSwNCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICAgIHdpZHRoOiAiMTUlIiwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJsYWJlbCIsDQogICAgICAgICAgICB0aXRsZTogdm0uJHQoIkhpbnRzIiksDQogICAgICAgICAgICBkYXRhSW5kZXg6ICJoaW50IiwNCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImhpbnQiIH0sDQogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgICB3aWR0aDogIjUwJSIsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAiZWRpdCIsDQogICAgICAgICAgICB0aXRsZTogdm0uJHQoIkVkaXRMYWJlbCIpLA0KICAgICAgICAgICAgZGF0YUluZGV4OiAiZWRpdCIsDQogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJlZGl0IiB9LA0KICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgd2lkdGg6ICIxMCUiLA0KICAgICAgICAgICAgb25FZGl0OiBmdW5jdGlvbiAoaW5kZXgsIGtleSkgew0KICAgICAgICAgICAgICBvblNldEVkaXRWYWx1ZShpbmRleCwga2V5LCB2bSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICB9LA0KICAgIF0sDQogIH07DQogIHJldHVybiBjb250ZW50Ow0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVMaWZ0Q29udHJvbENvbnRlbnQodm0pIHsNCiAgLy9pY29uSXRlbXMNCiAgbGV0IGljb25JdGVtcyA9IFsNCiAgICB7IGtleTogMCwgbGFiZWw6IHZtLiR0KCJVcCIpIH0sDQogICAgeyBrZXk6IDEsIGxhYmVsOiB2bS4kdCgiRG93biIpIH0sDQogICAgeyBrZXk6IDIsIGxhYmVsOiB2bS4kdCgiR2VuZXJhbCIpIH0sDQogIF07DQoNCiAgLy9kYXRhDQogIGxldCB0YWJsZURhdGEgPSBbXTsNCiAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHsNCiAgICBsZXQgaXRlbSA9IHsNCiAgICAgIGtleTogaSwNCiAgICAgIGluZGV4OiB2bS4kdCgiTGlmdCIpICsgKGkgKyAxKSwNCiAgICAgIHN0YXR1czogew0KICAgICAgICB2YWx1ZToNCiAgICAgICAgICB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5GZWF0dXJlcy5MSUZUIiArIChpICsgMSkgKyAiLlN0YXR1cyJdLA0KICAgICAgICBpc1dhcm46IGZhbHNlLA0KICAgICAgfSwNCiAgICAgIGljb246IHsNCiAgICAgICAgdmFsdWU6DQogICAgICAgICAgdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuRmVhdHVyZXMuTElGVCIgKyAoaSArIDEpICsgIi5JY29uIl0sDQogICAgICAgIGlzV2FybjogZmFsc2UsDQogICAgICB9LA0KICAgICAgbGFiZWw6IHsNCiAgICAgICAgdmFsdWU6DQogICAgICAgICAgdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuRmVhdHVyZXMuTElGVCIgKyAoaSArIDEpICsgIi5MYWJlbCJdLA0KICAgICAgICBpc1dhcm46IGZhbHNlLA0KICAgICAgICBkaXNhYmxlZDogZmFsc2UsDQogICAgICB9LA0KICAgICAgY29tbWFuZDogew0KICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWw0KICAgICAgICAgICJDb25maWcuRmVhdHVyZXMuTElGVCIgKyAoaSArIDEpICsgIi5IdHRwQ29tbWFuZCINCiAgICAgICAgXQ0KICAgICAgICAgIC5yZXBsYWNlKCJodHRwOi8vIiwgIiIpDQogICAgICAgICAgLnJlcGxhY2UoImh0dHBzOi8vIiwgIiIpLA0KICAgICAgICBhZGRPbkJlZm9yZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWw0KICAgICAgICAgICJDb25maWcuRmVhdHVyZXMuTElGVCIgKyAoaSArIDEpICsgIi5IdHRwQ29tbWFuZCINCiAgICAgICAgXS5zdGFydHNXaXRoKCJodHRwOi8vIikNCiAgICAgICAgICA/ICJodHRwOi8vIg0KICAgICAgICAgIDogdm0uYXBpRGF0YS5jb25maWdEYXRhWw0KICAgICAgICAgICAgICAiQ29uZmlnLkZlYXR1cmVzLkxJRlQiICsgKGkgKyAxKSArICIuSHR0cENvbW1hbmQiDQogICAgICAgICAgICBdLnN0YXJ0c1dpdGgoImh0dHBzOi8vIikNCiAgICAgICAgICA/ICJodHRwczovLyINCiAgICAgICAgICA6ICJodHRwOi8vIiwNCiAgICAgICAgaXNXYXJuOiBmYWxzZSwNCiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLA0KICAgICAgfSwNCiAgICB9Ow0KICAgIHRhYmxlRGF0YS5wdXNoKGl0ZW0pOw0KICB9DQogIC8vY29udGVudA0KICBsZXQgY29udGVudCA9IHsNCiAgICBrZXk6ICJsaWZ0Q29udHJvbCIsDQogICAgdGl0bGU6IHZtLiR0KCJMaWZ0Q29udHJvbCIpLA0KICAgIHRpdGxlRGVzY3JpcHRpb246IHZtLiR0KCJMaWZ0Q29udHJvbERlc2MiKSwNCiAgICBpdGVtczogWw0KICAgICAgew0KICAgICAgICB0eXBlOiAidGFibGUiLA0KICAgICAgICBrZXk6ICJsaWZ0Q29udHJvbCIsDQogICAgICAgIHRhYmxlQ29sdW1uczogWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJsYWJlbCIsDQogICAgICAgICAgICB0aXRsZTogdm0uJHQoIk5hbWUiKSwNCiAgICAgICAgICAgIGRhdGFJbmRleDogImluZGV4IiwNCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImluZGV4IiB9LA0KICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgd2lkdGg6ICIxMCUiLA0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgdHlwZTogInNlbGVjdCIsDQogICAgICAgICAgICB0aXRsZTogdm0uJHQoIlN0YXR1cyIpLA0KICAgICAgICAgICAgZGF0YUluZGV4OiAic3RhdHVzIiwNCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogInN0YXR1cyIgfSwNCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICAgIHNlbGVjdEl0ZW1zOiB2bS5zdGF0dXNJdGVtcywNCiAgICAgICAgICAgIHdpZHRoOiAiMTUlIiwNCiAgICAgICAgICB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHR5cGU6ICJzZWxlY3QiLA0KICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJJY29uTGFiZWwiKSwNCiAgICAgICAgICAgIGRhdGFJbmRleDogImljb24iLA0KICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAiaWNvbiIgfSwNCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwNCiAgICAgICAgICAgIHNlbGVjdEl0ZW1zOiBpY29uSXRlbXMsDQogICAgICAgICAgICB3aWR0aDogIjE1JSIsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAiaW5wdXQiLA0KICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJMYWJlbCIpLA0KICAgICAgICAgICAgZGF0YUluZGV4OiAibGFiZWwiLA0KICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAibGFiZWwiIH0sDQogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsDQogICAgICAgICAgICB3aWR0aDogIjIwJSIsDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICB0eXBlOiAiaW5wdXQiLA0KICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJIdHRwQ29tbWFuZCIpLA0KICAgICAgICAgICAgZGF0YUluZGV4OiAiY29tbWFuZCIsDQogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJjb21tYW5kIiB9LA0KICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLA0KICAgICAgICAgICAgd2lkdGg6ICI0MCUiLA0KICAgICAgICAgICAgbWF4TGVuZ3RoOiAyNDksDQogICAgICAgICAgICBhZGRPbkJlZm9yZUl0ZW1zOiBbDQogICAgICAgICAgICAgIHsga2V5OiAiaHR0cDovLyIsIGxhYmVsOiAiaHR0cDovLyIgfSwNCiAgICAgICAgICAgICAgeyBrZXk6ICJodHRwczovLyIsIGxhYmVsOiAiaHR0cHM6Ly8iIH0sDQogICAgICAgICAgICBdLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICAgIHRhYmxlRGF0YTogdGFibGVEYXRhLA0KICAgICAgfSwNCiAgICBdLA0KICB9Ow0KICByZXR1cm4gY29udGVudDsNCn0NCg0KZnVuY3Rpb24gZ2V0SGludHNUYWJsZURhdGEodm0sIHBhZ2UpIHsNCiAgdm0uJGF4aW9zLmdldCgiYXBpL3Bob25lTGlmdC9nZXQ/cGFnZT0iICsgcGFnZSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICBsZXQgdGFibGVEYXRhID0gW107DQogICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhLmRhdGE7DQogICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmhpbnRzTGlzdC5sZW5ndGg7IGkrKykgew0KICAgICAgbGV0IGl0ZW0gPSB7DQogICAgICAgIGtleTogZGF0YS5oaW50c0xpc3RbaV0uaWQsDQogICAgICAgIGluZGV4OiBpICsgMSwNCiAgICAgICAgY29kZTogZGF0YS5oaW50c0xpc3RbaV0uY29kZSwNCiAgICAgICAgbGlmdDoNCiAgICAgICAgICBkYXRhLmhpbnRzTGlzdFtpXS5saWZ0ID09IC0xDQogICAgICAgICAgICA/IHZtLiR0KCJBbGwiKQ0KICAgICAgICAgICAgOiB2bS4kdCgiTGlmdCIpICsgKGRhdGEuaGludHNMaXN0W2ldLmxpZnQgKyAxKSwNCiAgICAgICAgaGludDogZGF0YS5oaW50c0xpc3RbaV0uaGludCwNCiAgICAgICAgZWRpdDogaSwNCiAgICAgIH07DQogICAgICB0YWJsZURhdGEucHVzaChpdGVtKTsNCiAgICB9DQogICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJsaWZ0SGludHMiLCAibGlmdEhpbnRzIikudGFibGVEYXRhID0gdGFibGVEYXRhOw0KICAgIGdldEl0ZW1CeUtleSh2bS5kYXRhLCAibGlmdEhpbnRzIiwgImxpZnRIaW50cyIpLnRhYmxlRm9vdGVyRGF0YS5zdW0gPQ0KICAgICAgZGF0YS5zdW07DQogICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJsaWZ0SGludHMiLCAibGlmdEhpbnRzIikudGFibGVGb290ZXJEYXRhLnBhZ2VOdW1iZXIgPQ0KICAgICAgZGF0YS5wYWdlTnVtOw0KICAgIGdldEl0ZW1CeUtleSgNCiAgICAgIHZtLmRhdGEsDQogICAgICAibGlmdEhpbnRzIiwNCiAgICAgICJsaWZ0SGludHMiDQogICAgKS50YWJsZUZvb3RlckRhdGEuY3VyUGFnZSA9IHBhZ2U7DQogICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJsaWZ0SGludHMiLCAibGlmdEhpbnRzIikuc2VsZWN0ZWRSb3dLZXlzID0gW107DQogIH0pOw0KfQ0KDQpmdW5jdGlvbiBvbkNoYW5nZUhpbnQodm0pIHsNCiAgbGV0IGFkZE1vZGFsRGF0YSA9IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAibGlmdEhpbnRzIiwgImxpZnRIaW50cyIpDQogICAgLnRhYmxlSGVhZERhdGEuYWRkTW9kYWxEYXRhOw0KICBsZXQgbGlmdCA9IGFkZE1vZGFsRGF0YS5pdGVtc1tnZXRJbmRleEJ5S2V5KGFkZE1vZGFsRGF0YS5pdGVtcywgImxpZnQiKV07DQogIGxldCBoaW50ID0gYWRkTW9kYWxEYXRhLml0ZW1zW2dldEluZGV4QnlLZXkoYWRkTW9kYWxEYXRhLml0ZW1zLCAiaGludCIpXTsNCiAgbGV0IGNvZGUgPSBhZGRNb2RhbERhdGEuaXRlbXNbZ2V0SW5kZXhCeUtleShhZGRNb2RhbERhdGEuaXRlbXMsICJjb2RlIildOw0KICBsZXQgaWQgPSBhZGRNb2RhbERhdGEua2V5Ow0KDQogIGxldCBlcnJGbGFnID0gZmFsc2U7DQogIGlmIChjb2RlLnZhbHVlID09ICIiKSB7DQogICAgY29kZS5pc1dhcm4gPSB0cnVlOw0KICAgIGNvZGUud2FybkxhYmVsID0gdm0uJHQoIkVtcHR5RXJyIik7DQogICAgZXJyRmxhZyA9IHRydWU7DQogIH0NCiAgaWYgKGlzTmFOKGNvZGUudmFsdWUpKSB7DQogICAgY29kZS5pc1dhcm4gPSB0cnVlOw0KICAgIGNvZGUud2FybkxhYmVsID0gdm0uJHQoIkxpZnRDb2RlRXJyIik7DQogICAgZXJyRmxhZyA9IHRydWU7DQogIH0NCg0KICBpZiAoaGludC52YWx1ZSA9PSAiIikgew0KICAgIGhpbnQuaXNXYXJuID0gdHJ1ZTsNCiAgICBlcnJGbGFnID0gdHJ1ZTsNCiAgfQ0KDQogIGlmIChlcnJGbGFnKSB7DQogICAgcmV0dXJuOw0KICB9DQoNCiAgbGV0IGRhdGEgPSB7DQogICAgY29kZTogY29kZS52YWx1ZSwNCiAgICBoaW50OiBoaW50LnZhbHVlLA0KICAgIGxpZnQ6IGxpZnQudmFsdWUsDQogICAgaWQ6IGlkLA0KICB9Ow0KDQogIGxldCBhY3Rpb24gPSBpZCA+PSAwID8gImVkaXQiIDogImFkZCI7DQoNCiAgbGV0IHJlcXVlc3REYXRhID0gew0KICAgIHRhcmdldDogInBob25lTGlmdCIsDQogICAgYWN0aW9uOiBhY3Rpb24sDQogICAgZGF0YTogZGF0YSwNCiAgfTsNCiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIGxldCByZXQgPSByZXNwb25zZS5kYXRhLnJldGNvZGU7DQogICAgaWYgKHJldCA9PSAwKSB7DQogICAgICBjb2RlLnZhbHVlID0gIiI7DQogICAgICBoaW50LnZhbHVlID0gIiI7DQogICAgICBsaWZ0LnZhbHVlID0gLTE7DQogICAgICBsZXQgcGFnZSA9IDA7DQogICAgICBsZXQgdGFibGVJdGVtID0gZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJsaWZ0SGludHMiLCAibGlmdEhpbnRzIik7DQogICAgICBpZiAoYWN0aW9uID09ICJhZGQiKSB7DQogICAgICAgIC8v6aG16Z2i5pWw5o2u5Y+Y5YyWDQogICAgICAgIHBhZ2UgPSBNYXRoLmNlaWwoDQogICAgICAgICAgKHRhYmxlSXRlbS50YWJsZUZvb3RlckRhdGEuc3VtICsgMSkgLw0KICAgICAgICAgICAgdGFibGVJdGVtLnRhYmxlRm9vdGVyRGF0YS5wYWdlTnVtYmVyDQogICAgICAgICk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBwYWdlID0gdGFibGVJdGVtLnRhYmxlRm9vdGVyRGF0YS5jdXJQYWdlOw0KICAgICAgfQ0KICAgICAgZ2V0SGludHNUYWJsZURhdGEodm0sIHBhZ2UpOw0KICAgICAgLy/lhbPpl63nqpflj6PlubblsZXnpLrmiJDlip8NCiAgICAgIGFkZE1vZGFsRGF0YS52aXNpYmxlID0gZmFsc2U7DQogICAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0pOw0KICAgIH0gZWxzZSBpZiAocmV0ID09IDcpIHsNCiAgICAgIGNvZGUuaXNXYXJuID0gdHJ1ZTsNCiAgICAgIGNvZGUud2FybkxhYmVsID0gdm0uJHQoIkxpZnRIaW50Q29kZUV4aXN0Iik7DQogICAgfSBlbHNlIGlmIChyZXQgPT0gMTApIHsNCiAgICAgIHNob3dFcnJvckluZm8odm0sIHZtLiR0KCJMaWZ0SGludEFkZE1heEVyciIpKTsNCiAgICB9DQogIH0pOw0KfQ0KDQpmdW5jdGlvbiBvblNldEVkaXRWYWx1ZShpbmRleCwga2V5LCB2bSkgew0KICBsZXQgdGFibGVJdGVtID0gZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJsaWZ0SGludHMiLCAibGlmdEhpbnRzIik7DQogIHRhYmxlSXRlbS50YWJsZUhlYWREYXRhLmFkZE1vZGFsRGF0YS5pdGVtc1sNCiAgICBnZXRJbmRleEJ5S2V5KHRhYmxlSXRlbS50YWJsZUhlYWREYXRhLmFkZE1vZGFsRGF0YS5pdGVtcywgImxpZnQiKQ0KICBdLnZhbHVlID0gdGFibGVJdGVtLnRhYmxlRGF0YVtpbmRleF0ubGlmdDsNCiAgdGFibGVJdGVtLnRhYmxlSGVhZERhdGEuYWRkTW9kYWxEYXRhLml0ZW1zWw0KICAgIGdldEluZGV4QnlLZXkodGFibGVJdGVtLnRhYmxlSGVhZERhdGEuYWRkTW9kYWxEYXRhLml0ZW1zLCAiY29kZSIpDQogIF0uZGlzYWJsZWQgPSB0cnVlOw0KICB0YWJsZUl0ZW0udGFibGVIZWFkRGF0YS5hZGRNb2RhbERhdGEuaXRlbXNbDQogICAgZ2V0SW5kZXhCeUtleSh0YWJsZUl0ZW0udGFibGVIZWFkRGF0YS5hZGRNb2RhbERhdGEuaXRlbXMsICJjb2RlIikNCiAgXS52YWx1ZSA9IHRhYmxlSXRlbS50YWJsZURhdGFbaW5kZXhdLmNvZGU7DQogIHRhYmxlSXRlbS50YWJsZUhlYWREYXRhLmFkZE1vZGFsRGF0YS5pdGVtc1sNCiAgICBnZXRJbmRleEJ5S2V5KHRhYmxlSXRlbS50YWJsZUhlYWREYXRhLmFkZE1vZGFsRGF0YS5pdGVtcywgImhpbnQiKQ0KICBdLnZhbHVlID0gdGFibGVJdGVtLnRhYmxlRGF0YVtpbmRleF0uaGludDsNCn0NCg0KZnVuY3Rpb24gb25EZWxldGVIaW50KHZtLCB0eXBlKSB7DQogIGlmICgNCiAgICAhY29uZmlybSgNCiAgICAgIHR5cGUgPT0gImFsbCIgPyB2bS4kdCgiRGVsZXRlQWxsQ29uZmlybSIpIDogdm0uJHQoIkRlbGV0ZVNlbGVjdGVkQ29uZmlybSIpDQogICAgKQ0KICApIHsNCiAgICByZXR1cm47DQogIH0NCiAgbGV0IHNlbGVjdGVkUm93S2V5cyA9IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAibGlmdEhpbnRzIiwgImxpZnRIaW50cyIpDQogICAgLnNlbGVjdGVkUm93S2V5czsNCiAgbGV0IHJlcXVlc3REYXRhID0gew0KICAgIHRhcmdldDogInBob25lTGlmdCIsDQogICAgYWN0aW9uOiAiZGVsIiwNCiAgICBkYXRhOiB7DQogICAgICB0eXBlOiB0eXBlLA0KICAgICAgaWRzOiBzZWxlY3RlZFJvd0tleXMsDQogICAgfSwNCiAgfTsNCiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIHNob3dSZXF1ZXN0U3VjY2Vzcyh2bSwgdm0uJHQoIkhpbnREZWxldGVTdWNjZXNzIikpOw0KICAgIGxldCB0YWJsZUZvb3RlckRhdGEgPSBnZXRJdGVtQnlLZXkodm0uZGF0YSwgImxpZnRIaW50cyIsICJsaWZ0SGludHMiKQ0KICAgICAgLnRhYmxlRm9vdGVyRGF0YTsNCiAgICBpZiAodHlwZSAhPSAiYWxsIikgew0KICAgICAgbGV0IHN1bVBhZ2UgPSBNYXRoLmNlaWwoDQogICAgICAgICh0YWJsZUZvb3RlckRhdGEuc3VtIC0gc2VsZWN0ZWRSb3dLZXlzLmxlbmd0aCkgLw0KICAgICAgICAgIHRhYmxlRm9vdGVyRGF0YS5wYWdlTnVtYmVyDQogICAgICApOw0KICAgICAgc3VtUGFnZSA9IHN1bVBhZ2UgPT0gMCA/IDEgOiBzdW1QYWdlOw0KICAgICAgbGV0IHBhZ2UgPQ0KICAgICAgICB0YWJsZUZvb3RlckRhdGEuY3VyUGFnZSA+PSBzdW1QYWdlID8gc3VtUGFnZSA6IHRhYmxlRm9vdGVyRGF0YS5jdXJQYWdlOw0KICAgICAgZ2V0SGludHNUYWJsZURhdGEodm0sIHBhZ2UpOw0KICAgIH0gZWxzZSB7DQogICAgICBnZXRIaW50c1RhYmxlRGF0YSh2bSwgMSk7DQogICAgfQ0KICB9KTsNCn0NCg0KZnVuY3Rpb24gb25JbXBvcnQodm0pIHsNCiAgbGV0IG1vZGFsID0gZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsICJsaWZ0SGludHMiLCAibGlmdEhpbnRzIikudGFibGVIZWFkRGF0YQ0KICAgIC5pbXBvcnRNb2RhbERhdGE7DQogIGxldCBpdGVtID0gbW9kYWwuaXRlbXNbZ2V0SW5kZXhCeUtleShtb2RhbC5pdGVtcywgImltcG9ydCIpXTsNCiAgbGV0IGZpbGVOYW1lID0gaXRlbS52YWx1ZS5maWxlTmFtZTsNCiAgaWYgKGZpbGVOYW1lID09ICIiIHx8IGZpbGVOYW1lID09IHZtLiR0KCJVcGdyYWRlRmlsZVBhdGgiKSkgew0KICAgIHNob3dFcnJvckluZm8odm0sIHZtLiR0KCJGaWxlRW1wdHlXYXJuaW5nIikpOw0KICAgIHJldHVybjsNCiAgfQ0KDQogIG1vZGFsLmNvbmZpcm1Mb2FkaW5nID0gdHJ1ZTsNCiAgY29uc3QgdXBEYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogIHVwRGF0YS5hcHBlbmQoImZpbGUiLCBpdGVtLnZhbHVlLmZpbGVEYXRhKTsNCiAgYXhpb3MNCiAgICAucG9zdCgiYXBpL3Bob25lTGlmdC9pbXBvcnQiLCB1cERhdGEsIHsNCiAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgIkNvbnRlbnQtVHlwZSI6ICJtdWx0aXBhcnQvZm9ybS1kYXRhIiwNCiAgICAgIH0sDQogICAgfSkNCiAgICAudGhlbigocmVzKSA9PiB7DQogICAgICBpZiAocmVzLmRhdGEucmV0Y29kZSA9PSAxNykgew0KICAgICAgICBzaG93RXJyb3JJbmZvKHZtLCB2bS4kdCgiVG9vTWFueU1vbml0b3JzV2FybmluZyIpKTsNCiAgICAgICAgaXRlbS52YWx1ZS5maWxlTmFtZSA9IHZtLiR0KCJVcGdyYWRlRmlsZVBhdGgiKTsNCiAgICAgICAgaXRlbS52YWx1ZS5maWxlRGF0YSA9IHt9Ow0KICAgICAgICBtb2RhbC52aXNpYmxlID0gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnJldGNvZGUgPT0gMCkgew0KICAgICAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0sIHZtLiR0KCJJbXBvcnRTdWNjZXNzIikpOw0KICAgICAgICBpdGVtLnZhbHVlLmZpbGVOYW1lID0gdm0uJHQoIlVwZ3JhZGVGaWxlUGF0aCIpOw0KICAgICAgICBpdGVtLnZhbHVlLmZpbGVEYXRhID0ge307DQogICAgICAgIG1vZGFsLnZpc2libGUgPSBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZiAocmVzLmRhdGEucmV0Y29kZSA9PSAtMSl7DQogICAgICAgIHNob3dFcnJvckluZm8odm0sIHZtLiR0KCJGaWxlRm9ybWF0V2FybmluZyIpKTsNCiAgICAgIH0NCiAgICAgIG1vZGFsLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7DQogICAgICBsZXQgcGFnZSA9IGdldEl0ZW1CeUtleSh2bS5kYXRhLCAibGlmdEhpbnRzIiwgImxpZnRIaW50cyIpLnRhYmxlRm9vdGVyRGF0YQ0KICAgICAgICAuY3VyUGFnZTsNCiAgICAgIGdldEhpbnRzVGFibGVEYXRhKHZtLCBwYWdlKTsNCiAgICB9KTsNCn0NCg0KZnVuY3Rpb24gb25FeHBvcnQodm0sIHR5cGUpIHsNCiAgbGV0IHJlcXVlc3REYXRhID0gew0KICAgIHRhcmdldDogInBob25lTGlmdCIsDQogICAgYWN0aW9uOiAiZXhwb3J0IiwNCiAgICBkYXRhOiB7DQogICAgICB0eXBlOiB0eXBlLA0KICAgIH0sDQogIH07DQogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0sIHZtLiR0KCJFeHBvcnRTdWNjZXNzIikpOw0KICAgIGxldCBhZGRyZXNzID0gcmVzcG9uc2UuZGF0YS5kYXRhLmFkZHJlc3M7DQogICAgd2luZG93Lm9wZW4oYWRkcmVzcyk7DQogIH0pOw0KfQ0K"},{"version":3,"sources":["PhoneLift.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PhoneLift.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\r\n</template>\r\n\r\n<script>\r\nimport CommonPage from \"@/components/CommonPage.vue\";\r\nimport {\r\n  showRequestSuccess,\r\n  deepClone,\r\n  getIndexByKey,\r\n  getItemByKey,\r\n  showErrorInfo,\r\n} from \"@/js/common.js\";\r\n\r\nexport default {\r\n  components: {\r\n    CommonPage,\r\n  },\r\n  data() {\r\n    return {\r\n      statusItems: [\r\n        { key: 0, label: this.$t(\"Disabled\") },\r\n        { key: 1, label: this.$t(\"Enabled\") },\r\n      ],\r\n      changedCfgData: {},\r\n      submitCfgData: {},\r\n      apiData: {},\r\n      data: {\r\n        getDataSuccess: false,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    getData(this);\r\n  },\r\n  methods: {\r\n    onCommonPageDataChange: function (event) {\r\n      setChangedData(this, event);\r\n      //界面变化\r\n      handlerPageChanged(this);\r\n      //this.changedCfgData[event.itemKey] = event.newVal;\r\n    },\r\n  },\r\n};\r\n\r\nfunction setChangedData(vm, event) {\r\n  if (event.contentKey == \"liftControl\" && event.itemKey == \"liftControl\") {\r\n    for (let i = 0; i < event.newVal.length; i++) {\r\n      vm.changedCfgData[\"Config.Features.LIFT\" + (i + 1) + \".Status\"] =\r\n        event.newVal[i].status.value;\r\n      vm.changedCfgData[\"Config.Features.LIFT\" + (i + 1) + \".Icon\"] =\r\n        event.newVal[i].icon.value;\r\n      vm.changedCfgData[\"Config.Features.LIFT\" + (i + 1) + \".Label\"] =\r\n        event.newVal[i].label.value;\r\n      vm.changedCfgData[\"Config.Features.LIFT\" + (i + 1) + \".HttpCommand\"] =\r\n        event.newVal[i].command.addOnBefore + event.newVal[i].command.value;\r\n    }\r\n  }\r\n}\r\n\r\nfunction handlerPageChanged(vm) {\r\n  let liftTableData = getItemByKey(vm.data, \"liftControl\", \"liftControl\")\r\n    .tableData;\r\n  for (let i = 0; i < 2; i++) {\r\n    if (vm.changedCfgData[\"Config.Features.LIFT\" + (i + 1) + \".Status\"] == 0) {\r\n      liftTableData[i].label.disabled = true;\r\n      liftTableData[i].command.disabled = true;\r\n    } else {\r\n      liftTableData[i].label.disabled = false;\r\n      liftTableData[i].command.disabled = false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction submitData(vm) {\r\n  vm.data.submitLoading = true;\r\n\r\n  let requestData = {\r\n    target: \"phoneLift\",\r\n    action: \"set\",\r\n    configData: vm.submitCfgData,\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    if (\"undefined\" != typeof response) {\r\n      showRequestSuccess(vm);\r\n    }\r\n    vm.data.submitLoading = false;\r\n  });\r\n}\r\n\r\nfunction getData(vm) {\r\n  vm.$axios.get(\"api/phoneLift/info\").then((response) => {\r\n    vm.getDataSuccess = true;\r\n    vm.apiData = response.data;\r\n    vm.changedCfgData = deepClone(response.data.configData);\r\n    createPageData(vm);\r\n    handlerPageChanged(vm);\r\n  });\r\n}\r\n\r\nfunction getCommitData(vm) {\r\n  vm.submitCfgData = {};\r\n  for (var changedKey in vm.changedCfgData) {\r\n    if (vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]) {\r\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey];\r\n    }\r\n  }\r\n}\r\n\r\nfunction createPageData(vm) {\r\n  vm.data = {\r\n    getDataSuccess: true,\r\n    breadCrumb: {\r\n      firstTitle: vm.$t(\"Phone\"),\r\n      secondTitle: vm.$t(\"Lift\"),\r\n    },\r\n    onSubmit: function () {\r\n      getCommitData(vm);\r\n      submitData(vm);\r\n    },\r\n    onCancel: function () {\r\n      vm.data.cancelLoading = true;\r\n      getData(vm);\r\n    },\r\n    submitLoading: false,\r\n    cancelLoading: false,\r\n    contents: [],\r\n  };\r\n\r\n  vm.data.contents.push(createLiftControlContent(vm));\r\n  vm.data.contents.push(createLiftHintsContent(vm));\r\n  getHintsTableData(vm, 1);\r\n}\r\n\r\nfunction createLiftHintsContent(vm) {\r\n  //添加框\r\n  let addModalData = {\r\n    title: vm.$t(\"AddHints\") ,\r\n    key: -1,\r\n    cancelBtnLabel: vm.$t(\"Cancel\"),\r\n    submitBtnLabel: vm.$t(\"Submit\"),\r\n    visible: false,\r\n    showFooter: true,\r\n    items: [\r\n      {\r\n        title: vm.$t(\"HttpStatusCode\"),\r\n        type: \"input\",\r\n        key: \"code\",\r\n        value: \"\",\r\n        isWarn: false,\r\n        warnLabel: \"\",\r\n        disabled: false,\r\n        description: vm.$t(\"LiftHTTPCodeDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"Hints\"),\r\n        type: \"input\",\r\n        key: \"hint\",\r\n        value: \"\",\r\n        isWarn: false,\r\n        warnLabel: vm.$t(\"EmptyErr\"),\r\n        description: vm.$t(\"LiftHintFieldDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"Lift\"),\r\n        type: \"select\",\r\n        key: \"lift\",\r\n        value: \"\",\r\n        defaultValue: -1,\r\n        selectItems: [\r\n          { key: -1, label: vm.$t(\"All\") },\r\n          { key: 0, label: vm.$t(\"Lift\") + 1 },\r\n          { key: 1, label: vm.$t(\"Lift\") + 2 },\r\n        ],\r\n        description: vm.$t(\"LiftIndexDesc\"),\r\n      },\r\n    ],\r\n    onConfirm: function () {\r\n      onChangeHint(vm);\r\n    },\r\n  };\r\n\r\n  //导入框\r\n  let importModalData = {\r\n    title: \" \",\r\n    cancelBtnLabel: vm.$t(\"Cancel\"),\r\n    submitBtnLabel: vm.$t(\"Import\"),\r\n    showFooter: true,\r\n    visible: false,\r\n    items: [\r\n      {\r\n        title: vm.$t(\"FileLabel\") + \" (.xml)\",\r\n        type: \"file-input\",\r\n        key: \"import\",\r\n        acceptFileType: \".xml\",\r\n        loading: false,\r\n        value: {\r\n          fileData: {},\r\n          fileName: vm.$t(\"UpgradeFilePath\"),\r\n        },\r\n        importBtnName: vm.$t(\"Reset\"),\r\n      },\r\n    ],\r\n    onConfirm: function () {\r\n      onImport(vm);\r\n    },\r\n    confirmLoading: false,\r\n  };\r\n  //table head\r\n  let tableHeadData = {\r\n    addModalData: addModalData,\r\n    importModalData: importModalData,\r\n    exportItems: [{ key: \"xml\", label: \"xml\" }],\r\n    onExport: function (type) {\r\n      onExport(vm, type);\r\n    },\r\n  };\r\n  //table footer\r\n  let tableFooterData = {\r\n    onDelete: function () {\r\n      onDeleteHint(vm, \"select\");\r\n    },\r\n    onDeleteAll: function () {\r\n      onDeleteHint(vm, \"all\");\r\n    },\r\n    onPageChange: function (page) {\r\n      getHintsTableData(vm, page);\r\n    },\r\n    sum: 0,\r\n    pageNumber: 5,\r\n    curPage: 0,\r\n    deleteDisabled: true,\r\n    deleteAllDisabled: false,\r\n  };\r\n  //content\r\n  let content = {\r\n    key: \"liftHints\",\r\n    title: vm.$t(\"Hints\"),\r\n    titleDescription: vm.$t(\"LiftHintDesc\"),\r\n    items: [\r\n      {\r\n        type: \"table\",\r\n        key: \"liftHints\",\r\n        showHead: true,\r\n        showFooter: true,\r\n        showRowSelection: true,\r\n        selectedRowKeys: [],\r\n        tableHeadData: tableHeadData,\r\n        tableFooterData: tableFooterData,\r\n        tableData: [],\r\n        tableColumns: [\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"Index\"),\r\n            dataIndex: \"index\",\r\n            scopedSlots: { customRender: \"index\" },\r\n            align: \"center\",\r\n            width: \"10%\",\r\n          },\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"HttpStatusCode\"),\r\n            dataIndex: \"code\",\r\n            scopedSlots: { customRender: \"code\" },\r\n            align: \"center\",\r\n            width: \"15%\",\r\n          },\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"Lift\"),\r\n            dataIndex: \"lift\",\r\n            scopedSlots: { customRender: \"lift\" },\r\n            align: \"center\",\r\n            width: \"15%\",\r\n          },\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"Hints\"),\r\n            dataIndex: \"hint\",\r\n            scopedSlots: { customRender: \"hint\" },\r\n            align: \"center\",\r\n            width: \"50%\",\r\n          },\r\n          {\r\n            type: \"edit\",\r\n            title: vm.$t(\"EditLabel\"),\r\n            dataIndex: \"edit\",\r\n            scopedSlots: { customRender: \"edit\" },\r\n            align: \"center\",\r\n            width: \"10%\",\r\n            onEdit: function (index, key) {\r\n              onSetEditValue(index, key, vm);\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nfunction createLiftControlContent(vm) {\r\n  //iconItems\r\n  let iconItems = [\r\n    { key: 0, label: vm.$t(\"Up\") },\r\n    { key: 1, label: vm.$t(\"Down\") },\r\n    { key: 2, label: vm.$t(\"General\") },\r\n  ];\r\n\r\n  //data\r\n  let tableData = [];\r\n  for (let i = 0; i < 2; i++) {\r\n    let item = {\r\n      key: i,\r\n      index: vm.$t(\"Lift\") + (i + 1),\r\n      status: {\r\n        value:\r\n          vm.apiData.configData[\"Config.Features.LIFT\" + (i + 1) + \".Status\"],\r\n        isWarn: false,\r\n      },\r\n      icon: {\r\n        value:\r\n          vm.apiData.configData[\"Config.Features.LIFT\" + (i + 1) + \".Icon\"],\r\n        isWarn: false,\r\n      },\r\n      label: {\r\n        value:\r\n          vm.apiData.configData[\"Config.Features.LIFT\" + (i + 1) + \".Label\"],\r\n        isWarn: false,\r\n        disabled: false,\r\n      },\r\n      command: {\r\n        value: vm.apiData.configData[\r\n          \"Config.Features.LIFT\" + (i + 1) + \".HttpCommand\"\r\n        ]\r\n          .replace(\"http://\", \"\")\r\n          .replace(\"https://\", \"\"),\r\n        addOnBefore: vm.apiData.configData[\r\n          \"Config.Features.LIFT\" + (i + 1) + \".HttpCommand\"\r\n        ].startsWith(\"http://\")\r\n          ? \"http://\"\r\n          : vm.apiData.configData[\r\n              \"Config.Features.LIFT\" + (i + 1) + \".HttpCommand\"\r\n            ].startsWith(\"https://\")\r\n          ? \"https://\"\r\n          : \"http://\",\r\n        isWarn: false,\r\n        disabled: false,\r\n      },\r\n    };\r\n    tableData.push(item);\r\n  }\r\n  //content\r\n  let content = {\r\n    key: \"liftControl\",\r\n    title: vm.$t(\"LiftControl\"),\r\n    titleDescription: vm.$t(\"LiftControlDesc\"),\r\n    items: [\r\n      {\r\n        type: \"table\",\r\n        key: \"liftControl\",\r\n        tableColumns: [\r\n          {\r\n            type: \"label\",\r\n            title: vm.$t(\"Name\"),\r\n            dataIndex: \"index\",\r\n            scopedSlots: { customRender: \"index\" },\r\n            align: \"center\",\r\n            width: \"10%\",\r\n          },\r\n          {\r\n            type: \"select\",\r\n            title: vm.$t(\"Status\"),\r\n            dataIndex: \"status\",\r\n            scopedSlots: { customRender: \"status\" },\r\n            align: \"center\",\r\n            selectItems: vm.statusItems,\r\n            width: \"15%\",\r\n          },\r\n          {\r\n            type: \"select\",\r\n            title: vm.$t(\"IconLabel\"),\r\n            dataIndex: \"icon\",\r\n            scopedSlots: { customRender: \"icon\" },\r\n            align: \"center\",\r\n            selectItems: iconItems,\r\n            width: \"15%\",\r\n          },\r\n          {\r\n            type: \"input\",\r\n            title: vm.$t(\"Label\"),\r\n            dataIndex: \"label\",\r\n            scopedSlots: { customRender: \"label\" },\r\n            align: \"center\",\r\n            width: \"20%\",\r\n          },\r\n          {\r\n            type: \"input\",\r\n            title: vm.$t(\"HttpCommand\"),\r\n            dataIndex: \"command\",\r\n            scopedSlots: { customRender: \"command\" },\r\n            align: \"center\",\r\n            width: \"40%\",\r\n            maxLength: 249,\r\n            addOnBeforeItems: [\r\n              { key: \"http://\", label: \"http://\" },\r\n              { key: \"https://\", label: \"https://\" },\r\n            ],\r\n          },\r\n        ],\r\n        tableData: tableData,\r\n      },\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nfunction getHintsTableData(vm, page) {\r\n  vm.$axios.get(\"api/phoneLift/get?page=\" + page).then((response) => {\r\n    let tableData = [];\r\n    let data = response.data.data;\r\n    for (let i = 0; i < data.hintsList.length; i++) {\r\n      let item = {\r\n        key: data.hintsList[i].id,\r\n        index: i + 1,\r\n        code: data.hintsList[i].code,\r\n        lift:\r\n          data.hintsList[i].lift == -1\r\n            ? vm.$t(\"All\")\r\n            : vm.$t(\"Lift\") + (data.hintsList[i].lift + 1),\r\n        hint: data.hintsList[i].hint,\r\n        edit: i,\r\n      };\r\n      tableData.push(item);\r\n    }\r\n    getItemByKey(vm.data, \"liftHints\", \"liftHints\").tableData = tableData;\r\n    getItemByKey(vm.data, \"liftHints\", \"liftHints\").tableFooterData.sum =\r\n      data.sum;\r\n    getItemByKey(vm.data, \"liftHints\", \"liftHints\").tableFooterData.pageNumber =\r\n      data.pageNum;\r\n    getItemByKey(\r\n      vm.data,\r\n      \"liftHints\",\r\n      \"liftHints\"\r\n    ).tableFooterData.curPage = page;\r\n    getItemByKey(vm.data, \"liftHints\", \"liftHints\").selectedRowKeys = [];\r\n  });\r\n}\r\n\r\nfunction onChangeHint(vm) {\r\n  let addModalData = getItemByKey(vm.data, \"liftHints\", \"liftHints\")\r\n    .tableHeadData.addModalData;\r\n  let lift = addModalData.items[getIndexByKey(addModalData.items, \"lift\")];\r\n  let hint = addModalData.items[getIndexByKey(addModalData.items, \"hint\")];\r\n  let code = addModalData.items[getIndexByKey(addModalData.items, \"code\")];\r\n  let id = addModalData.key;\r\n\r\n  let errFlag = false;\r\n  if (code.value == \"\") {\r\n    code.isWarn = true;\r\n    code.warnLabel = vm.$t(\"EmptyErr\");\r\n    errFlag = true;\r\n  }\r\n  if (isNaN(code.value)) {\r\n    code.isWarn = true;\r\n    code.warnLabel = vm.$t(\"LiftCodeErr\");\r\n    errFlag = true;\r\n  }\r\n\r\n  if (hint.value == \"\") {\r\n    hint.isWarn = true;\r\n    errFlag = true;\r\n  }\r\n\r\n  if (errFlag) {\r\n    return;\r\n  }\r\n\r\n  let data = {\r\n    code: code.value,\r\n    hint: hint.value,\r\n    lift: lift.value,\r\n    id: id,\r\n  };\r\n\r\n  let action = id >= 0 ? \"edit\" : \"add\";\r\n\r\n  let requestData = {\r\n    target: \"phoneLift\",\r\n    action: action,\r\n    data: data,\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    let ret = response.data.retcode;\r\n    if (ret == 0) {\r\n      code.value = \"\";\r\n      hint.value = \"\";\r\n      lift.value = -1;\r\n      let page = 0;\r\n      let tableItem = getItemByKey(vm.data, \"liftHints\", \"liftHints\");\r\n      if (action == \"add\") {\r\n        //页面数据变化\r\n        page = Math.ceil(\r\n          (tableItem.tableFooterData.sum + 1) /\r\n            tableItem.tableFooterData.pageNumber\r\n        );\r\n      } else {\r\n        page = tableItem.tableFooterData.curPage;\r\n      }\r\n      getHintsTableData(vm, page);\r\n      //关闭窗口并展示成功\r\n      addModalData.visible = false;\r\n      showRequestSuccess(vm);\r\n    } else if (ret == 7) {\r\n      code.isWarn = true;\r\n      code.warnLabel = vm.$t(\"LiftHintCodeExist\");\r\n    } else if (ret == 10) {\r\n      showErrorInfo(vm, vm.$t(\"LiftHintAddMaxErr\"));\r\n    }\r\n  });\r\n}\r\n\r\nfunction onSetEditValue(index, key, vm) {\r\n  let tableItem = getItemByKey(vm.data, \"liftHints\", \"liftHints\");\r\n  tableItem.tableHeadData.addModalData.items[\r\n    getIndexByKey(tableItem.tableHeadData.addModalData.items, \"lift\")\r\n  ].value = tableItem.tableData[index].lift;\r\n  tableItem.tableHeadData.addModalData.items[\r\n    getIndexByKey(tableItem.tableHeadData.addModalData.items, \"code\")\r\n  ].disabled = true;\r\n  tableItem.tableHeadData.addModalData.items[\r\n    getIndexByKey(tableItem.tableHeadData.addModalData.items, \"code\")\r\n  ].value = tableItem.tableData[index].code;\r\n  tableItem.tableHeadData.addModalData.items[\r\n    getIndexByKey(tableItem.tableHeadData.addModalData.items, \"hint\")\r\n  ].value = tableItem.tableData[index].hint;\r\n}\r\n\r\nfunction onDeleteHint(vm, type) {\r\n  if (\r\n    !confirm(\r\n      type == \"all\" ? vm.$t(\"DeleteAllConfirm\") : vm.$t(\"DeleteSelectedConfirm\")\r\n    )\r\n  ) {\r\n    return;\r\n  }\r\n  let selectedRowKeys = getItemByKey(vm.data, \"liftHints\", \"liftHints\")\r\n    .selectedRowKeys;\r\n  let requestData = {\r\n    target: \"phoneLift\",\r\n    action: \"del\",\r\n    data: {\r\n      type: type,\r\n      ids: selectedRowKeys,\r\n    },\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    showRequestSuccess(vm, vm.$t(\"HintDeleteSuccess\"));\r\n    let tableFooterData = getItemByKey(vm.data, \"liftHints\", \"liftHints\")\r\n      .tableFooterData;\r\n    if (type != \"all\") {\r\n      let sumPage = Math.ceil(\r\n        (tableFooterData.sum - selectedRowKeys.length) /\r\n          tableFooterData.pageNumber\r\n      );\r\n      sumPage = sumPage == 0 ? 1 : sumPage;\r\n      let page =\r\n        tableFooterData.curPage >= sumPage ? sumPage : tableFooterData.curPage;\r\n      getHintsTableData(vm, page);\r\n    } else {\r\n      getHintsTableData(vm, 1);\r\n    }\r\n  });\r\n}\r\n\r\nfunction onImport(vm) {\r\n  let modal = getItemByKey(vm.data, \"liftHints\", \"liftHints\").tableHeadData\r\n    .importModalData;\r\n  let item = modal.items[getIndexByKey(modal.items, \"import\")];\r\n  let fileName = item.value.fileName;\r\n  if (fileName == \"\" || fileName == vm.$t(\"UpgradeFilePath\")) {\r\n    showErrorInfo(vm, vm.$t(\"FileEmptyWarning\"));\r\n    return;\r\n  }\r\n\r\n  modal.confirmLoading = true;\r\n  const upData = new FormData();\r\n  upData.append(\"file\", item.value.fileData);\r\n  axios\r\n    .post(\"api/phoneLift/import\", upData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    })\r\n    .then((res) => {\r\n      if (res.data.retcode == 17) {\r\n        showErrorInfo(vm, vm.$t(\"TooManyMonitorsWarning\"));\r\n        item.value.fileName = vm.$t(\"UpgradeFilePath\");\r\n        item.value.fileData = {};\r\n        modal.visible = false;\r\n      } else if (res.data.retcode == 0) {\r\n        showRequestSuccess(vm, vm.$t(\"ImportSuccess\"));\r\n        item.value.fileName = vm.$t(\"UpgradeFilePath\");\r\n        item.value.fileData = {};\r\n        modal.visible = false;\r\n      } else if (res.data.retcode == -1){\r\n        showErrorInfo(vm, vm.$t(\"FileFormatWarning\"));\r\n      }\r\n      modal.confirmLoading = false;\r\n      let page = getItemByKey(vm.data, \"liftHints\", \"liftHints\").tableFooterData\r\n        .curPage;\r\n      getHintsTableData(vm, page);\r\n    });\r\n}\r\n\r\nfunction onExport(vm, type) {\r\n  let requestData = {\r\n    target: \"phoneLift\",\r\n    action: \"export\",\r\n    data: {\r\n      type: type,\r\n    },\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    showRequestSuccess(vm, vm.$t(\"ExportSuccess\"));\r\n    let address = response.data.data.address;\r\n    window.open(address);\r\n  });\r\n}\r\n</script>"]}]}