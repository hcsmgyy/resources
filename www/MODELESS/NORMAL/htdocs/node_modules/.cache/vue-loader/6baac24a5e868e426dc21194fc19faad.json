{"remainingRequest":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js??vue-loader-options!/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/ArmingAlarmAction.vue?vue&type=script&lang=js&","dependencies":[{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/src/views/ArmingAlarmAction.vue","mtime":1600155105014},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/babel-loader/lib/index.js","mtime":1600155105338},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/cache-loader/dist/cjs.js","mtime":1600155105894},{"path":"/workspace3/minjie.chen/gitlab-work/advance-indoor/resources/www/MODELESS/NORMAL/htdocs/node_modules/vue-loader/lib/index.js","mtime":1600155105414}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCBDb21tb25QYWdlIGZyb20gIkAvY29tcG9uZW50cy9Db21tb25QYWdlLnZ1ZSI7CmltcG9ydCB7IHNob3dSZXF1ZXN0U3VjY2VzcywgZGVlcENsb25lIH0gZnJvbSAiQC9qcy9jb21tb24uanMiOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIENvbW1vblBhZ2UsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2hhbmdlZENmZ0RhdGE6IHt9LAogICAgICBzdWJtaXRDZmdEYXRhOiB7fSwKICAgICAgYXBpRGF0YToge30sCiAgICAgIGRhdGE6IHsKICAgICAgICBnZXREYXRhU3VjY2VzczogZmFsc2UsCiAgICAgIH0sCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGdldERhdGEodGhpcyk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkNvbW1vblBhZ2VEYXRhQ2hhbmdlOiBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgc2V0Q2hhbmdlZERhdGEodGhpcywgZXZlbnQpOwogICAgfSwKICB9LAp9OwoKZnVuY3Rpb24gc2V0Q2hhbmdlZERhdGEodm0sIGV2ZW50KSB7CiAgaWYgKGV2ZW50LmNvbnRlbnRLZXkgPT0gImh0dHBDb21tYW5kIiAmJiBldmVudC5pdGVtS2V5ID09ICJodHRwQ29tbWFuZCIpIHsKICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZXZlbnQubmV3VmFsLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZtLmNoYW5nZWRDZmdEYXRhWyJDb25maWcuRG9vclNldHRpbmcuV0VCUkVMQVkuSU9UcmlnZ2VyZWRDb21tYW5kIiArIGldID0KICAgICAgICAiaHR0cDovLyIgKyBldmVudC5uZXdWYWxbaV0uY29tbWFuZC52YWx1ZTsKICAgICAgdm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5Eb29yU2V0dGluZy5XRUJSRUxBWS5Db21tYW5kU2VuZEVuYWJsZSIgKyBpXSA9CiAgICAgICAgZXZlbnQubmV3VmFsW2ldLmVuYWJsZS52YWx1ZTsKICAgIH0KICB9IGVsc2UgaWYgKGV2ZW50LmNvbnRlbnRLZXkgPT0gInJlY2VpdmVyT2ZTSVBTZXR0aW5nIikgewogICAgaWYgKGV2ZW50Lml0ZW1LZXkgPT0gIm1zZ1RhYmxlIikgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50Lm5ld1ZhbC5sZW5ndGg7IGkrKykgewogICAgICAgIHZtLmNoYW5nZWRDZmdEYXRhWwogICAgICAgICAgIkNvbmZpZy5Ib21lU2VjdXJpdHkwLkFsYXJtMCIgKyAoaSArIDEpICsgIi5TbXNNZXNzYWdlIgogICAgICAgIF0gPSBldmVudC5uZXdWYWxbaV0ubWVzc2FnZS52YWx1ZTsKICAgICAgICB2bS5jaGFuZ2VkQ2ZnRGF0YVsKICAgICAgICAgICJDb25maWcuSG9tZVNlY3VyaXR5MC5BbGFybTAiICsgKGkgKyAxKSArICIuU2VuZE1lc3NhZ2UiCiAgICAgICAgXSA9IGV2ZW50Lm5ld1ZhbFtpXS5lbmFibGUudmFsdWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHZtLmNoYW5nZWRDZmdEYXRhW2V2ZW50Lml0ZW1LZXldID0gZXZlbnQubmV3VmFsOwogICAgfQogIH0gZWxzZSBpZiAoZXZlbnQuY29udGVudEtleSA9PSAiY2FsbFNldHRpbmciKSB7CiAgICBpZiAoZXZlbnQuaXRlbUtleSA9PSAiY2FsbFRhYmxlIikgewogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50Lm5ld1ZhbC5sZW5ndGg7IGkrKykgewogICAgICAgIHZtLmNoYW5nZWRDZmdEYXRhWwogICAgICAgICAgIkNvbmZpZy5Ib21lU2VjdXJpdHkwLkFsYXJtMCIgKyAoaSArIDEpICsgIi5TZW5kQ2FsbCIKICAgICAgICBdID0gZXZlbnQubmV3VmFsW2ldLmNhbGxFbmFibGUudmFsdWU7CiAgICAgICAgdm0uY2hhbmdlZENmZ0RhdGFbCiAgICAgICAgICAiQ29uZmlnLkhvbWVTZWN1cml0eTAuQWxhcm0wIiArIChpICsgMSkgKyAiLkFsYXJtU2lyZW4iCiAgICAgICAgXSA9IGV2ZW50Lm5ld1ZhbFtpXS5hbGFybVNpcmVuLnZhbHVlOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB2bS5jaGFuZ2VkQ2ZnRGF0YVtldmVudC5pdGVtS2V5XSA9IGV2ZW50Lm5ld1ZhbDsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIHN1Ym1pdERhdGEodm0pIHsKICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSB0cnVlOwoKICBsZXQgcmVxdWVzdERhdGEgPSB7CiAgICB0YXJnZXQ6ICJhcm1pbmdBbGFybUFjdGlvbiIsCiAgICBhY3Rpb246ICJzZXQiLAogICAgY29uZmlnRGF0YTogdm0uc3VibWl0Q2ZnRGF0YSwKICB9OwogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsKICAgIHNob3dSZXF1ZXN0U3VjY2Vzcyh2bSk7CiAgICB2bS5kYXRhLnN1Ym1pdExvYWRpbmcgPSBmYWxzZTsKICB9KTsKfQoKZnVuY3Rpb24gZ2V0RGF0YSh2bSkgewogIHZtLiRheGlvcy5nZXQoImFwaS9hcm1pbmdBbGFybUFjdGlvbi9pbmZvIikudGhlbigocmVzcG9uc2UpID0+IHsKICAgIHZtLmdldERhdGFTdWNjZXNzID0gdHJ1ZTsKICAgIHZtLmFwaURhdGEgPSByZXNwb25zZS5kYXRhOwogICAgdm0uY2hhbmdlZENmZ0RhdGEgPSBkZWVwQ2xvbmUocmVzcG9uc2UuZGF0YS5jb25maWdEYXRhKTsKICAgIGNyZWF0ZVBhZ2VEYXRhKHZtKTsKICB9KTsKfQoKZnVuY3Rpb24gZ2V0Q29tbWl0RGF0YSh2bSkgewogIHZtLnN1Ym1pdENmZ0RhdGEgPSB7fTsKICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7CiAgICBpZiAodm0uYXBpRGF0YS5jb25maWdEYXRhW2NoYW5nZWRLZXldICE9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldKSB7CiAgICAgIHZtLnN1Ym1pdENmZ0RhdGFbY2hhbmdlZEtleV0gPSB2bS5jaGFuZ2VkQ2ZnRGF0YVtjaGFuZ2VkS2V5XTsKICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGNyZWF0ZVBhZ2VEYXRhKHZtKSB7CiAgdm0uZGF0YSA9IHsKICAgIGdldERhdGFTdWNjZXNzOiB0cnVlLAogICAgYnJlYWRDcnVtYjogewogICAgICBmaXJzdFRpdGxlOiB2bS4kdCgiQXJtaW5nIiksCiAgICAgIHNlY29uZFRpdGxlOiB2bS4kdCgiQWxhcm1BY3Rpb24iKSwKICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gKCkgewogICAgICBnZXRDb21taXREYXRhKHZtKTsKICAgICAgc3VibWl0RGF0YSh2bSk7CiAgICB9LAogICAgb25DYW5jZWw6IGZ1bmN0aW9uICgpIHsKICAgICAgdm0uZGF0YS5jYW5jZWxMb2FkaW5nID0gdHJ1ZTsKICAgICAgZ2V0RGF0YSh2bSk7CiAgICB9LAogICAgc3VibWl0TG9hZGluZzogZmFsc2UsCiAgICBjYW5jZWxMb2FkaW5nOiBmYWxzZSwKICAgIGNvbnRlbnRzOiBbXSwKICB9OwogIHZtLmRhdGEuY29udGVudHMucHVzaChjcmVhdGVIdHRwQ29tbWFuZFNldHRpbmdDb250ZW50KHZtKSk7CiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZVJlY2VpdmVyT2ZTSVBTZXR0aW5nQ29udGVudCh2bSkpOwogIHZtLmRhdGEuY29udGVudHMucHVzaChjcmVhdGVDYWxsU2V0dGluZ0NvbnRlbnQodm0pKTsKfQoKZnVuY3Rpb24gY3JlYXRlQ2FsbFNldHRpbmdDb250ZW50KHZtKSB7CiAgbGV0IHRhYmxlRGF0YSA9IFtdOwogIGZvciAobGV0IGkgPSAwOyBpIDwgdm0uYXBpRGF0YS5kYXRhLnpvbmVOdW1iZXI7IGkrKykgewogICAgbGV0IGl0ZW0gPSB7CiAgICAgIGtleTogaSwKICAgICAgaW5kZXg6IHZtLiR0KCJab25lIikgKyAoaSArIDEpLAogICAgICBjYWxsRW5hYmxlOiB7CiAgICAgICAgdmFsdWU6CiAgICAgICAgICB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbCiAgICAgICAgICAgICJDb25maWcuSG9tZVNlY3VyaXR5MC5BbGFybTAiICsgKGkgKyAxKSArICIuU2VuZENhbGwiCiAgICAgICAgICBdLAogICAgICAgIGlzV2FybjogZmFsc2UsCiAgICAgIH0sCiAgICAgIGFsYXJtU2lyZW46IHsKICAgICAgICB2YWx1ZToKICAgICAgICAgIHZtLmFwaURhdGEuY29uZmlnRGF0YVsKICAgICAgICAgICAgIkNvbmZpZy5Ib21lU2VjdXJpdHkwLkFsYXJtMCIgKyAoaSArIDEpICsgIi5BbGFybVNpcmVuIgogICAgICAgICAgXSwKICAgICAgICBpc1dhcm46IGZhbHNlLAogICAgICB9LAogICAgfTsKICAgIHRhYmxlRGF0YS5wdXNoKGl0ZW0pOwogIH0KICBsZXQgY29udGVudCA9IHsKICAgIGtleTogImNhbGxTZXR0aW5nIiwKICAgIHRpdGxlOiB2bS4kdCgiQWxhcm1DYWxsU2V0dGluZyIpLAogICAgdGl0bGVEZXNjcmlwdGlvbjogdm0uJHQoIkFsYXJtQ2FsbFNldHRpbmciKSwKICAgIGl0ZW1zOiBbCiAgICAgIHsKICAgICAgICB0aXRsZTogdm0uJHQoIkNhbGxOdW1iZXIiKSwKICAgICAgICB0eXBlOiAiaW5wdXQiLAogICAgICAgIGtleTogIkNvbmZpZy5Ib21lU2VjdXJpdHkwLkFsYXJtRW1lcmdlbmN5LkNhbGxBZGRyZXNzIiwKICAgICAgICB2YWx1ZToKICAgICAgICAgIHZtLmFwaURhdGEuY29uZmlnRGF0YVsKICAgICAgICAgICAgIkNvbmZpZy5Ib21lU2VjdXJpdHkwLkFsYXJtRW1lcmdlbmN5LkNhbGxBZGRyZXNzIgogICAgICAgICAgXSwKICAgICAgfSwKICAgICAgewogICAgICAgIHR5cGU6ICJ0YWJsZSIsCiAgICAgICAga2V5OiAiY2FsbFRhYmxlIiwKICAgICAgICB0YWJsZUNvbHVtbnM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogImxhYmVsIiwKICAgICAgICAgICAgdGl0bGU6IHZtLiR0KCJab25lIiksCiAgICAgICAgICAgIGRhdGFJbmRleDogImluZGV4IiwKICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAiaW5kZXgiIH0sCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgICAgd2lkdGg6ICIyMCUiLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogInNlbGVjdCIsCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiTWFrZUNhbGxFbmFibGUiKSwKICAgICAgICAgICAgZGF0YUluZGV4OiAiY2FsbEVuYWJsZSIsCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImNhbGxFbmFibGUiIH0sCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgICAgd2lkdGg6ICI0MCUiLAogICAgICAgICAgICBzZWxlY3RJdGVtczogWwogICAgICAgICAgICAgIHsga2V5OiAwLCBsYWJlbDogdm0uJHQoIkRpc2FibGVkIikgfSwKICAgICAgICAgICAgICB7IGtleTogMSwgbGFiZWw6IHZtLiR0KCJFbmFibGVkIikgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJzZWxlY3QiLAogICAgICAgICAgICB0aXRsZTogdm0uJHQoIkFsYXJtU2lyZW4iKSwKICAgICAgICAgICAgZGF0YUluZGV4OiAiYWxhcm1TaXJlbiIsCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImFsYXJtU2lyZW4iIH0sCiAgICAgICAgICAgIGFsaWduOiAiY2VudGVyIiwKICAgICAgICAgICAgd2lkdGg6ICI0MCUiLAogICAgICAgICAgICBzZWxlY3RJdGVtczogWwogICAgICAgICAgICAgIHsga2V5OiAwLCBsYWJlbDogdm0uJHQoIkRpc2FibGVkIikgfSwKICAgICAgICAgICAgICB7IGtleTogMSwgbGFiZWw6IHZtLiR0KCJFbmFibGVkIikgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH0sCiAgICAgICAgXSwKICAgICAgICB0YWJsZURhdGE6IHRhYmxlRGF0YSwKICAgICAgfSwKICAgIF0sCiAgfTsKICByZXR1cm4gY29udGVudDsKfQoKZnVuY3Rpb24gY3JlYXRlUmVjZWl2ZXJPZlNJUFNldHRpbmdDb250ZW50KHZtKSB7CiAgbGV0IHRhYmxlRGF0YSA9IFtdOwogIGZvciAobGV0IGkgPSAwOyBpIDwgdm0uYXBpRGF0YS5kYXRhLnpvbmVOdW1iZXI7IGkrKykgewogICAgbGV0IGl0ZW0gPSB7CiAgICAgIGtleTogaSwKICAgICAgaW5kZXg6IHZtLiR0KCJab25lIikgKyAoaSArIDEpLAogICAgICBtZXNzYWdlOiB7CiAgICAgICAgdmFsdWU6CiAgICAgICAgICB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbCiAgICAgICAgICAgICJDb25maWcuSG9tZVNlY3VyaXR5MC5BbGFybTAiICsgKGkgKyAxKSArICIuU21zTWVzc2FnZSIKICAgICAgICAgIF0sCiAgICAgICAgaXNXYXJuOiBmYWxzZSwKICAgICAgfSwKICAgICAgZW5hYmxlOiB7CiAgICAgICAgdmFsdWU6CiAgICAgICAgICB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbCiAgICAgICAgICAgICJDb25maWcuSG9tZVNlY3VyaXR5MC5BbGFybTAiICsgKGkgKyAxKSArICIuU2VuZE1lc3NhZ2UiCiAgICAgICAgICBdLAogICAgICAgIGlzV2FybjogZmFsc2UsCiAgICAgIH0sCiAgICB9OwogICAgdGFibGVEYXRhLnB1c2goaXRlbSk7CiAgfQogIGxldCBjb250ZW50ID0gewogICAga2V5OiAicmVjZWl2ZXJPZlNJUFNldHRpbmciLAogICAgdGl0bGU6IHZtLiR0KCJSZWNlaXZlckFjY291bnRTZXR0aW5nIiksCiAgICB0aXRsZURlc2NyaXB0aW9uOiB2bS4kdCgiUmVjZWl2ZXJBY2NvdW50U2V0dGluZyIpLAogICAgaXRlbXM6IFsKICAgICAgewogICAgICAgIHRpdGxlOiB2bS4kdCgiU0lQQWNjb3VudCIpLAogICAgICAgIHR5cGU6ICJpbnB1dCIsCiAgICAgICAga2V5OiAiQ29uZmlnLkhvbWVTZWN1cml0eTAuQWxhcm1FbWVyZ2VuY3kuTWVzc2FnZUFkZHJlc3MiLAogICAgICAgIHZhbHVlOgogICAgICAgICAgdm0uYXBpRGF0YS5jb25maWdEYXRhWwogICAgICAgICAgICAiQ29uZmlnLkhvbWVTZWN1cml0eTAuQWxhcm1FbWVyZ2VuY3kuTWVzc2FnZUFkZHJlc3MiCiAgICAgICAgICBdLAogICAgICB9LAogICAgICB7CiAgICAgICAgdHlwZTogInRhYmxlIiwKICAgICAgICBrZXk6ICJtc2dUYWJsZSIsCiAgICAgICAgdGFibGVDb2x1bW5zOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJsYWJlbCIsCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiWm9uZSIpLAogICAgICAgICAgICBkYXRhSW5kZXg6ICJpbmRleCIsCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImluZGV4IiB9LAogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgIHdpZHRoOiAiMjAlIiwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJpbnB1dCIsCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiU0lQTWVzc2FnZSIpLAogICAgICAgICAgICBkYXRhSW5kZXg6ICJtZXNzYWdlIiwKICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAibWVzc2FnZSIgfSwKICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgICB3aWR0aDogIjYwJSIsCiAgICAgICAgICAgIG1heExlbmd0aDogMTAyNCwKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHR5cGU6ICJzZWxlY3QiLAogICAgICAgICAgICB0aXRsZTogdm0uJHQoIlNlbmRTaXBNZXNzYWdlIiksCiAgICAgICAgICAgIGRhdGFJbmRleDogImVuYWJsZSIsCiAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImVuYWJsZSIgfSwKICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgICB3aWR0aDogIjIwJSIsCiAgICAgICAgICAgIHNlbGVjdEl0ZW1zOiBbCiAgICAgICAgICAgICAgeyBrZXk6IDAsIGxhYmVsOiB2bS4kdCgiRGlzYWJsZWQiKSB9LAogICAgICAgICAgICAgIHsga2V5OiAxLCBsYWJlbDogdm0uJHQoIkVuYWJsZWQiKSB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfSwKICAgICAgICBdLAogICAgICAgIHRhYmxlRGF0YTogdGFibGVEYXRhLAogICAgICB9LAogICAgXSwKICB9OwogIHJldHVybiBjb250ZW50Owp9CgpmdW5jdGlvbiBjcmVhdGVIdHRwQ29tbWFuZFNldHRpbmdDb250ZW50KHZtKSB7CiAgbGV0IHRhYmxlRGF0YSA9IFtdOwogIGZvciAobGV0IGkgPSAwOyBpIDwgdm0uYXBpRGF0YS5kYXRhLnpvbmVOdW1iZXI7IGkrKykgewogICAgbGV0IGl0ZW0gPSB7CiAgICAgIGtleTogaSwKICAgICAgaW5kZXg6IHZtLiR0KCJab25lIikgKyAoaSArIDEpLAogICAgICBjb21tYW5kOiB7CiAgICAgICAgdmFsdWU6IHZtLmFwaURhdGEuY29uZmlnRGF0YVsKICAgICAgICAgICJDb25maWcuRG9vclNldHRpbmcuV0VCUkVMQVkuSU9UcmlnZ2VyZWRDb21tYW5kIiArIGkKICAgICAgICBdLnJlcGxhY2UoImh0dHA6Ly8iLCAiIiksCiAgICAgICAgaXNXYXJuOiBmYWxzZSwKICAgICAgfSwKICAgICAgZW5hYmxlOiB7CiAgICAgICAgdmFsdWU6CiAgICAgICAgICB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbCiAgICAgICAgICAgICJDb25maWcuRG9vclNldHRpbmcuV0VCUkVMQVkuQ29tbWFuZFNlbmRFbmFibGUiICsgaQogICAgICAgICAgXSwKICAgICAgICBpc1dhcm46IGZhbHNlLAogICAgICB9LAogICAgfTsKICAgIHRhYmxlRGF0YS5wdXNoKGl0ZW0pOwogIH0KICBsZXQgY29udGVudCA9IHsKICAgIGtleTogImh0dHBDb21tYW5kIiwKICAgIHRpdGxlOiB2bS4kdCgiQWxhcm1IdHRwQ29tbWFuZFNldHRpbmciKSwKICAgIHRpdGxlRGVzY3JpcHRpb246IHZtLiR0KCJBbGFybUh0dHBDb21tYW5kU2V0dGluZyIpLAogICAgaXRlbXM6IFsKICAgICAgewogICAgICAgIHR5cGU6ICJ0YWJsZSIsCiAgICAgICAga2V5OiAiaHR0cENvbW1hbmQiLAogICAgICAgIHRhYmxlQ29sdW1uczogWwogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAibGFiZWwiLAogICAgICAgICAgICB0aXRsZTogdm0uJHQoIlpvbmUiKSwKICAgICAgICAgICAgZGF0YUluZGV4OiAiaW5kZXgiLAogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJpbmRleCIgfSwKICAgICAgICAgICAgYWxpZ246ICJjZW50ZXIiLAogICAgICAgICAgICB3aWR0aDogIjIwJSIsCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0eXBlOiAiaW5wdXQiLAogICAgICAgICAgICB0aXRsZTogdm0uJHQoIkh0dHBDb21tYW5kIiksCiAgICAgICAgICAgIGRhdGFJbmRleDogImNvbW1hbmQiLAogICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJjb21tYW5kIiB9LAogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgIHdpZHRoOiAiNjAlIiwKICAgICAgICAgICAgbWF4TGVuZ3RoOiAxMDI0LAogICAgICAgICAgICBhZGRPbkJlZm9yZTogImh0dHA6Ly8iLAogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogInNlbGVjdCIsCiAgICAgICAgICAgIHRpdGxlOiB2bS4kdCgiU2VuZEh0dHAiKSwKICAgICAgICAgICAgZGF0YUluZGV4OiAiZW5hYmxlIiwKICAgICAgICAgICAgc2NvcGVkU2xvdHM6IHsgY3VzdG9tUmVuZGVyOiAiZW5hYmxlIiB9LAogICAgICAgICAgICBhbGlnbjogImNlbnRlciIsCiAgICAgICAgICAgIHdpZHRoOiAiMjAlIiwKICAgICAgICAgICAgc2VsZWN0SXRlbXM6IFsKICAgICAgICAgICAgICB7IGtleTogMCwgbGFiZWw6IHZtLiR0KCJEaXNhYmxlZCIpIH0sCiAgICAgICAgICAgICAgeyBrZXk6IDEsIGxhYmVsOiB2bS4kdCgiRW5hYmxlZCIpIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICB9LAogICAgICAgIF0sCiAgICAgICAgdGFibGVEYXRhOiB0YWJsZURhdGEsCiAgICAgIH0sCiAgICBdLAogIH07CiAgcmV0dXJuIGNvbnRlbnQ7Cn0K"},{"version":3,"sources":["ArmingAlarmAction.vue"],"names":[],"mappings":";;;;;AAKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ArmingAlarmAction.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\n</template>\n\n<script>\nimport CommonPage from \"@/components/CommonPage.vue\";\nimport { showRequestSuccess, deepClone } from \"@/js/common.js\";\n\nexport default {\n  components: {\n    CommonPage,\n  },\n  data() {\n    return {\n      changedCfgData: {},\n      submitCfgData: {},\n      apiData: {},\n      data: {\n        getDataSuccess: false,\n      },\n    };\n  },\n  created() {\n    getData(this);\n  },\n  methods: {\n    onCommonPageDataChange: function (event) {\n      setChangedData(this, event);\n    },\n  },\n};\n\nfunction setChangedData(vm, event) {\n  if (event.contentKey == \"httpCommand\" && event.itemKey == \"httpCommand\") {\n    for (let i = 0; i < event.newVal.length; i++) {\n      vm.changedCfgData[\"Config.DoorSetting.WEBRELAY.IOTriggeredCommand\" + i] =\n        \"http://\" + event.newVal[i].command.value;\n      vm.changedCfgData[\"Config.DoorSetting.WEBRELAY.CommandSendEnable\" + i] =\n        event.newVal[i].enable.value;\n    }\n  } else if (event.contentKey == \"receiverOfSIPSetting\") {\n    if (event.itemKey == \"msgTable\") {\n      for (let i = 0; i < event.newVal.length; i++) {\n        vm.changedCfgData[\n          \"Config.HomeSecurity0.Alarm0\" + (i + 1) + \".SmsMessage\"\n        ] = event.newVal[i].message.value;\n        vm.changedCfgData[\n          \"Config.HomeSecurity0.Alarm0\" + (i + 1) + \".SendMessage\"\n        ] = event.newVal[i].enable.value;\n      }\n    } else {\n      vm.changedCfgData[event.itemKey] = event.newVal;\n    }\n  } else if (event.contentKey == \"callSetting\") {\n    if (event.itemKey == \"callTable\") {\n      for (let i = 0; i < event.newVal.length; i++) {\n        vm.changedCfgData[\n          \"Config.HomeSecurity0.Alarm0\" + (i + 1) + \".SendCall\"\n        ] = event.newVal[i].callEnable.value;\n        vm.changedCfgData[\n          \"Config.HomeSecurity0.Alarm0\" + (i + 1) + \".AlarmSiren\"\n        ] = event.newVal[i].alarmSiren.value;\n      }\n    } else {\n      vm.changedCfgData[event.itemKey] = event.newVal;\n    }\n  }\n}\n\nfunction submitData(vm) {\n  vm.data.submitLoading = true;\n\n  let requestData = {\n    target: \"armingAlarmAction\",\n    action: \"set\",\n    configData: vm.submitCfgData,\n  };\n  vm.$axios.post(\"api\", requestData).then((response) => {\n    showRequestSuccess(vm);\n    vm.data.submitLoading = false;\n  });\n}\n\nfunction getData(vm) {\n  vm.$axios.get(\"api/armingAlarmAction/info\").then((response) => {\n    vm.getDataSuccess = true;\n    vm.apiData = response.data;\n    vm.changedCfgData = deepClone(response.data.configData);\n    createPageData(vm);\n  });\n}\n\nfunction getCommitData(vm) {\n  vm.submitCfgData = {};\n  for (var changedKey in vm.changedCfgData) {\n    if (vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]) {\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey];\n    }\n  }\n}\n\nfunction createPageData(vm) {\n  vm.data = {\n    getDataSuccess: true,\n    breadCrumb: {\n      firstTitle: vm.$t(\"Arming\"),\n      secondTitle: vm.$t(\"AlarmAction\"),\n    },\n    onSubmit: function () {\n      getCommitData(vm);\n      submitData(vm);\n    },\n    onCancel: function () {\n      vm.data.cancelLoading = true;\n      getData(vm);\n    },\n    submitLoading: false,\n    cancelLoading: false,\n    contents: [],\n  };\n  vm.data.contents.push(createHttpCommandSettingContent(vm));\n  vm.data.contents.push(createReceiverOfSIPSettingContent(vm));\n  vm.data.contents.push(createCallSettingContent(vm));\n}\n\nfunction createCallSettingContent(vm) {\n  let tableData = [];\n  for (let i = 0; i < vm.apiData.data.zoneNumber; i++) {\n    let item = {\n      key: i,\n      index: vm.$t(\"Zone\") + (i + 1),\n      callEnable: {\n        value:\n          vm.apiData.configData[\n            \"Config.HomeSecurity0.Alarm0\" + (i + 1) + \".SendCall\"\n          ],\n        isWarn: false,\n      },\n      alarmSiren: {\n        value:\n          vm.apiData.configData[\n            \"Config.HomeSecurity0.Alarm0\" + (i + 1) + \".AlarmSiren\"\n          ],\n        isWarn: false,\n      },\n    };\n    tableData.push(item);\n  }\n  let content = {\n    key: \"callSetting\",\n    title: vm.$t(\"AlarmCallSetting\"),\n    titleDescription: vm.$t(\"AlarmCallSetting\"),\n    items: [\n      {\n        title: vm.$t(\"CallNumber\"),\n        type: \"input\",\n        key: \"Config.HomeSecurity0.AlarmEmergency.CallAddress\",\n        value:\n          vm.apiData.configData[\n            \"Config.HomeSecurity0.AlarmEmergency.CallAddress\"\n          ],\n      },\n      {\n        type: \"table\",\n        key: \"callTable\",\n        tableColumns: [\n          {\n            type: \"label\",\n            title: vm.$t(\"Zone\"),\n            dataIndex: \"index\",\n            scopedSlots: { customRender: \"index\" },\n            align: \"center\",\n            width: \"20%\",\n          },\n          {\n            type: \"select\",\n            title: vm.$t(\"MakeCallEnable\"),\n            dataIndex: \"callEnable\",\n            scopedSlots: { customRender: \"callEnable\" },\n            align: \"center\",\n            width: \"40%\",\n            selectItems: [\n              { key: 0, label: vm.$t(\"Disabled\") },\n              { key: 1, label: vm.$t(\"Enabled\") },\n            ],\n          },\n          {\n            type: \"select\",\n            title: vm.$t(\"AlarmSiren\"),\n            dataIndex: \"alarmSiren\",\n            scopedSlots: { customRender: \"alarmSiren\" },\n            align: \"center\",\n            width: \"40%\",\n            selectItems: [\n              { key: 0, label: vm.$t(\"Disabled\") },\n              { key: 1, label: vm.$t(\"Enabled\") },\n            ],\n          },\n        ],\n        tableData: tableData,\n      },\n    ],\n  };\n  return content;\n}\n\nfunction createReceiverOfSIPSettingContent(vm) {\n  let tableData = [];\n  for (let i = 0; i < vm.apiData.data.zoneNumber; i++) {\n    let item = {\n      key: i,\n      index: vm.$t(\"Zone\") + (i + 1),\n      message: {\n        value:\n          vm.apiData.configData[\n            \"Config.HomeSecurity0.Alarm0\" + (i + 1) + \".SmsMessage\"\n          ],\n        isWarn: false,\n      },\n      enable: {\n        value:\n          vm.apiData.configData[\n            \"Config.HomeSecurity0.Alarm0\" + (i + 1) + \".SendMessage\"\n          ],\n        isWarn: false,\n      },\n    };\n    tableData.push(item);\n  }\n  let content = {\n    key: \"receiverOfSIPSetting\",\n    title: vm.$t(\"ReceiverAccountSetting\"),\n    titleDescription: vm.$t(\"ReceiverAccountSetting\"),\n    items: [\n      {\n        title: vm.$t(\"SIPAccount\"),\n        type: \"input\",\n        key: \"Config.HomeSecurity0.AlarmEmergency.MessageAddress\",\n        value:\n          vm.apiData.configData[\n            \"Config.HomeSecurity0.AlarmEmergency.MessageAddress\"\n          ],\n      },\n      {\n        type: \"table\",\n        key: \"msgTable\",\n        tableColumns: [\n          {\n            type: \"label\",\n            title: vm.$t(\"Zone\"),\n            dataIndex: \"index\",\n            scopedSlots: { customRender: \"index\" },\n            align: \"center\",\n            width: \"20%\",\n          },\n          {\n            type: \"input\",\n            title: vm.$t(\"SIPMessage\"),\n            dataIndex: \"message\",\n            scopedSlots: { customRender: \"message\" },\n            align: \"center\",\n            width: \"60%\",\n            maxLength: 1024,\n          },\n          {\n            type: \"select\",\n            title: vm.$t(\"SendSipMessage\"),\n            dataIndex: \"enable\",\n            scopedSlots: { customRender: \"enable\" },\n            align: \"center\",\n            width: \"20%\",\n            selectItems: [\n              { key: 0, label: vm.$t(\"Disabled\") },\n              { key: 1, label: vm.$t(\"Enabled\") },\n            ],\n          },\n        ],\n        tableData: tableData,\n      },\n    ],\n  };\n  return content;\n}\n\nfunction createHttpCommandSettingContent(vm) {\n  let tableData = [];\n  for (let i = 0; i < vm.apiData.data.zoneNumber; i++) {\n    let item = {\n      key: i,\n      index: vm.$t(\"Zone\") + (i + 1),\n      command: {\n        value: vm.apiData.configData[\n          \"Config.DoorSetting.WEBRELAY.IOTriggeredCommand\" + i\n        ].replace(\"http://\", \"\"),\n        isWarn: false,\n      },\n      enable: {\n        value:\n          vm.apiData.configData[\n            \"Config.DoorSetting.WEBRELAY.CommandSendEnable\" + i\n          ],\n        isWarn: false,\n      },\n    };\n    tableData.push(item);\n  }\n  let content = {\n    key: \"httpCommand\",\n    title: vm.$t(\"AlarmHttpCommandSetting\"),\n    titleDescription: vm.$t(\"AlarmHttpCommandSetting\"),\n    items: [\n      {\n        type: \"table\",\n        key: \"httpCommand\",\n        tableColumns: [\n          {\n            type: \"label\",\n            title: vm.$t(\"Zone\"),\n            dataIndex: \"index\",\n            scopedSlots: { customRender: \"index\" },\n            align: \"center\",\n            width: \"20%\",\n          },\n          {\n            type: \"input\",\n            title: vm.$t(\"HttpCommand\"),\n            dataIndex: \"command\",\n            scopedSlots: { customRender: \"command\" },\n            align: \"center\",\n            width: \"60%\",\n            maxLength: 1024,\n            addOnBefore: \"http://\",\n          },\n          {\n            type: \"select\",\n            title: vm.$t(\"SendHttp\"),\n            dataIndex: \"enable\",\n            scopedSlots: { customRender: \"enable\" },\n            align: \"center\",\n            width: \"20%\",\n            selectItems: [\n              { key: 0, label: vm.$t(\"Disabled\") },\n              { key: 1, label: vm.$t(\"Enabled\") },\n            ],\n          },\n        ],\n        tableData: tableData,\n      },\n    ],\n  };\n  return content;\n}\n</script>"]}]}