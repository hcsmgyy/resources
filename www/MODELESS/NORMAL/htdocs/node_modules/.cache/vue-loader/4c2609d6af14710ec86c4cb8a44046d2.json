{"remainingRequest":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\components\\CommonTransfer.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\components\\CommonTransfer.vue","mtime":1624613275268},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632654448000},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\babel-loader\\lib\\index.js","mtime":1632654448000},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632654448000},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js","mtime":1624613274496}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUG9wb3ZlciBmcm9tICJAL2NvbXBvbmVudHMvUG9wb3Zlci52dWUiOw0KaW1wb3J0IHsgZGVlcENsb25lIH0gZnJvbSAiQC9qcy9jb21tb24uanMiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgUG9wb3ZlciwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBtb2NrRGF0YTogQXJyYXksDQogICAgdGFyZ2V0S2V5czogQXJyYXksDQogICAgc2VsZWN0ZWRLZXlzOiBBcnJheSwNCiAgICBzb3VyY2VUaXRsZTogU3RyaW5nLA0KICAgIHRhcmdldFRpdGxlOiBTdHJpbmcsDQogICAgZGlzYWJsZWQ6IGZhbHNlLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBtb2NrVmFsdWU6IHRoaXMubW9ja0RhdGEsDQogICAgICB0YXJnZXRLZXlWYWx1ZTogdGhpcy50YXJnZXRLZXlzLA0KICAgICAgc291cmNlU2VsZWN0VmFsdWU6IHRoaXMuc2VsZWN0ZWRLZXlzLA0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kbGVDaGFuZ2UobmV4dFRhcmdldEtleXMsIGRpcmVjdGlvbiwgbW92ZUtleXMpIHsNCiAgICAgIHRoaXMudGFyZ2V0S2V5VmFsdWUgPSBuZXh0VGFyZ2V0S2V5czsNCiAgICAgIHRoaXMub25DaGFuZ2UodGhpcy50YXJnZXRLZXlWYWx1ZSk7DQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3RDaGFuZ2Uoc291cmNlU2VsZWN0ZWRLZXlzLCB0YXJnZXRTZWxlY3RlZEtleXMpIHsNCiAgICAgIHRoaXMuc291cmNlU2VsZWN0VmFsdWUgPSBbLi4uc291cmNlU2VsZWN0ZWRLZXlzLCAuLi50YXJnZXRTZWxlY3RlZEtleXNdOw0KICAgICAgdGhpcy4kZW1pdCgic2VsZWN0Q2hhbmdlIiwgdGhpcy5zb3VyY2VTZWxlY3RWYWx1ZSk7DQogICAgfSwNCiAgICBJdGVtVXAoKSB7DQogICAgICBsZXQgZGVlcENsb25lVGFyZ2V0ID0gZGVlcENsb25lKHRoaXMudGFyZ2V0S2V5cyk7DQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZXBDbG9uZVRhcmdldC5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAodGhpcy5zb3VyY2VTZWxlY3RWYWx1ZS5pbmNsdWRlcyhkZWVwQ2xvbmVUYXJnZXRbaV0pICYmIGkgIT0gMCkgew0KICAgICAgICAgIHZhciB0bXB0YXJnZXRWYWx1ZSA9IGRlZXBDbG9uZVRhcmdldFtpXTsNCiAgICAgICAgICBkZWVwQ2xvbmVUYXJnZXRbaV0gPSBkZWVwQ2xvbmVUYXJnZXRbaSAtIDFdOw0KICAgICAgICAgIGRlZXBDbG9uZVRhcmdldFtpIC0gMV0gPSB0bXB0YXJnZXRWYWx1ZTsNCiAgICAgICAgICBicmVhazsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5vbkNoYW5nZShkZWVwQ2xvbmVUYXJnZXQpOw0KICAgIH0sDQogICAgSXRlbURvd24oKSB7DQogICAgICBsZXQgZGVlcENsb25lVGFyZ2V0ID0gZGVlcENsb25lKHRoaXMudGFyZ2V0S2V5cyk7DQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlZXBDbG9uZVRhcmdldC5sZW5ndGg7IGkrKykgew0KICAgICAgICBpZiAoDQogICAgICAgICAgdGhpcy5zb3VyY2VTZWxlY3RWYWx1ZS5pbmNsdWRlcyhkZWVwQ2xvbmVUYXJnZXRbaV0pICYmDQogICAgICAgICAgaSAhPSBkZWVwQ2xvbmVUYXJnZXQubGVuZ3RoIC0gMQ0KICAgICAgICApIHsNCiAgICAgICAgICB2YXIgdG1wdGFyZ2V0VmFsdWUgPSBkZWVwQ2xvbmVUYXJnZXRbaV07DQogICAgICAgICAgZGVlcENsb25lVGFyZ2V0W2ldID0gZGVlcENsb25lVGFyZ2V0W2kgKyAxXTsNCiAgICAgICAgICBkZWVwQ2xvbmVUYXJnZXRbaSArIDFdID0gdG1wdGFyZ2V0VmFsdWU7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMub25DaGFuZ2UoZGVlcENsb25lVGFyZ2V0KTsNCiAgICB9LA0KICAgIG9uQ2hhbmdlOiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZSIsIHZhbHVlKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["CommonTransfer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CommonTransfer.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"ak-common-transfer-div\">\r\n    <a-transfer\r\n      :data-source=\"mockData\"\r\n      :titles=\"[sourceTitle, targetTitle]\"\r\n      :target-keys=\"targetKeys\"\r\n      :selected-keys=\"selectedKeys\"\r\n      :render=\"item => item.title\"\r\n      :showSelectAll=\"false\"\r\n      @change=\"handleChange\"\r\n      @selectChange=\"handleSelectChange\"\r\n    />\r\n    <div class=\"ak-common-transfer-button\">\r\n      <a-button\r\n        class=\"ak-common-transfer-button-up\"\r\n        type=\"primary\"\r\n        icon=\"up\"\r\n        @click=\"ItemUp()\"\r\n        size=\"small\"\r\n      />\r\n      <a-button\r\n        class=\"ak-common-transfer-button-dowm\"\r\n        type=\"primary\"\r\n        icon=\"down\"\r\n        @click=\"ItemDown()\"\r\n        size=\"small\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Popover from \"@/components/Popover.vue\";\r\nimport { deepClone } from \"@/js/common.js\";\r\nexport default {\r\n  components: {\r\n    Popover,\r\n  },\r\n  props: {\r\n    mockData: Array,\r\n    targetKeys: Array,\r\n    selectedKeys: Array,\r\n    sourceTitle: String,\r\n    targetTitle: String,\r\n    disabled: false,\r\n  },\r\n  data() {\r\n    return {\r\n      mockValue: this.mockData,\r\n      targetKeyValue: this.targetKeys,\r\n      sourceSelectValue: this.selectedKeys,\r\n    };\r\n  },\r\n  methods: {\r\n    handleChange(nextTargetKeys, direction, moveKeys) {\r\n      this.targetKeyValue = nextTargetKeys;\r\n      this.onChange(this.targetKeyValue);\r\n    },\r\n    handleSelectChange(sourceSelectedKeys, targetSelectedKeys) {\r\n      this.sourceSelectValue = [...sourceSelectedKeys, ...targetSelectedKeys];\r\n      this.$emit(\"selectChange\", this.sourceSelectValue);\r\n    },\r\n    ItemUp() {\r\n      let deepCloneTarget = deepClone(this.targetKeys);\r\n      for (var i = 0; i < deepCloneTarget.length; i++) {\r\n        if (this.sourceSelectValue.includes(deepCloneTarget[i]) && i != 0) {\r\n          var tmptargetValue = deepCloneTarget[i];\r\n          deepCloneTarget[i] = deepCloneTarget[i - 1];\r\n          deepCloneTarget[i - 1] = tmptargetValue;\r\n          break;\r\n        }\r\n      }\r\n      this.onChange(deepCloneTarget);\r\n    },\r\n    ItemDown() {\r\n      let deepCloneTarget = deepClone(this.targetKeys);\r\n      for (var i = 0; i < deepCloneTarget.length; i++) {\r\n        if (\r\n          this.sourceSelectValue.includes(deepCloneTarget[i]) &&\r\n          i != deepCloneTarget.length - 1\r\n        ) {\r\n          var tmptargetValue = deepCloneTarget[i];\r\n          deepCloneTarget[i] = deepCloneTarget[i + 1];\r\n          deepCloneTarget[i + 1] = tmptargetValue;\r\n          break;\r\n        }\r\n      }\r\n      this.onChange(deepCloneTarget);\r\n    },\r\n    onChange: function (value) {\r\n      this.$emit(\"change\", value);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.ak-common-transfer-div {\r\n  padding-left: 434px;\r\n  font-size: 16px;\r\n  margin-top: 22px;\r\n  display: flex;\r\n}\r\n/deep/.ant-transfer-list-header {\r\n  background: #e6f3fe;\r\n}\r\n\r\n.ak-common-transfer-button {\r\n  margin-top: 74px;\r\n  height: 200px;\r\n  width: 30px;\r\n  margin-left: 40px;\r\n}\r\n\r\n.ak-common-transfer-button-up {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n/deep/.ant-transfer-list {\r\n  width: 260px;\r\n}\r\n\r\n/deep/.ant-transfer-operation {\r\n  margin: 0 40px;\r\n}\r\n</style>"]}]}