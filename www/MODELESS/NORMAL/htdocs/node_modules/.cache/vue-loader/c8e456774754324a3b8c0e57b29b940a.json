{"remainingRequest":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\PhoneAudio.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\src\\views\\PhoneAudio.vue","mtime":1624613275298},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632654448000},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\babel-loader\\lib\\index.js","mtime":1632654448000},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632654448000},{"path":"E:\\code\\resources\\www\\MODELESS\\NORMAL\\htdocs\\node_modules\\vue-loader\\lib\\index.js","mtime":1624613274496}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgQ29tbW9uUGFnZSBmcm9tICJAL2NvbXBvbmVudHMvQ29tbW9uUGFnZS52dWUiOw0KaW1wb3J0IHsNCiAgc2hvd1JlcXVlc3RTdWNjZXNzLA0KICBkZWVwQ2xvbmUsDQogIGNoZWNrUmFuZ2VPZk51bWJlciwNCiAgY2hlY2tGaWxlRm9ybWF0LA0KICBzaG93RXJyb3JJbmZvLA0KfSBmcm9tICJAL2pzL2NvbW1vbi5qcyI7DQppbXBvcnQgeyBnZXRJdGVtQnlLZXkgfSBmcm9tICIuLi9qcy9jb21tb24iOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBDb21tb25QYWdlLA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkb29yYmVsbEZpbGVJdGVtczogW10sDQogICAgICBhbGFybVJpbmd0b25lRmlsZUl0ZW1zOiBbXSwNCiAgICAgIGNoYW5nZWRDZmdEYXRhOiB7fSwNCiAgICAgIHN1Ym1pdENmZ0RhdGE6IHt9LA0KICAgICAgYXBpRGF0YToge30sDQogICAgICBkYXRhOiB7DQogICAgICAgIGdldERhdGFTdWNjZXNzOiBmYWxzZSwNCiAgICAgIH0sDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICBnZXREYXRhKHRoaXMpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgb25Db21tb25QYWdlRGF0YUNoYW5nZTogZnVuY3Rpb24gKGV2ZW50KSB7DQogICAgICBzZXRDaGFuZ2VkRGF0YSh0aGlzLCBldmVudCk7DQogICAgICAvL+eVjOmdouWPmOWMlg0KICAgICAgaGFuZGxlclBhZ2VDaGFuZ2VkKHRoaXMpOw0KICAgIH0sDQogIH0sDQp9Ow0KDQpmdW5jdGlvbiBoYW5kbGVyUGFnZUNoYW5nZWQodm0pIHsNCiAgbGV0IGFsYXJtUmluZ3RvbmVGaWxlSXRlbSA9IGdldEl0ZW1CeUtleSgNCiAgICB2bS5kYXRhLA0KICAgICJhbGFybVJpbmd0b25lVXBsb2FkIiwNCiAgICAiQ29uZmlnLkhvbWVTZWN1cml0eTAuQ29tbW9uVmFsdWUuQWxhcm1SaW5nVG9uZSINCiAgKTsNCiAgYWxhcm1SaW5ndG9uZUZpbGVJdGVtLmRlbERpc2FibGVkID0NCiAgICBhbGFybVJpbmd0b25lRmlsZUl0ZW0udmFsdWUgPT0gdm0uYXBpRGF0YS5kYXRhLmRlZmF1bHRBbGFybVJpbmd0b25lOw0KfQ0KDQpmdW5jdGlvbiBzZXRDaGFuZ2VkRGF0YSh2bSwgZXZlbnQpIHsNCiAgaWYgKA0KICAgIGV2ZW50LmNvbnRlbnRLZXkgPT0gInZvbHVtZUNvbnRyb2wiIHx8DQogICAgKGV2ZW50LmNvbnRlbnRLZXkgPT0gImFsYXJtUmluZ3RvbmVVcGxvYWQiICYmDQogICAgICBldmVudC5pdGVtS2V5ID09ICJDb25maWcuSG9tZVNlY3VyaXR5MC5Db21tb25WYWx1ZS5BbGFybVJpbmdUb25lIikNCiAgKSB7DQogICAgdm0uY2hhbmdlZENmZ0RhdGFbZXZlbnQuaXRlbUtleV0gPSBldmVudC5uZXdWYWw7DQogIH0NCn0NCg0KZnVuY3Rpb24gY2hlY2tDb21taXREYXRhKHZtKSB7DQogIHJldHVybiBjaGVja1ZvbHVtZUNvbnRyb2xEYXRhKHZtKTsNCn0NCg0KZnVuY3Rpb24gY2hlY2tWb2x1bWVDb250cm9sRGF0YSh2bSkgew0KICBsZXQgc3VjY2VzcyA9IHRydWU7DQogIGlmICgNCiAgICAhY2hlY2tSYW5nZU9mTnVtYmVyKA0KICAgICAgdm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5IQU5ERlJFRS5NaWNNaWRWYWx1ZSJdLA0KICAgICAgMSwNCiAgICAgIDE1DQogICAgKQ0KICApIHsNCiAgICBnZXRJdGVtQnlLZXkoDQogICAgICB2bS5kYXRhLA0KICAgICAgInZvbHVtZUNvbnRyb2wiLA0KICAgICAgIkNvbmZpZy5TZXR0aW5ncy5IQU5ERlJFRS5NaWNNaWRWYWx1ZSINCiAgICApLmlzV2FybiA9IHRydWU7DQogICAgc3VjY2VzcyA9IGZhbHNlOw0KICB9DQoNCiAgaWYgKA0KICAgICFjaGVja1JhbmdlT2ZOdW1iZXIoDQogICAgICB2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLlNldHRpbmdzLkFVRElPLlJpbmdWb2wiXSwNCiAgICAgIDAsDQogICAgICAxNQ0KICAgICkNCiAgKSB7DQogICAgZ2V0SXRlbUJ5S2V5KA0KICAgICAgdm0uZGF0YSwNCiAgICAgICJ2b2x1bWVDb250cm9sIiwNCiAgICAgICJDb25maWcuU2V0dGluZ3MuQVVESU8uUmluZ1ZvbCINCiAgICApLmlzV2FybiA9IHRydWU7DQogICAgc3VjY2VzcyA9IGZhbHNlOw0KICB9DQoNCiAgaWYgKA0KICAgICFjaGVja1JhbmdlT2ZOdW1iZXIoDQogICAgICB2bS5jaGFuZ2VkQ2ZnRGF0YVsiQ29uZmlnLlNldHRpbmdzLkhBTkRGUkVFLlNwa1ZvbCJdLA0KICAgICAgMSwNCiAgICAgIDE1DQogICAgKQ0KICApIHsNCiAgICBnZXRJdGVtQnlLZXkoDQogICAgICB2bS5kYXRhLA0KICAgICAgInZvbHVtZUNvbnRyb2wiLA0KICAgICAgIkNvbmZpZy5TZXR0aW5ncy5IQU5ERlJFRS5TcGtWb2wiDQogICAgKS5pc1dhcm4gPSB0cnVlOw0KICAgIHN1Y2Nlc3MgPSBmYWxzZTsNCiAgfQ0KDQogIGlmICgNCiAgICAhY2hlY2tSYW5nZU9mTnVtYmVyKA0KICAgICAgdm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5IQU5ERlJFRS5TaWdUb25lVm9sIl0sDQogICAgICAxLA0KICAgICAgMTUNCiAgICApDQogICkgew0KICAgIGdldEl0ZW1CeUtleSgNCiAgICAgIHZtLmRhdGEsDQogICAgICAidm9sdW1lQ29udHJvbCIsDQogICAgICAiQ29uZmlnLlNldHRpbmdzLkhBTkRGUkVFLlNpZ1RvbmVWb2wiDQogICAgKS5pc1dhcm4gPSB0cnVlOw0KICAgIHN1Y2Nlc3MgPSBmYWxzZTsNCiAgfQ0KDQogIGlmICgNCiAgICAhY2hlY2tSYW5nZU9mTnVtYmVyKA0KICAgICAgdm0uY2hhbmdlZENmZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5BVURJTy5NZWRpYVZvbHVtZSJdLA0KICAgICAgMCwNCiAgICAgIDE1DQogICAgKQ0KICApIHsNCiAgICBnZXRJdGVtQnlLZXkoDQogICAgICB2bS5kYXRhLA0KICAgICAgInZvbHVtZUNvbnRyb2wiLA0KICAgICAgIkNvbmZpZy5TZXR0aW5ncy5BVURJTy5NZWRpYVZvbHVtZSINCiAgICApLmlzV2FybiA9IHRydWU7DQogICAgc3VjY2VzcyA9IGZhbHNlOw0KICB9DQogIHJldHVybiBzdWNjZXNzOw0KfQ0KDQpmdW5jdGlvbiBzdWJtaXREYXRhKHZtKSB7DQogIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IHRydWU7DQoNCiAgbGV0IHJlcXVlc3REYXRhID0gew0KICAgIHRhcmdldDogInBob25lQXVkaW8iLA0KICAgIGFjdGlvbjogInNldCIsDQogICAgY29uZmlnRGF0YTogdm0uc3VibWl0Q2ZnRGF0YSwNCiAgfTsNCiAgdm0uJGF4aW9zLnBvc3QoImFwaSIsIHJlcXVlc3REYXRhKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgIGlmICgidW5kZWZpbmVkIiAhPSB0eXBlb2YgcmVzcG9uc2UpIHsNCiAgICAgIHNob3dSZXF1ZXN0U3VjY2Vzcyh2bSk7DQogICAgfQ0KICAgIHZtLmRhdGEuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICB9KTsNCn0NCg0KZnVuY3Rpb24gZ2V0RGF0YSh2bSkgew0KICB2bS4kYXhpb3MuZ2V0KCJhcGkvcGhvbmVBdWRpby9pbmZvIikudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICB2bS5nZXREYXRhU3VjY2VzcyA9IHRydWU7DQogICAgdm0uYXBpRGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgdm0uY2hhbmdlZENmZ0RhdGEgPSBkZWVwQ2xvbmUocmVzcG9uc2UuZGF0YS5jb25maWdEYXRhKTsNCiAgICBjcmVhdGVQYWdlRGF0YSh2bSk7DQogICAgaGFuZGxlclBhZ2VDaGFuZ2VkKHZtKTsNCiAgfSk7DQp9DQoNCmZ1bmN0aW9uIGdldENvbW1pdERhdGEodm0pIHsNCiAgdm0uc3VibWl0Q2ZnRGF0YSA9IHt9Ow0KICBmb3IgKHZhciBjaGFuZ2VkS2V5IGluIHZtLmNoYW5nZWRDZmdEYXRhKSB7DQogICAgaWYgKHZtLmFwaURhdGEuY29uZmlnRGF0YVtjaGFuZ2VkS2V5XSAhPSB2bS5jaGFuZ2VkQ2ZnRGF0YVtjaGFuZ2VkS2V5XSkgew0KICAgICAgdm0uc3VibWl0Q2ZnRGF0YVtjaGFuZ2VkS2V5XSA9IHZtLmNoYW5nZWRDZmdEYXRhW2NoYW5nZWRLZXldOw0KICAgIH0NCiAgfQ0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVTZWxlY3RJdGVtcyh2bSkgew0KICAvL2Rvb3JiZWxsDQogIHZtLmRvb3JiZWxsRmlsZUl0ZW1zID0gW107DQogIGxldCBkb29yYmVsbEZpbGVzID0gdm0uYXBpRGF0YS5kYXRhLmRvb3JiZWxsRmlsZS5zcGxpdCgiXG4iKTsNCiAgZm9yIChsZXQgaSA9IDA7IGkgPCBkb29yYmVsbEZpbGVzLmxlbmd0aDsgaSsrKSB7DQogICAgaWYgKGRvb3JiZWxsRmlsZXNbaV0gIT0gIiIgJiYgDQogICAgICAoY2hlY2tGaWxlRm9ybWF0KGRvb3JiZWxsRmlsZXNbaV0sICIuV0FWIiwgNCkgfHwNCiAgICAgICAgICBjaGVja0ZpbGVGb3JtYXQoZG9vcmJlbGxGaWxlc1tpXSwgIi5NUDMiLCA0KSkpIHsNCiAgICAgIGxldCBpdGVtID0gew0KICAgICAgICBrZXk6IGRvb3JiZWxsRmlsZXNbaV0sDQogICAgICAgIGxhYmVsOiBkb29yYmVsbEZpbGVzW2ldLA0KICAgICAgfTsNCiAgICAgIHZtLmRvb3JiZWxsRmlsZUl0ZW1zLnB1c2goaXRlbSk7DQogICAgfQ0KICB9DQogIC8vYWxhcm0gcmluZ3RvbmUNCiAgdm0uYWxhcm1SaW5ndG9uZUZpbGVJdGVtcyA9IFtdOw0KICBsZXQgaXRlbSA9IHsNCiAgICBrZXk6IHZtLmFwaURhdGEuZGF0YS5kZWZhdWx0QWxhcm1SaW5ndG9uZSwNCiAgICBsYWJlbDogImRlZmF1bHQud2F2IiwNCiAgfTsNCiAgdm0uYWxhcm1SaW5ndG9uZUZpbGVJdGVtcy5wdXNoKGl0ZW0pOw0KICBsZXQgYWxhcm1SaW5ndG9uZUZpbGVzID0gdm0uYXBpRGF0YS5kYXRhLmFsYXJtUmluZ3RvbmVGaWxlLnNwbGl0KCJcbiIpOw0KICBmb3IgKGxldCBpID0gMDsgaSA8IGFsYXJtUmluZ3RvbmVGaWxlcy5sZW5ndGg7IGkrKykgew0KICAgIGlmIChhbGFybVJpbmd0b25lRmlsZXNbaV0gIT0gIiIgJiYgDQogICAgICAoY2hlY2tGaWxlRm9ybWF0KGFsYXJtUmluZ3RvbmVGaWxlc1tpXSwgIi5XQVYiLCA0KSB8fA0KICAgICAgICAgIGNoZWNrRmlsZUZvcm1hdChhbGFybVJpbmd0b25lRmlsZXNbaV0sICIuTVAzIiwgNCkpKSB7DQogICAgICBsZXQgaXRlbSA9IHsNCiAgICAgICAga2V5OiB2bS5hcGlEYXRhLmRhdGEuYWxhcm1SaW5ndG9uZVBhdGggKyBhbGFybVJpbmd0b25lRmlsZXNbaV0sDQogICAgICAgIGxhYmVsOiBhbGFybVJpbmd0b25lRmlsZXNbaV0sDQogICAgICB9Ow0KICAgICAgdm0uYWxhcm1SaW5ndG9uZUZpbGVJdGVtcy5wdXNoKGl0ZW0pOw0KICAgIH0NCiAgfQ0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVQYWdlRGF0YSh2bSkgew0KICB2bS5kYXRhID0gew0KICAgIGdldERhdGFTdWNjZXNzOiB0cnVlLA0KICAgIGJyZWFkQ3J1bWI6IHsNCiAgICAgIGZpcnN0VGl0bGU6IHZtLiR0KCJQaG9uZSIpLA0KICAgICAgc2Vjb25kVGl0bGU6IHZtLiR0KCJBdWRpbyIpLA0KICAgIH0sDQogICAgb25TdWJtaXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGlmICghY2hlY2tDb21taXREYXRhKHZtKSkgew0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICBnZXRDb21taXREYXRhKHZtKTsNCiAgICAgIHN1Ym1pdERhdGEodm0pOw0KICAgIH0sDQogICAgb25DYW5jZWw6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHZtLmRhdGEuY2FuY2VsTG9hZGluZyA9IHRydWU7DQogICAgICBnZXREYXRhKHZtKTsNCiAgICB9LA0KICAgIHN1Ym1pdExvYWRpbmc6IGZhbHNlLA0KICAgIGNhbmNlbExvYWRpbmc6IGZhbHNlLA0KICAgIGNvbnRlbnRzOiBbXSwNCiAgfTsNCg0KICBjcmVhdGVTZWxlY3RJdGVtcyh2bSk7DQoNCiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZVZvbHVtZUNvbnRlbnQodm0pKTsNCiAgdm0uZGF0YS5jb250ZW50cy5wdXNoKGNyZWF0ZURvb3JiZWxsQ29udGVudCh2bSkpOw0KICB2bS5kYXRhLmNvbnRlbnRzLnB1c2goY3JlYXRlQWxhcm1SaW5ndG9uZUNvbnRlbnQodm0pKTsgDQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZUFsYXJtUmluZ3RvbmVDb250ZW50KHZtKSB7DQogIGxldCBjb250ZW50ID0gew0KICAgIGtleTogImFsYXJtUmluZ3RvbmVVcGxvYWQiLA0KICAgIHRpdGxlOiB2bS4kdCgiQWxhcm1SaW5nVG9uZVVwbG9hZCIpLA0KICAgIHRpdGxlRGVzY3JpcHRpb246IHZtLiR0KCJBbGFybVJpbmdEZXNjIiksDQogICAgaXRlbXM6IFsNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJBbGFybVJpbmdUb25lVXBsb2FkIiksDQogICAgICAgIHR5cGU6ICJmaWxlLWlucHV0IiwNCiAgICAgICAga2V5OiAiYWxhcm1SaW5ndG9uZVVwbG9hZCIsDQogICAgICAgIGFjY2VwdEZpbGVUeXBlOiAiLndhdiwubXAzIiwNCiAgICAgICAgbW9kYWxUaXRsZTogdm0uJHQoIkZpbGVMYWJlbCIpICsgIiAoLndhdi8ubXAzKSIsDQogICAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgICB2YWx1ZTogew0KICAgICAgICAgIGZpbGVEYXRhOiB7fSwNCiAgICAgICAgICBmaWxlTmFtZTogdm0uJHQoIlVwZ3JhZGVGaWxlUGF0aCIpLA0KICAgICAgICB9LA0KICAgICAgICBpbXBvcnRCdG5OYW1lOiB2bS4kdCgiSW1wb3J0IiksDQogICAgICAgIG1vZGFsQ29uZmlybU5hbWU6IHZtLiR0KCJVcGxvYWQiKSwNCiAgICAgICAgdXBsb2FkRnVuY3Rpb246IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICB1cGxvYWRTb3VuZEZpbGUodm0sICJhbGFybVJpbmd0b25lVXBsb2FkIiwgImFsYXJtUmluZ3RvbmVVcGxvYWQiKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJBbGFybVJpbmdUb25lVXBsb2FkRGVzYyIpLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJBbGFybVJpbmdUb25lIiksDQogICAgICAgIHR5cGU6ICJzZWxlY3QiLA0KICAgICAgICBrZXk6ICJDb25maWcuSG9tZVNlY3VyaXR5MC5Db21tb25WYWx1ZS5BbGFybVJpbmdUb25lIiwNCiAgICAgICAgdmFsdWU6DQogICAgICAgICAgdm0uYXBpRGF0YS5jb25maWdEYXRhWw0KICAgICAgICAgICAgIkNvbmZpZy5Ib21lU2VjdXJpdHkwLkNvbW1vblZhbHVlLkFsYXJtUmluZ1RvbmUiDQogICAgICAgICAgXSwNCiAgICAgICAgc2VsZWN0SXRlbXM6IHZtLmFsYXJtUmluZ3RvbmVGaWxlSXRlbXMsDQogICAgICAgIHNob3dCdG46IHRydWUsDQogICAgICAgIG9uRGVsOiBmdW5jdGlvbiAodmFsdWUpIHsNCiAgICAgICAgICBvbkRlbEZpbGUodm0sIHZhbHVlLCAiYWxhcm1SaW5ndG9uZVVwbG9hZCIsICJhbGFybVJpbmd0b25lRmlsZSIpOw0KICAgICAgICB9LA0KICAgICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgZGVsRGlzYWJsZWQ6IGZhbHNlLA0KICAgICAgICBkZXNjcmlwdGlvbjogdm0uJHQoIkFsYXJtUmluZ1RvbmVEZXNjIiksDQogICAgICB9LA0KICAgIF0sDQogIH07DQogIHJldHVybiBjb250ZW50Ow0KfQ0KDQpmdW5jdGlvbiBjcmVhdGVEb29yYmVsbENvbnRlbnQodm0pIHsNCiAgbGV0IGNvbnRlbnQgPSB7DQogICAga2V5OiAiZG9vcmJlbGxTb3VuZFVwbG9hZCIsDQogICAgdGl0bGU6IHZtLiR0KCJEb29yYmVsbFNvdW5kVXBsb2FkIiksDQogICAgdGl0bGVEZXNjcmlwdGlvbjogdm0uJHQoIkRvb3JiZWxsRGVzYyIpLA0KICAgIGl0ZW1zOiBbDQogICAgICB7DQogICAgICAgIHRpdGxlOiB2bS4kdCgiRG9vcmJlbGxTb3VuZFVwbG9hZCIpLA0KICAgICAgICB0eXBlOiAiZmlsZS1pbnB1dCIsDQogICAgICAgIGtleTogImRvb3JiZWxsVXBsb2FkIiwNCiAgICAgICAgYWNjZXB0RmlsZVR5cGU6ICIud2F2LC5tcDMiLA0KICAgICAgICBtb2RhbFRpdGxlOiB2bS4kdCgiRmlsZUxhYmVsIikgKyAiICgud2F2Ly5tcDMpIiwNCiAgICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICAgIHZhbHVlOiB7DQogICAgICAgICAgZmlsZURhdGE6IHt9LA0KICAgICAgICAgIGZpbGVOYW1lOiB2bS4kdCgiVXBncmFkZUZpbGVQYXRoIiksDQogICAgICAgIH0sDQogICAgICAgIGltcG9ydEJ0bk5hbWU6IHZtLiR0KCJJbXBvcnQiKSwNCiAgICAgICAgbW9kYWxDb25maXJtTmFtZTogdm0uJHQoIlVwbG9hZCIpLA0KICAgICAgICB1cGxvYWRGdW5jdGlvbjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgIHVwbG9hZFNvdW5kRmlsZSh2bSwgImRvb3JiZWxsU291bmRVcGxvYWQiLCAiZG9vcmJlbGxVcGxvYWQiKTsNCiAgICAgICAgfSwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJEb29yYmVsbFNvdW5kVXBsb2FkRGVzYyIpLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJEb29yYmVsbFNvdW5kIiksDQogICAgICAgIHR5cGU6ICJzZWxlY3QiLA0KICAgICAgICBrZXk6ICJkb29yYmVsbFNvdW5kRmlsZSIsDQogICAgICAgIHZhbHVlOg0KICAgICAgICAgIHZtLmRvb3JiZWxsRmlsZUl0ZW1zLmxlbmd0aCA9PSAwID8gIiIgOiB2bS5kb29yYmVsbEZpbGVJdGVtc1swXS5rZXksDQogICAgICAgIHNlbGVjdEl0ZW1zOiB2bS5kb29yYmVsbEZpbGVJdGVtcywNCiAgICAgICAgc2hvd0J0bjogdHJ1ZSwNCiAgICAgICAgb25EZWw6IGZ1bmN0aW9uICh2YWx1ZSkgew0KICAgICAgICAgIG9uRGVsRmlsZSh2bSwgdmFsdWUsICJkb29yYmVsbFNvdW5kVXBsb2FkIiwgImRvb3JiZWxsU291bmRGaWxlIik7DQogICAgICAgIH0sDQogICAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgICBkZWxEaXNhYmxlZDogdm0uZG9vcmJlbGxGaWxlSXRlbXMubGVuZ3RoID09IDAsDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiRG9vcmJlbGxTb3VuZERlc2MiKSwNCiAgICAgIH0sDQogICAgXSwNCiAgfTsNCiAgcmV0dXJuIGNvbnRlbnQ7DQp9DQoNCmZ1bmN0aW9uIGNyZWF0ZVZvbHVtZUNvbnRlbnQodm0pIHsNCiAgbGV0IGNvbnRlbnQgPSB7DQogICAga2V5OiAidm9sdW1lQ29udHJvbCIsDQogICAgdGl0bGU6IHZtLiR0KCJWb2x1bWVDb250cm9sIiksDQogICAgdGl0bGVEZXNjcmlwdGlvbjogdm0uJHQoIlZvbHVtZUNvbnRyb2xEZXNjIiksDQogICAgaXRlbXM6IFsNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJNaWNWb2x1bWUiKSwNCiAgICAgICAgdHlwZTogImlucHV0IiwNCiAgICAgICAga2V5OiAiQ29uZmlnLlNldHRpbmdzLkhBTkRGUkVFLk1pY01pZFZhbHVlIiwNCiAgICAgICAgdmFsdWU6IHZtLmFwaURhdGEuY29uZmlnRGF0YVsiQ29uZmlnLlNldHRpbmdzLkhBTkRGUkVFLk1pY01pZFZhbHVlIl0sDQogICAgICAgIHNob3dIaW50OiB0cnVlLA0KICAgICAgICBoaW50Q29udGVudDogIigxfjE1KSIsDQogICAgICAgIGlzV2FybjogZmFsc2UsDQogICAgICAgIHdhcm5MYWJlbDogdm0uJHQoIk1pY1ZvbHVtZVJhbmdlRXJyb3IiKSwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJNaWNWb2x1bWVEZXNjIiksDQogICAgICB9LA0KICAgICAgew0KICAgICAgICB0aXRsZTogdm0uJHQoIlJpbmdWb2x1bWUiKSwNCiAgICAgICAgdHlwZTogImlucHV0IiwNCiAgICAgICAga2V5OiAiQ29uZmlnLlNldHRpbmdzLkFVRElPLlJpbmdWb2wiLA0KICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuQVVESU8uUmluZ1ZvbCJdLA0KICAgICAgICBzaG93SGludDogdHJ1ZSwNCiAgICAgICAgaGludENvbnRlbnQ6ICIoMH4xNSkiLA0KICAgICAgICBpc1dhcm46IGZhbHNlLA0KICAgICAgICB3YXJuTGFiZWw6IHZtLiR0KCJSaW5nVm9sdW1lUmFuZ2VyRXJyb3IiKSwNCiAgICAgICAgZGVzY3JpcHRpb246IHZtLiR0KCJSaW5nVm9sdW1lRGVzYyIpLA0KICAgICAgfSwNCiAgICAgIHsNCiAgICAgICAgdGl0bGU6IHZtLiR0KCJUYWxrVm9sdW1lIiksDQogICAgICAgIHR5cGU6ICJpbnB1dCIsDQogICAgICAgIGtleTogIkNvbmZpZy5TZXR0aW5ncy5IQU5ERlJFRS5TcGtWb2wiLA0KICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuSEFOREZSRUUuU3BrVm9sIl0sDQogICAgICAgIHNob3dIaW50OiB0cnVlLA0KICAgICAgICBoaW50Q29udGVudDogIigxfjE1KSIsDQogICAgICAgIGlzV2FybjogZmFsc2UsDQogICAgICAgIHdhcm5MYWJlbDogdm0uJHQoIlRhbGtWb2x1bWVSYW5nZUVycm9yIiksDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiVGFsa1ZvbHVtZURlc2MiKSwNCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHRpdGxlOiB2bS4kdCgiVG9uZVZvbHVtZSIpLA0KICAgICAgICB0eXBlOiAiaW5wdXQiLA0KICAgICAgICBrZXk6ICJDb25maWcuU2V0dGluZ3MuSEFOREZSRUUuU2lnVG9uZVZvbCIsDQogICAgICAgIHZhbHVlOiB2bS5hcGlEYXRhLmNvbmZpZ0RhdGFbIkNvbmZpZy5TZXR0aW5ncy5IQU5ERlJFRS5TaWdUb25lVm9sIl0sDQogICAgICAgIHNob3dIaW50OiB0cnVlLA0KICAgICAgICBoaW50Q29udGVudDogIigxfjE1KSIsDQogICAgICAgIGlzV2FybjogZmFsc2UsDQogICAgICAgIHdhcm5MYWJlbDogdm0uJHQoIlRvbmVWb2x1bWVSYW5nZUVycm9yIiksDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiVG9uZVZvbHVtZURlc2MiKSwNCiAgICAgIH0sDQogICAgICB7DQogICAgICAgIHRpdGxlOiB2bS4kdCgiTWVkaWFWb2x1bWVMYWJlbCIpLA0KICAgICAgICB0eXBlOiAiaW5wdXQiLA0KICAgICAgICBrZXk6ICJDb25maWcuU2V0dGluZ3MuQVVESU8uTWVkaWFWb2x1bWUiLA0KICAgICAgICB2YWx1ZTogdm0uYXBpRGF0YS5jb25maWdEYXRhWyJDb25maWcuU2V0dGluZ3MuQVVESU8uTWVkaWFWb2x1bWUiXSwNCiAgICAgICAgc2hvd0hpbnQ6IHRydWUsDQogICAgICAgIGhpbnRDb250ZW50OiAiKDB+MTUpIiwNCiAgICAgICAgaXNXYXJuOiBmYWxzZSwNCiAgICAgICAgd2FybkxhYmVsOiB2bS4kdCgiTWVkaWFWb2x1bWVSYW5nZUVycm9yIiksDQogICAgICAgIGRlc2NyaXB0aW9uOiB2bS4kdCgiTWVkaWFWb2x1bWVEZXNjIiksDQogICAgICB9LA0KICAgIF0sDQogIH07DQogIHJldHVybiBjb250ZW50Ow0KfQ0KDQpmdW5jdGlvbiB1cGxvYWRTb3VuZEZpbGUodm0sIGNvbnRlbnRLZXksIGl0ZW1LZXkpIHsNCiAgbGV0IGl0ZW0gPSBnZXRJdGVtQnlLZXkodm0uZGF0YSwgY29udGVudEtleSwgaXRlbUtleSk7DQogIGxldCBmaWxlTmFtZSA9IGl0ZW0udmFsdWUuZmlsZU5hbWU7DQogIGlmIChmaWxlTmFtZSA9PSAiIiB8fCBmaWxlTmFtZSA9PSB2bS4kdCgiVXBncmFkZUZpbGVQYXRoIikpIHsNCiAgICBzaG93RXJyb3JJbmZvKHZtLCB2bS4kdCgiRmlsZUVtcHR5V2FybmluZyIpKTsNCiAgICByZXR1cm47DQogIH0NCiAgDQogIGxldCBjb21maXJtTGFiZWw7DQogIGlmKGl0ZW1LZXkgPT0gImRvb3JiZWxsVXBsb2FkIil7DQogICAgY29tZmlybUxhYmVsID0gdm0uJHQoIkltcG9ydERvb3JiZWxsU291bmRXYXJuaW5nIik7DQogIH0gZWxzZSB7DQogICAgY29tZmlybUxhYmVsID0gdm0uJHQoIkltcG9ydEFsYXJtUmluZ1RvbmVXYXJuaW5nIik7DQogIH0NCg0KICBpdGVtLnZpc2libGUgPSB0cnVlOw0KICBpZiAoY29uZmlybShjb21maXJtTGFiZWwpKSB7DQogICAgLy/kuIrkvKANCiAgICBpdGVtLmxvYWRpbmcgPSB0cnVlOw0KICAgIGNvbnN0IHVwRGF0YSA9IG5ldyBGb3JtRGF0YSgpOw0KICAgIHVwRGF0YS5hcHBlbmQoImZpbGUiLCBpdGVtLnZhbHVlLmZpbGVEYXRhKTsNCiAgICBheGlvcw0KICAgICAgLnBvc3QoImFwaS9waG9uZUF1ZGlvL3VwbG9hZD90eXBlPSIgKyBpdGVtS2V5LCB1cERhdGEsIHsNCiAgICAgICAgaGVhZGVyczogew0KICAgICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIsDQogICAgICAgIH0sDQogICAgICB9KQ0KICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICBpZiAocmVzLmRhdGEucmV0Y29kZSA9PSAtMSkgew0KICAgICAgICAgIHNob3dFcnJvckluZm8odm0sIHZtLiR0KCJGaWxlVXBsb2FkRmFpbGVkV2FybmluZyIpKTsNCiAgICAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yZXRjb2RlID09IDApIHsNCiAgICAgICAgICBnZXREYXRhKHZtKTsNCiAgICAgICAgICBzaG93UmVxdWVzdFN1Y2Nlc3Modm0sIHZtLiR0KCJVcGxvYWRGaWxlRmluaXNoZWQiKSk7DQogICAgICAgICAgaXRlbS52aXNpYmxlID0gZmFsc2U7DQogICAgICAgICAgaXRlbS52YWx1ZS5maWxlTmFtZSA9IHZtLiR0KCJVcGdyYWRlRmlsZVBhdGgiKTsNCiAgICAgICAgICBpdGVtLnZhbHVlLmZpbGVEYXRhID0ge307DQogICAgICAgIH0NCiAgICAgICAgaXRlbS5sb2FkaW5nID0gZmFsc2U7DQogICAgICB9KTsNCiAgfQ0KfQ0KDQpmdW5jdGlvbiBvbkRlbEZpbGUodm0sIHZhbHVlLCBjb250ZW50S2V5LCBpdGVtS2V5KSB7DQogIGxldCByZWFsSXRlbUtleSA9DQogICAgaXRlbUtleSA9PSAiYWxhcm1SaW5ndG9uZUZpbGUiDQogICAgICA/ICJDb25maWcuSG9tZVNlY3VyaXR5MC5Db21tb25WYWx1ZS5BbGFybVJpbmdUb25lIg0KICAgICAgOiBpdGVtS2V5Ow0KICBsZXQgcmVxdWVzdERhdGEgPSB7DQogICAgdGFyZ2V0OiAicGhvbmVBdWRpbyIsDQogICAgYWN0aW9uOiAiZGVsIiwNCiAgICBkYXRhOiB7DQogICAgICBmaWxlTmFtZTogdmFsdWUsDQogICAgICB0eXBlOiBpdGVtS2V5LA0KICAgIH0sDQogIH07DQogIGdldEl0ZW1CeUtleSh2bS5kYXRhLCBjb250ZW50S2V5LCByZWFsSXRlbUtleSkubG9hZGluZyA9IHRydWU7DQogIHZtLiRheGlvcy5wb3N0KCJhcGkiLCByZXF1ZXN0RGF0YSkudGhlbigocmVzcG9uc2UpID0+IHsgICAgDQogICAgZ2V0SXRlbUJ5S2V5KHZtLmRhdGEsIGNvbnRlbnRLZXksIHJlYWxJdGVtS2V5KS5sb2FkaW5nID0gZmFsc2U7DQogICAgZ2V0RGF0YSh2bSk7DQogICAgc2hvd1JlcXVlc3RTdWNjZXNzKHZtKTsNCiAgfSk7DQp9DQo="},{"version":3,"sources":["PhoneAudio.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PhoneAudio.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <CommonPage :data=\"data\" @onDataChange=\"onCommonPageDataChange($event)\"></CommonPage>\r\n</template>\r\n\r\n<script>\r\nimport CommonPage from \"@/components/CommonPage.vue\";\r\nimport {\r\n  showRequestSuccess,\r\n  deepClone,\r\n  checkRangeOfNumber,\r\n  checkFileFormat,\r\n  showErrorInfo,\r\n} from \"@/js/common.js\";\r\nimport { getItemByKey } from \"../js/common\";\r\n\r\nexport default {\r\n  components: {\r\n    CommonPage,\r\n  },\r\n  data() {\r\n    return {\r\n      doorbellFileItems: [],\r\n      alarmRingtoneFileItems: [],\r\n      changedCfgData: {},\r\n      submitCfgData: {},\r\n      apiData: {},\r\n      data: {\r\n        getDataSuccess: false,\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    getData(this);\r\n  },\r\n  methods: {\r\n    onCommonPageDataChange: function (event) {\r\n      setChangedData(this, event);\r\n      //界面变化\r\n      handlerPageChanged(this);\r\n    },\r\n  },\r\n};\r\n\r\nfunction handlerPageChanged(vm) {\r\n  let alarmRingtoneFileItem = getItemByKey(\r\n    vm.data,\r\n    \"alarmRingtoneUpload\",\r\n    \"Config.HomeSecurity0.CommonValue.AlarmRingTone\"\r\n  );\r\n  alarmRingtoneFileItem.delDisabled =\r\n    alarmRingtoneFileItem.value == vm.apiData.data.defaultAlarmRingtone;\r\n}\r\n\r\nfunction setChangedData(vm, event) {\r\n  if (\r\n    event.contentKey == \"volumeControl\" ||\r\n    (event.contentKey == \"alarmRingtoneUpload\" &&\r\n      event.itemKey == \"Config.HomeSecurity0.CommonValue.AlarmRingTone\")\r\n  ) {\r\n    vm.changedCfgData[event.itemKey] = event.newVal;\r\n  }\r\n}\r\n\r\nfunction checkCommitData(vm) {\r\n  return checkVolumeControlData(vm);\r\n}\r\n\r\nfunction checkVolumeControlData(vm) {\r\n  let success = true;\r\n  if (\r\n    !checkRangeOfNumber(\r\n      vm.changedCfgData[\"Config.Settings.HANDFREE.MicMidValue\"],\r\n      1,\r\n      15\r\n    )\r\n  ) {\r\n    getItemByKey(\r\n      vm.data,\r\n      \"volumeControl\",\r\n      \"Config.Settings.HANDFREE.MicMidValue\"\r\n    ).isWarn = true;\r\n    success = false;\r\n  }\r\n\r\n  if (\r\n    !checkRangeOfNumber(\r\n      vm.changedCfgData[\"Config.Settings.AUDIO.RingVol\"],\r\n      0,\r\n      15\r\n    )\r\n  ) {\r\n    getItemByKey(\r\n      vm.data,\r\n      \"volumeControl\",\r\n      \"Config.Settings.AUDIO.RingVol\"\r\n    ).isWarn = true;\r\n    success = false;\r\n  }\r\n\r\n  if (\r\n    !checkRangeOfNumber(\r\n      vm.changedCfgData[\"Config.Settings.HANDFREE.SpkVol\"],\r\n      1,\r\n      15\r\n    )\r\n  ) {\r\n    getItemByKey(\r\n      vm.data,\r\n      \"volumeControl\",\r\n      \"Config.Settings.HANDFREE.SpkVol\"\r\n    ).isWarn = true;\r\n    success = false;\r\n  }\r\n\r\n  if (\r\n    !checkRangeOfNumber(\r\n      vm.changedCfgData[\"Config.Settings.HANDFREE.SigToneVol\"],\r\n      1,\r\n      15\r\n    )\r\n  ) {\r\n    getItemByKey(\r\n      vm.data,\r\n      \"volumeControl\",\r\n      \"Config.Settings.HANDFREE.SigToneVol\"\r\n    ).isWarn = true;\r\n    success = false;\r\n  }\r\n\r\n  if (\r\n    !checkRangeOfNumber(\r\n      vm.changedCfgData[\"Config.Settings.AUDIO.MediaVolume\"],\r\n      0,\r\n      15\r\n    )\r\n  ) {\r\n    getItemByKey(\r\n      vm.data,\r\n      \"volumeControl\",\r\n      \"Config.Settings.AUDIO.MediaVolume\"\r\n    ).isWarn = true;\r\n    success = false;\r\n  }\r\n  return success;\r\n}\r\n\r\nfunction submitData(vm) {\r\n  vm.data.submitLoading = true;\r\n\r\n  let requestData = {\r\n    target: \"phoneAudio\",\r\n    action: \"set\",\r\n    configData: vm.submitCfgData,\r\n  };\r\n  vm.$axios.post(\"api\", requestData).then((response) => {\r\n    if (\"undefined\" != typeof response) {\r\n      showRequestSuccess(vm);\r\n    }\r\n    vm.data.submitLoading = false;\r\n  });\r\n}\r\n\r\nfunction getData(vm) {\r\n  vm.$axios.get(\"api/phoneAudio/info\").then((response) => {\r\n    vm.getDataSuccess = true;\r\n    vm.apiData = response.data;\r\n    vm.changedCfgData = deepClone(response.data.configData);\r\n    createPageData(vm);\r\n    handlerPageChanged(vm);\r\n  });\r\n}\r\n\r\nfunction getCommitData(vm) {\r\n  vm.submitCfgData = {};\r\n  for (var changedKey in vm.changedCfgData) {\r\n    if (vm.apiData.configData[changedKey] != vm.changedCfgData[changedKey]) {\r\n      vm.submitCfgData[changedKey] = vm.changedCfgData[changedKey];\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSelectItems(vm) {\r\n  //doorbell\r\n  vm.doorbellFileItems = [];\r\n  let doorbellFiles = vm.apiData.data.doorbellFile.split(\"\\n\");\r\n  for (let i = 0; i < doorbellFiles.length; i++) {\r\n    if (doorbellFiles[i] != \"\" && \r\n      (checkFileFormat(doorbellFiles[i], \".WAV\", 4) ||\r\n          checkFileFormat(doorbellFiles[i], \".MP3\", 4))) {\r\n      let item = {\r\n        key: doorbellFiles[i],\r\n        label: doorbellFiles[i],\r\n      };\r\n      vm.doorbellFileItems.push(item);\r\n    }\r\n  }\r\n  //alarm ringtone\r\n  vm.alarmRingtoneFileItems = [];\r\n  let item = {\r\n    key: vm.apiData.data.defaultAlarmRingtone,\r\n    label: \"default.wav\",\r\n  };\r\n  vm.alarmRingtoneFileItems.push(item);\r\n  let alarmRingtoneFiles = vm.apiData.data.alarmRingtoneFile.split(\"\\n\");\r\n  for (let i = 0; i < alarmRingtoneFiles.length; i++) {\r\n    if (alarmRingtoneFiles[i] != \"\" && \r\n      (checkFileFormat(alarmRingtoneFiles[i], \".WAV\", 4) ||\r\n          checkFileFormat(alarmRingtoneFiles[i], \".MP3\", 4))) {\r\n      let item = {\r\n        key: vm.apiData.data.alarmRingtonePath + alarmRingtoneFiles[i],\r\n        label: alarmRingtoneFiles[i],\r\n      };\r\n      vm.alarmRingtoneFileItems.push(item);\r\n    }\r\n  }\r\n}\r\n\r\nfunction createPageData(vm) {\r\n  vm.data = {\r\n    getDataSuccess: true,\r\n    breadCrumb: {\r\n      firstTitle: vm.$t(\"Phone\"),\r\n      secondTitle: vm.$t(\"Audio\"),\r\n    },\r\n    onSubmit: function () {\r\n      if (!checkCommitData(vm)) {\r\n        return;\r\n      }\r\n      getCommitData(vm);\r\n      submitData(vm);\r\n    },\r\n    onCancel: function () {\r\n      vm.data.cancelLoading = true;\r\n      getData(vm);\r\n    },\r\n    submitLoading: false,\r\n    cancelLoading: false,\r\n    contents: [],\r\n  };\r\n\r\n  createSelectItems(vm);\r\n\r\n  vm.data.contents.push(createVolumeContent(vm));\r\n  vm.data.contents.push(createDoorbellContent(vm));\r\n  vm.data.contents.push(createAlarmRingtoneContent(vm)); \r\n}\r\n\r\nfunction createAlarmRingtoneContent(vm) {\r\n  let content = {\r\n    key: \"alarmRingtoneUpload\",\r\n    title: vm.$t(\"AlarmRingToneUpload\"),\r\n    titleDescription: vm.$t(\"AlarmRingDesc\"),\r\n    items: [\r\n      {\r\n        title: vm.$t(\"AlarmRingToneUpload\"),\r\n        type: \"file-input\",\r\n        key: \"alarmRingtoneUpload\",\r\n        acceptFileType: \".wav,.mp3\",\r\n        modalTitle: vm.$t(\"FileLabel\") + \" (.wav/.mp3)\",\r\n        loading: false,\r\n        value: {\r\n          fileData: {},\r\n          fileName: vm.$t(\"UpgradeFilePath\"),\r\n        },\r\n        importBtnName: vm.$t(\"Import\"),\r\n        modalConfirmName: vm.$t(\"Upload\"),\r\n        uploadFunction: function () {\r\n          uploadSoundFile(vm, \"alarmRingtoneUpload\", \"alarmRingtoneUpload\");\r\n        },\r\n        description: vm.$t(\"AlarmRingToneUploadDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"AlarmRingTone\"),\r\n        type: \"select\",\r\n        key: \"Config.HomeSecurity0.CommonValue.AlarmRingTone\",\r\n        value:\r\n          vm.apiData.configData[\r\n            \"Config.HomeSecurity0.CommonValue.AlarmRingTone\"\r\n          ],\r\n        selectItems: vm.alarmRingtoneFileItems,\r\n        showBtn: true,\r\n        onDel: function (value) {\r\n          onDelFile(vm, value, \"alarmRingtoneUpload\", \"alarmRingtoneFile\");\r\n        },\r\n        loading: false,\r\n        delDisabled: false,\r\n        description: vm.$t(\"AlarmRingToneDesc\"),\r\n      },\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nfunction createDoorbellContent(vm) {\r\n  let content = {\r\n    key: \"doorbellSoundUpload\",\r\n    title: vm.$t(\"DoorbellSoundUpload\"),\r\n    titleDescription: vm.$t(\"DoorbellDesc\"),\r\n    items: [\r\n      {\r\n        title: vm.$t(\"DoorbellSoundUpload\"),\r\n        type: \"file-input\",\r\n        key: \"doorbellUpload\",\r\n        acceptFileType: \".wav,.mp3\",\r\n        modalTitle: vm.$t(\"FileLabel\") + \" (.wav/.mp3)\",\r\n        loading: false,\r\n        value: {\r\n          fileData: {},\r\n          fileName: vm.$t(\"UpgradeFilePath\"),\r\n        },\r\n        importBtnName: vm.$t(\"Import\"),\r\n        modalConfirmName: vm.$t(\"Upload\"),\r\n        uploadFunction: function () {\r\n          uploadSoundFile(vm, \"doorbellSoundUpload\", \"doorbellUpload\");\r\n        },\r\n        description: vm.$t(\"DoorbellSoundUploadDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"DoorbellSound\"),\r\n        type: \"select\",\r\n        key: \"doorbellSoundFile\",\r\n        value:\r\n          vm.doorbellFileItems.length == 0 ? \"\" : vm.doorbellFileItems[0].key,\r\n        selectItems: vm.doorbellFileItems,\r\n        showBtn: true,\r\n        onDel: function (value) {\r\n          onDelFile(vm, value, \"doorbellSoundUpload\", \"doorbellSoundFile\");\r\n        },\r\n        loading: false,\r\n        delDisabled: vm.doorbellFileItems.length == 0,\r\n        description: vm.$t(\"DoorbellSoundDesc\"),\r\n      },\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nfunction createVolumeContent(vm) {\r\n  let content = {\r\n    key: \"volumeControl\",\r\n    title: vm.$t(\"VolumeControl\"),\r\n    titleDescription: vm.$t(\"VolumeControlDesc\"),\r\n    items: [\r\n      {\r\n        title: vm.$t(\"MicVolume\"),\r\n        type: \"input\",\r\n        key: \"Config.Settings.HANDFREE.MicMidValue\",\r\n        value: vm.apiData.configData[\"Config.Settings.HANDFREE.MicMidValue\"],\r\n        showHint: true,\r\n        hintContent: \"(1~15)\",\r\n        isWarn: false,\r\n        warnLabel: vm.$t(\"MicVolumeRangeError\"),\r\n        description: vm.$t(\"MicVolumeDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"RingVolume\"),\r\n        type: \"input\",\r\n        key: \"Config.Settings.AUDIO.RingVol\",\r\n        value: vm.apiData.configData[\"Config.Settings.AUDIO.RingVol\"],\r\n        showHint: true,\r\n        hintContent: \"(0~15)\",\r\n        isWarn: false,\r\n        warnLabel: vm.$t(\"RingVolumeRangerError\"),\r\n        description: vm.$t(\"RingVolumeDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"TalkVolume\"),\r\n        type: \"input\",\r\n        key: \"Config.Settings.HANDFREE.SpkVol\",\r\n        value: vm.apiData.configData[\"Config.Settings.HANDFREE.SpkVol\"],\r\n        showHint: true,\r\n        hintContent: \"(1~15)\",\r\n        isWarn: false,\r\n        warnLabel: vm.$t(\"TalkVolumeRangeError\"),\r\n        description: vm.$t(\"TalkVolumeDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"ToneVolume\"),\r\n        type: \"input\",\r\n        key: \"Config.Settings.HANDFREE.SigToneVol\",\r\n        value: vm.apiData.configData[\"Config.Settings.HANDFREE.SigToneVol\"],\r\n        showHint: true,\r\n        hintContent: \"(1~15)\",\r\n        isWarn: false,\r\n        warnLabel: vm.$t(\"ToneVolumeRangeError\"),\r\n        description: vm.$t(\"ToneVolumeDesc\"),\r\n      },\r\n      {\r\n        title: vm.$t(\"MediaVolumeLabel\"),\r\n        type: \"input\",\r\n        key: \"Config.Settings.AUDIO.MediaVolume\",\r\n        value: vm.apiData.configData[\"Config.Settings.AUDIO.MediaVolume\"],\r\n        showHint: true,\r\n        hintContent: \"(0~15)\",\r\n        isWarn: false,\r\n        warnLabel: vm.$t(\"MediaVolumeRangeError\"),\r\n        description: vm.$t(\"MediaVolumeDesc\"),\r\n      },\r\n    ],\r\n  };\r\n  return content;\r\n}\r\n\r\nfunction uploadSoundFile(vm, contentKey, itemKey) {\r\n  let item = getItemByKey(vm.data, contentKey, itemKey);\r\n  let fileName = item.value.fileName;\r\n  if (fileName == \"\" || fileName == vm.$t(\"UpgradeFilePath\")) {\r\n    showErrorInfo(vm, vm.$t(\"FileEmptyWarning\"));\r\n    return;\r\n  }\r\n  \r\n  let comfirmLabel;\r\n  if(itemKey == \"doorbellUpload\"){\r\n    comfirmLabel = vm.$t(\"ImportDoorbellSoundWarning\");\r\n  } else {\r\n    comfirmLabel = vm.$t(\"ImportAlarmRingToneWarning\");\r\n  }\r\n\r\n  item.visible = true;\r\n  if (confirm(comfirmLabel)) {\r\n    //上传\r\n    item.loading = true;\r\n    const upData = new FormData();\r\n    upData.append(\"file\", item.value.fileData);\r\n    axios\r\n      .post(\"api/phoneAudio/upload?type=\" + itemKey, upData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (res.data.retcode == -1) {\r\n          showErrorInfo(vm, vm.$t(\"FileUploadFailedWarning\"));\r\n        } else if (res.data.retcode == 0) {\r\n          getData(vm);\r\n          showRequestSuccess(vm, vm.$t(\"UploadFileFinished\"));\r\n          item.visible = false;\r\n          item.value.fileName = vm.$t(\"UpgradeFilePath\");\r\n          item.value.fileData = {};\r\n        }\r\n        item.loading = false;\r\n      });\r\n  }\r\n}\r\n\r\nfunction onDelFile(vm, value, contentKey, itemKey) {\r\n  let realItemKey =\r\n    itemKey == \"alarmRingtoneFile\"\r\n      ? \"Config.HomeSecurity0.CommonValue.AlarmRingTone\"\r\n      : itemKey;\r\n  let requestData = {\r\n    target: \"phoneAudio\",\r\n    action: \"del\",\r\n    data: {\r\n      fileName: value,\r\n      type: itemKey,\r\n    },\r\n  };\r\n  getItemByKey(vm.data, contentKey, realItemKey).loading = true;\r\n  vm.$axios.post(\"api\", requestData).then((response) => {    \r\n    getItemByKey(vm.data, contentKey, realItemKey).loading = false;\r\n    getData(vm);\r\n    showRequestSuccess(vm);\r\n  });\r\n}\r\n</script>"]}]}